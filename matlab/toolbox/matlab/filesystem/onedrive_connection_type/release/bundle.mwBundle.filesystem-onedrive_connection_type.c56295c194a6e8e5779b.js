(function(){var y={"dojo/Deferred":"dojo/Deferred","dojo/Evented":"dojo/Evented","dojo/_base/Deferred":"dojo/_base/Deferred","dojo/_base/array":"dojo/_base/array","dojo/_base/config":"dojo/_base/config","dojo/_base/connect":"dojo/_base/connect","dojo/_base/declare":"dojo/_base/declare","dojo/_base/event":"dojo/_base/event","dojo/_base/json":"dojo/_base/json","dojo/_base/kernel":"dojo/_base/kernel","dojo/_base/lang":"dojo/_base/lang","dojo/_base/sniff":"dojo/_base/sniff","dojo/_base/window":"dojo/_base/window","dojo/_base/xhr":"dojo/_base/xhr","dojo/aspect":"dojo/aspect","dojo/dom-attr":"dojo/dom-attr","dojo/dom-construct":"dojo/dom-construct","dojo/dom-form":"dojo/dom-form","dojo/dom-geometry":"dojo/dom-geometry","dojo/dom-prop":"dojo/dom-prop","dojo/dom-style":"dojo/dom-style","dojo/dom":"dojo/dom","dojo/errors/CancelError":"dojo/errors/CancelError","dojo/errors/RequestError":"dojo/errors/RequestError","dojo/errors/RequestTimeoutError":"dojo/errors/RequestTimeoutError","dojo/errors/create":"dojo/errors/create","dojo/global":"dojo/global","dojo/has":"dojo/has","dojo/io-query":"dojo/io-query","dojo/json":"dojo/json","dojo/keys":"dojo/keys","dojo/mouse":"dojo/mouse","dojo/on":"dojo/on","dojo/promise/Promise":"dojo/promise/Promise","dojo/request/handlers":"dojo/request/handlers","dojo/request/script":"dojo/request/script","dojo/request/util":"dojo/request/util","dojo/request/watch":"dojo/request/watch","dojo/request/xhr":"dojo/request/xhr","dojo/sniff":"dojo/sniff","dojo/string":"dojo/string","dojo/topic":"dojo/topic","dojo/when":"dojo/when","0f61d0836dd0e1ddb9133339ecd37a05089dd4d5":"0f61d0836dd0e1ddb9133339ecd37a05089dd4d5","mw-remote/serviceRegistryLookup!":"mw-remote/serviceRegistryLookup!","5c4c15eb57c0aedd33f26ec99e40bef3f6221757":"5c4c15eb57c0aedd33f26ec99e40bef3f6221757","cometd/AckExtension":"cometd/AckExtension","cometd/cometd":"cometd/cometd","mw-deprecation-utils/deprecation":"mw-deprecation-utils/deprecation","mw-html-utils/HtmlUtils":"mw-html-utils/HtmlUtils","mw-html-utils/_parseHtml/sanitize":"mw-html-utils/_parseHtml/sanitize","mw-log/Log":"mw-log/Log","mw-log/impl/Backlog":"mw-log/impl/Backlog","mw-log/impl/Levels":"mw-log/impl/Levels","mw-log/impl/Modes":"mw-log/impl/Modes","mw-log/impl/Type":"mw-log/impl/Type","mw-log/util/LogForwardingUtils":"mw-log/util/LogForwardingUtils","mw-log/util/LogUtils":"mw-log/util/LogUtils","mw-messageservice/MessageService":"mw-messageservice/MessageService","mw-messageservice/messageserviceimpl/MessageServiceAsync":"mw-messageservice/messageserviceimpl/MessageServiceAsync","mw-messageservice/messageserviceimpl/MessageServiceBase":"mw-messageservice/messageserviceimpl/MessageServiceBase","mw-messageservice/messageserviceimpl/MessageServiceState":"mw-messageservice/messageserviceimpl/MessageServiceState","mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance","mw-messageservice/messageserviceimpl/instanceEnums":"mw-messageservice/messageserviceimpl/instanceEnums","mw-messageservice/messageserviceimpl/isValidChannel":"mw-messageservice/messageserviceimpl/isValidChannel","mw-messageservice/messageserviceimpl/messageServiceFactory":"mw-messageservice/messageserviceimpl/messageServiceFactory","mw-messageservice/messageserviceimpl/transportEnums":"mw-messageservice/messageserviceimpl/transportEnums","mw-oauth-client/OAuthClient":"mw-oauth-client/OAuthClient","mw-remote/EndPointsManager":"mw-remote/EndPointsManager","mw-remote/Remote":"mw-remote/Remote","mw-remote/RemoteEndPointsManager":"mw-remote/RemoteEndPointsManager","mw-remote/ReplaceUploadIframe":"mw-remote/ReplaceUploadIframe","mw-remote/UploadToWorker":"mw-remote/UploadToWorker","mw-remote/defaultMessageMapping":"mw-remote/defaultMessageMapping","mw-remote/iframeproxy/CheckUrlService":"mw-remote/iframeproxy/CheckUrlService","mw-remote/iframeproxy/IframeProxyClient":"mw-remote/iframeproxy/IframeProxyClient","mw-remote/impl/AutoDetectedTransaction":"mw-remote/impl/AutoDetectedTransaction","mw-remote/impl/FaultManager":"mw-remote/impl/FaultManager","mw-remote/impl/JsonTransaction":"mw-remote/impl/JsonTransaction","mw-remote/impl/RequestManager":"mw-remote/impl/RequestManager","mw-remote/impl/ResponseManager":"mw-remote/impl/ResponseManager","mw-remote/impl/Transaction":"mw-remote/impl/Transaction","mw-remote/serviceRegistryLookup":"mw-remote/serviceRegistryLookup","mw-remote/utils/RemoteUrlUtils":"mw-remote/utils/RemoteUrlUtils","mw-remote/utils/SecurityUtils":"mw-remote/utils/SecurityUtils","mw-remote/utils/SendMessageUtil":"mw-remote/utils/SendMessageUtil","mw-statemachine/StateMachine":"mw-statemachine/StateMachine","mw-statemachine/statemachineimpl/EventTrigger":"mw-statemachine/statemachineimpl/EventTrigger","mw-statemachine/statemachineimpl/MessageTrigger":"mw-statemachine/statemachineimpl/MessageTrigger","mw-statemachine/statemachineimpl/RemoteTrigger":"mw-statemachine/statemachineimpl/RemoteTrigger","mw-statemachine/statemachineimpl/State":"mw-statemachine/statemachineimpl/State","mw-statemachine/statemachineimpl/TimeoutTrigger":"mw-statemachine/statemachineimpl/TimeoutTrigger","mw-statemachine/statemachineimpl/Transition":"mw-statemachine/statemachineimpl/Transition","mw-statemachine/statemachineimpl/Trigger":"mw-statemachine/statemachineimpl/Trigger","mw-utils/Utils":"mw-utils/Utils","onedrive-connection-type-lib/impl/OneDriveConnectionType":"onedrive-connection-type-lib/impl/OneDriveConnectionType","onedrive-connection-type-lib/index":"onedrive-connection-type-lib/index","mw-mvm/CapabilitiesList":"mw-mvm/CapabilitiesList","mw-mvm/Capability":"mw-mvm/Capability","mw-mvm/ExecutionStatus":"mw-mvm/ExecutionStatus","mw-mvm/RunOptions":"mw-mvm/RunOptions","mw-mvm/UserMvm":"mw-mvm/UserMvm","mw-mvm/WhenToDequeue":"mw-mvm/WhenToDequeue","mw-mvm/impl/AttachDetach":"mw-mvm/impl/AttachDetach","mw-mvm/impl/Bang":"mw-mvm/impl/Bang","mw-mvm/impl/Connection":"mw-mvm/impl/Connection","mw-mvm/impl/ConnectionData":"mw-mvm/impl/ConnectionData","mw-mvm/impl/Debugger":"mw-mvm/impl/Debugger","mw-mvm/impl/EvalFevalCancel":"mw-mvm/impl/EvalFevalCancel","mw-mvm/impl/EventManager":"mw-mvm/impl/EventManager","mw-mvm/impl/MVM":"mw-mvm/impl/MVM","mw-mvm/impl/MVMConnection":"mw-mvm/impl/MVMConnection","mw-mvm/impl/MVMPromise":"mw-mvm/impl/MVMPromise","mw-mvm/impl/MVMSink":"mw-mvm/impl/MVMSink","mw-mvm/impl/More":"mw-mvm/impl/More","mw-mvm/impl/Pause":"mw-mvm/impl/Pause","mw-mvm/impl/RequestQueue":"mw-mvm/impl/RequestQueue","mw-mvm/impl/RootWindowContainer":"mw-mvm/impl/RootWindowContainer","mw-mvm/impl/RuntimeException":"mw-mvm/impl/RuntimeException","mw-mvm/impl/StackFrame":"mw-mvm/impl/StackFrame","mw-fctrl/Features":"mw-fctrl/Features"},P=this||window,e=P.webpackChunk=P.webpackChunk||[];if(e.registerAbsMids)e.registerAbsMids(y,{MW_BUNDLE_CHUNK_ID:"mwBundle.filesystem-onedrive_connection_type"});else{var C=e.absMidsWaiting=e.absMidsWaiting||[];C.push(y)}})(),(self.webpackChunk=self.webpackChunk||[]).push([["mwBundle.filesystem-onedrive_connection_type"],{"dojo/Deferred":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["0f61d0836dd0e1ddb9133339ecd37a05089dd4d5"])],A=e.dj.d(C,function(c,v,h,l,n){"use strict";var i=0,s=1,a=2,d="This deferred has already been fulfilled.",t=Object.freeze||function(){},o=function(f,m,M,S,x){c("config-deferredInstrumentation")&&m===a&&p.instrumentRejected&&f.length===0&&p.instrumentRejected(M,!1,S,x);for(var R=0;R<f.length;R++)r(f[R],m,M,S)},r=function(f,m,M,S){var x=f[m],R=f.deferred;if(x)try{var F=x(M);if(m===i)typeof F<"u"&&g(R,m,F);else{if(F&&typeof F.then=="function"){f.cancel=F.cancel,F.then(u(R,s),u(R,a),u(R,i));return}g(R,s,F)}}catch(T){g(R,a,T)}else g(R,m,M);c("config-deferredInstrumentation")&&m===a&&p.instrumentRejected&&p.instrumentRejected(M,!!x,S,R.promise)},u=function(f,m){return function(M){g(f,m,M)}},g=function(f,m,M){if(!f.isCanceled())switch(m){case i:f.progress(M);break;case s:f.resolve(M);break;case a:f.reject(M);break}},p=function(f){var m=this.promise=new l,M=this,S,x,R,F=!1,T=[];c("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(M,p),Error.captureStackTrace(m,p)),this.isResolved=m.isResolved=function(){return S===s},this.isRejected=m.isRejected=function(){return S===a},this.isFulfilled=m.isFulfilled=function(){return!!S},this.isCanceled=m.isCanceled=function(){return F},this.progress=function(E,N){if(S){if(N===!0)throw new Error(d);return m}else return o(T,i,E,null,M),m},this.resolve=function(E,N){if(S){if(N===!0)throw new Error(d);return m}else return o(T,S=s,x=E,null,M),T=null,m};var j=this.reject=function(E,N){if(S){if(N===!0)throw new Error(d);return m}else return c("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(R={},j),o(T,S=a,x=E,R,M),T=null,m};this.then=m.then=function(E,N,B){var D=[B,E,N];return D.cancel=m.cancel,D.deferred=new p(function(w){return D.cancel&&D.cancel(w)}),S&&!T?r(D,S,x,R):T.push(D),D.deferred.promise},this.cancel=m.cancel=function(E,N){if(S){if(N===!0)throw new Error(d)}else{if(f){var B=f(E);E=typeof B>"u"?E:B}if(F=!0,S){if(S===a&&x===E)return E}else return typeof E>"u"&&(E=new h),j(E),E}},t(m)};return p.prototype.toString=function(){return"[object Deferred]"},n&&n(p),p},y,P),y.exports=A},"dojo/Evented":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/on"])],A=e.dj.d(C,function(c,v){"use strict";var h=c.after;function l(){}return l.prototype={on:function(n,i){return v.parse(this,n,i,function(s,a){return h(s,"on"+a,i,!0)})},emit:function(n,i){var s=[this];return s.push.apply(s,arguments),v.emit.apply(v,s)}},l},y,P),y.exports=A},"dojo/_base/Deferred":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/when"])],A=e.dj.d(C,function(c,v,h,l,n,i,s){var a=function(){},d=Object.freeze||function(){},t=c.Deferred=function(o){var r,u,g,p,f,m,M,S=this.promise=new h;function x(T){if(u)throw new Error("This deferred has already been resolved");r=T,u=!0,R()}function R(){for(var T;!T&&M;){var j=M;M=M.next,(T=j.progress==a)&&(u=!1);var E=f?j.error:j.resolved;if(n("config-useDeferredInstrumentation")&&f&&v.instrumentRejected&&v.instrumentRejected(r,!!E),E)try{var N=E(r);if(N&&typeof N.then=="function"){N.then(i.hitch(j.deferred,"resolve"),i.hitch(j.deferred,"reject"),i.hitch(j.deferred,"progress"));continue}var B=T&&N===void 0;T&&!B&&(f=N instanceof Error),j.deferred[B&&f?"reject":"resolve"](B?r:N)}catch(D){j.deferred.reject(D)}else f?j.deferred.reject(r):j.deferred.resolve(r)}}this.isResolved=S.isResolved=function(){return p==0},this.isRejected=S.isRejected=function(){return p==1},this.isFulfilled=S.isFulfilled=function(){return p>=0},this.isCanceled=S.isCanceled=function(){return g},this.resolve=this.callback=function(T){this.fired=p=0,this.results=[T,null],x(T)},this.reject=this.errback=function(T){f=!0,this.fired=p=1,n("config-useDeferredInstrumentation")&&v.instrumentRejected&&v.instrumentRejected(T,!!M),x(T),this.results=[null,T]},this.progress=function(T){for(var j=M;j;){var E=j.progress;E&&E(T),j=j.next}},this.addCallbacks=function(T,j){return this.then(T,j,a),this},S.then=this.then=function(T,j,E){var N=E==a?this:new t(S.cancel),B={resolved:T,error:j,progress:E,deferred:N};return M?m=m.next=B:M=m=B,u&&R(),N.promise};var F=this;S.cancel=this.cancel=function(){if(!u){var T=o&&o(F);u||(T instanceof Error||(T=new l(T)),T.log=!1,F.reject(T))}g=!0},d(S)};return i.extend(t,{addCallback:function(o){return this.addCallbacks(i.hitch.apply(c,arguments))},addErrback:function(o){return this.addCallbacks(null,i.hitch.apply(c,arguments))},addBoth:function(o){var r=i.hitch.apply(c,arguments);return this.addCallbacks(r,r)},fired:-1}),t.when=c.when=s,t},y,P),y.exports=A},"dojo/_base/array":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c,v,h){var l={},n,i;v("csp-restrictions")||(i=function(t){return l[t]=new Function("item","index","array",t)});function s(t){var o=!t;return function(r,u,g){var p=0,f=r&&r.length||0,m;if(f&&typeof r=="string"&&(r=r.split("")),typeof u=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");u=l[u]||i(u)}if(g){for(;p<f;++p)if(m=!u.call(g,r[p],p,r),t^m)return!m}else for(;p<f;++p)if(m=!u(r[p],p,r),t^m)return!m;return o}}function a(t){var o=1,r=0,u=0;return t||(o=r=u=-1),function(g,p,f,m){if(m&&o>0)return d.lastIndexOf(g,p,f);var M=g&&g.length||0,S=t?M+u:r,x;for(f===n?x=t?r:M+u:f<0?(x=M+f,x<0&&(x=r)):x=f>=M?M+u:f,M&&typeof g=="string"&&(g=g.split(""));x!=S;x+=o)if(g[x]==p)return x;return-1}}var d={every:s(!1),some:s(!0),indexOf:a(!0),lastIndexOf:a(!1),forEach:function(t,o,r){var u=0,g=t&&t.length||0;if(g&&typeof t=="string"&&(t=t.split("")),typeof o=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");o=l[o]||i(o)}if(r)for(;u<g;++u)o.call(r,t[u],u,t);else for(;u<g;++u)o(t[u],u,t)},map:function(t,o,r,u){var g=0,p=t&&t.length||0,f=new(u||Array)(p);if(p&&typeof t=="string"&&(t=t.split("")),typeof o=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");o=l[o]||i(o)}if(r)for(;g<p;++g)f[g]=o.call(r,t[g],g,t);else for(;g<p;++g)f[g]=o(t[g],g,t);return f},filter:function(t,o,r){var u=0,g=t&&t.length||0,p=[],f;if(g&&typeof t=="string"&&(t=t.split("")),typeof o=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");o=l[o]||i(o)}if(r)for(;u<g;++u)f=t[u],o.call(r,f,u,t)&&p.push(f);else for(;u<g;++u)f=t[u],o(f,u,t)&&p.push(f);return p},clearCache:function(){l={}}};return v("extend-dojo")&&h.mixin(c,d),d},y,P),y.exports=A},"dojo/_base/config":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"]),e.dj.c(y)],A=e.dj.d(C,function(c,v,h){var l={};if(v("dojo-config-api")){var n=h.rawConfig,i;for(i in n)l[i]=n[i]}else{var s=function(d,t,o){for(i in d)i!="has"&&v.add(t+i,d[i],0,o)};l=v("dojo-loader")?h.rawConfig:c.dojoConfig||c.djConfig||{},s(l,"config",1),s(l.has,"",1)}if(l.updateLocale=function(d,t){var o,r,u="en-us";if(d.indexOf(t)>=0&&t!=="zh"){l.locale=t;return}if(o=t.split("-")[0],o==="zh"){l.locale=u.toLocaleLowerCase();return}for(var g=0;g<d.length;g=g+1)if(r=d[g].split("-")[0],o===r){l.locale=d[g];break}l.locale||(l.locale=u.toLowerCase())},!l.locale&&typeof navigator<"u"){var a=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage;a=l._testLanguageOverride||a,a&&(a=a.toLowerCase(),l.supportedLocales&&l.updateLocale(l.supportedLocales,a))}return l.locale||(l.locale="en-us"),l},y,P),y.exports=A},"dojo/_base/connect":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/topic"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/_base/event"]),e(e.dj.r.absMids["dojo/mouse"]),e(e.dj.r.absMids["dojo/_base/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/keys"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a){s.add("events-keypress-typed",function(){var m={charCode:0};try{m=document.createEvent("KeyboardEvent"),(m.initKeyboardEvent||m.initKeyEvent).call(m,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(M){}return m.charCode==0&&!s("opera")});function d(m,M,S,x,R){if(x=a.hitch(S,x),!m||!(m.addEventListener||m.attachEvent))return l.after(m||c.global,M,x,!0);if(typeof M=="string"&&M.substring(0,2)=="on"&&(M=M.substring(2)),m||(m=c.global),!R)switch(M){case"keypress":M=g;break;case"mouseenter":M=i.enter;break;case"mouseleave":M=i.leave;break}return v(m,M,x,R)}var t={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},o=s("mac")?"metaKey":"ctrlKey",r=function(m,M){var S=a.mixin({},m,M);return u(S),S.preventDefault=function(){m.preventDefault()},S.stopPropagation=function(){m.stopPropagation()},S};function u(m){m.keyChar=m.charCode?String.fromCharCode(m.charCode):"",m.charOrCode=m.keyChar||m.keyCode}var g;if(s("events-keypress-typed")){var p=function(m,M){try{return m.keyCode=M}catch(S){return 0}};g=function(m,M){var S=v(m,"keydown",function(R){var F=R.keyCode,T=F!=13&&F!=32&&(F!=27||!s("ie"))&&(F<48||F>90)&&(F<96||F>111)&&(F<186||F>192)&&(F<219||F>222)&&F!=229;if(T||R.ctrlKey){var j=T?0:F;if(R.ctrlKey){if(F==3||F==13)return M.call(R.currentTarget,R);j>95&&j<106?j-=48:!R.shiftKey&&j>=65&&j<=90?j+=32:j=t[j]||j}var E=r(R,{type:"keypress",faux:!0,charCode:j});M.call(R.currentTarget,E),s("ie")&&p(R,E.keyCode)}}),x=v(m,"keypress",function(R){var F=R.charCode;return F=F>=32?F:0,R=r(R,{charCode:F,faux:!0}),M.call(this,R)});return{remove:function(){S.remove(),x.remove()}}}}else s("opera")?g=function(m,M){return v(m,"keypress",function(S){var x=S.which;return x==3&&(x=99),x=x<32&&!S.shiftKey?0:x,S.ctrlKey&&!S.shiftKey&&x>=65&&x<=90&&(x+=32),M.call(this,r(S,{charCode:x}))})}:g=function(m,M){return v(m,"keypress",function(S){return u(S),M.call(this,S)})};var f={_keypress:g,connect:function(m,M,S,x,R){var F=arguments,T=[],j=0;T.push(typeof F[0]=="string"?null:F[j++],F[j++]);var E=F[j+1];T.push(typeof E=="string"||typeof E=="function"?F[j++]:null,F[j++]);for(var N=F.length;j<N;j++)T.push(F[j]);return d.apply(this,T)},disconnect:function(m){m&&m.remove()},subscribe:function(m,M,S){return h.subscribe(m,a.hitch(M,S))},publish:function(m,M){return h.publish.apply(h,[m].concat(M))},connectPublisher:function(m,M,S){var x=function(){f.publish(m,arguments)};return S?f.connect(M,S,x):f.connect(M,x)},isCopyKey:function(m){return m[o]}};return f.unsubscribe=f.disconnect,s("extend-dojo")&&a.mixin(c,f),f},y,P),y.exports=A},"dojo/_base/declare":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c,v,h){var l=h.mixin,n=Object.prototype,i=n.toString,s,a=0,d="constructor";v("csp-restrictions")?s=function(){}:s=new Function;function t(D,w){throw new Error("declare"+(w?" "+w:"")+": "+D)}function o(D,w){for(var I=[],U=[{cls:0,refs:[]}],k={},O=1,H=D.length,G=0,Y,_,Q,X,Z,ne,ie,oe;G<H;++G){for(Q=D[G],Q?i.call(Q)!="[object Function]"&&t("mixin #"+G+" is not a callable constructor.",w):t("mixin #"+G+" is unknown. Did you use dojo.require to pull it in?",w),_=Q._meta?Q._meta.bases:[Q],X=0,Y=_.length-1;Y>=0;--Y)Z=_[Y].prototype,Z.hasOwnProperty("declaredClass")||(Z.declaredClass="uniqName_"+a++),ie=Z.declaredClass,k.hasOwnProperty(ie)||(k[ie]={count:0,refs:[],cls:_[Y]},++O),ne=k[ie],X&&X!==ne&&(ne.refs.push(X),++X.count),X=ne;++X.count,U[0].refs.push(X)}for(;U.length;){for(X=U.pop(),I.push(X.cls),--O;oe=X.refs,oe.length==1;){if(X=oe[0],!X||--X.count){X=0;break}I.push(X.cls),--O}if(X)for(G=0,H=oe.length;G<H;++G)X=oe[G],--X.count||U.push(X)}return O&&t("can't build consistent linearization",w),Q=D[0],I[0]=Q?Q._meta&&Q===I[I.length-Q._meta.bases.length]?Q._meta.bases.length:1:0,I}function r(D,w,I,U){var k,O,H,G,Y,_,Q,X,Z,ne=this._inherited=this._inherited||{};if(typeof D=="string"&&(k=D,D=w,w=I,I=U),typeof D=="function")G=D,D=w,w=I;else try{G=D.callee}catch(ie){if(ie instanceof TypeError)t("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw ie}if(k=k||G.nom,k||t("can't deduce a name to call inherited()",this.declaredClass),I=U=0,Y=this.constructor._meta,H=Y.bases,Z=ne.p,k!=d){if(ne.c!==G&&(Z=0,_=H[0],Y=_._meta,Y.hidden[k]!==G)){O=Y.chains,O&&typeof O[k]=="string"&&t("calling chained method with inherited: "+k,this.declaredClass);do if(Y=_._meta,Q=_.prototype,Y&&(Q[k]===G&&Q.hasOwnProperty(k)||Y.hidden[k]===G))break;while(_=H[++Z]);Z=_?Z:-1}if(_=H[++Z],_)if(Q=_.prototype,_._meta&&Q.hasOwnProperty(k))I=Q[k];else{X=n[k];do if(Q=_.prototype,I=Q[k],I&&(_._meta?Q.hasOwnProperty(k):I!==X))break;while(_=H[++Z])}I=_&&I||n[k]}else{if(ne.c!==G&&(Z=0,Y=H[0]._meta,Y&&Y.ctor!==G)){for(O=Y.chains,(!O||O.constructor!=="manual")&&t("calling chained constructor with inherited",this.declaredClass);(_=H[++Z])&&(Y=_._meta,!(Y&&Y.ctor===G)););Z=_?Z:-1}for(;(_=H[++Z])&&(Y=_._meta,I=Y?Y.ctor:_,!I););I=_&&I}if(ne.c=I,ne.p=Z,I)return w===!0?I:I.apply(this,w||D)}function u(D,w,I){return typeof D=="string"?typeof w=="function"?this.__inherited(D,w,I,!0):this.__inherited(D,w,!0):typeof D=="function"?this.__inherited(D,w,!0):this.__inherited(D,!0)}function g(D,w,I,U){var k=this.getInherited(D,w,I);if(k)return k.apply(this,U||I||w||D)}var p=c.config.isDebug?g:r;function f(D){for(var w=this.constructor._meta.bases,I=0,U=w.length;I<U;++I)if(w[I]===D)return!0;return this instanceof D}function m(D,w){for(var I in w)I!=d&&w.hasOwnProperty(I)&&(D[I]=w[I]);if(v("bug-for-in-skips-shadowed"))for(var U=h._extraNames,k=U.length;k;)I=U[--k],I!=d&&w.hasOwnProperty(I)&&(D[I]=w[I])}function M(D,w){var I,U;for(I in w)U=w[I],(U!==n[I]||!(I in n))&&I!=d&&(i.call(U)=="[object Function]"&&(U.nom=I),D[I]=U);if(v("bug-for-in-skips-shadowed")&&w)for(var k=h._extraNames,O=k.length;O;)I=k[--O],U=w[I],(U!==n[I]||!(I in n))&&I!=d&&(i.call(U)=="[object Function]"&&(U.nom=I),D[I]=U);return D}function S(D){return B.safeMixin(this.prototype,D),this}function x(D,w){return D instanceof Array||typeof D=="function"||(w=D,D=void 0),w=w||{},D=D||[],B([this].concat(D),w)}function R(D,w){return function(){var I=arguments,U=I,k=I[0],O,H,G,Y=D.length,_;try{if(!(this instanceof I.callee))return N(I)}catch(Q){}if(w&&(k&&k.preamble||this.preamble))for(_=new Array(D.length),_[0]=I,H=0;k=I[0],k&&(O=k.preamble,O&&(I=O.apply(this,I)||I)),O=D[H].prototype,O=O.hasOwnProperty("preamble")&&O.preamble,O&&(I=O.apply(this,I)||I),++H!=Y;)_[H]=I;for(H=Y-1;H>=0;--H)O=D[H],G=O._meta,O=G?G.ctor:O,O&&O.apply(this,_?_[H]:I);O=this.postscript,O&&O.apply(this,U)}}function F(D,w){return function(){var I=arguments,U=I,k=I[0],O;try{if(!(this instanceof I.callee))return N(I)}catch(H){}w&&(k&&(O=k.preamble,O&&(U=O.apply(this,U)||U)),O=this.preamble,O&&O.apply(this,U)),D&&D.apply(this,I),O=this.postscript,O&&O.apply(this,I)}}function T(D){return function(){var w=arguments,I=0,U,k;try{if(!(this instanceof w.callee))return N(w)}catch(O){}for(;U=D[I];++I)if(k=U._meta,U=k?k.ctor:U,U){U.apply(this,w);break}U=this.postscript,U&&U.apply(this,w)}}function j(D,w,I){return function(){var U,k,O,H=0,G=1;for(I&&(H=w.length-1,G=-1);U=w[H];H+=G)k=U._meta,O=(k?k.hidden:U.prototype)[D],O&&O.apply(this,arguments)}}function E(D){s.prototype=D.prototype;var w=new s;return s.prototype=null,w}function N(D){var w=D.callee,I=E(w);return w.apply(I,D),I}function B(D,w,I){typeof D!="string"&&(I=w,w=D,D=""),I=I||{};var U,k,O,H,G,Y,_,Q=1,X=w;if(i.call(w)=="[object Array]"?(Y=o(w,D),O=Y[0],Q=Y.length-O,w=Y[Q]):(Y=[0],w?i.call(w)=="[object Function]"?(O=w._meta,Y=Y.concat(O?O.bases:w)):t("base class is not a callable constructor.",D):w!==null&&t("unknown base class. Did you use dojo.require to pull it in?",D)),w)for(k=Q-1;U=E(w),!!k;--k)O=Y[k],(O._meta?m:l)(U,O.prototype),v("csp-restrictions")?H=function(){}:H=new Function,H.superclass=w,H.prototype=U,w=U.constructor=H;else U={};for(B.safeMixin(U,I),O=I.constructor,O!==n.constructor&&(O.nom=d,U.constructor=O),k=Q-1;k;--k)O=Y[k]._meta,O&&O.chains&&(_=l(_||{},O.chains));if(U["-chains-"]&&(_=l(_||{},U["-chains-"])),w&&w.prototype&&w.prototype["-chains-"]&&(_=l(_||{},w.prototype["-chains-"])),O=!_||!_.hasOwnProperty(d),Y[0]=H=_&&_.constructor==="manual"?T(Y):Y.length==1?F(I.constructor,O):R(Y,O),H._meta={bases:Y,hidden:I,chains:_,parents:X,ctor:I.constructor},H.superclass=w&&w.prototype,H.extend=S,H.createSubclass=x,H.prototype=U,U.constructor=H,U.getInherited=u,U.isInstanceOf=f,U.inherited=p,U.__inherited=r,D&&(U.declaredClass=D,h.setObject(D,H)),_)for(G in _)U[G]&&typeof _[G]=="string"&&G!=d&&(O=U[G]=j(G,Y,_[G]==="after"),O.nom=G);return H}return c.safeMixin=B.safeMixin=M,c.declare=B,B},y,P),y.exports=A},"dojo/_base/event":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/dom-geometry"])],A=e.dj.d(C,function(c,v,h,l){if(v._fixEvent){var n=v._fixEvent;v._fixEvent=function(s,a){return s=n(s,a),s&&l.normalizeEvent(s),s}}var i={fix:function(s,a){return v._fixEvent?v._fixEvent(s,a):s},stop:function(s){h("dom-addeventlistener")||s&&s.preventDefault?(s.preventDefault(),s.stopPropagation()):(s=s||window.event,s.cancelBubble=!0,v._preventDefault.call(s))}};return h("extend-dojo")&&(c.fixEvent=i.fix,c.stopEvent=i.stop),i},y,P),y.exports=A},"dojo/_base/json":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/json"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="	",dojo.toJson=function(y,P){return json.stringify(y,function(e,C){if(C){var A=C.__json__||C.json;if(typeof A=="function")return A.call(C)}return C},P&&dojo.toJsonIndentStr)},dojo},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/_base/kernel":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/config"]),e.dj.c(y),e.dj.m(y)],A=e.dj.d(C,function(c,v,h,l,n){var i,s,a={},d={},t={config:h,global:c,dijit:a,dojox:d},o={dojo:["dojo",t],dijit:["dijit",a],dojox:["dojox",d]},r=l.map&&l.map[n.id.match(/[^\/]+/)[0]],u;for(s in r)o[s]?o[s][0]=r[s]:o[s]=[r[s],{}];for(s in o)u=o[s],u[1]._scopeName=u[0],h.noGlobals||(c[u[0]]=u[1]);t.scopeMap=o,t.baseUrl=t.config.baseUrl=l.baseUrl,t.isAsync=!v("dojo-loader")||l.async,t.locale=h.locale;var g="$Rev:$".match(/[0-9a-f]{7,}/);if(t.version={major:1,minor:17,patch:1,flag:"",revision:g?g[0]:NaN,toString:function(){var M=t.version;return M.major+"."+M.minor+"."+M.patch+M.flag+" ("+M.revision+")"}},v.add("extend-dojo",1),v("csp-restrictions")||Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(t),v("host-rhino")?t.exit=function(M){quit(M)}:t.exit=function(){},v("host-webworker")||v.add("dojo-guarantee-console",1),v("dojo-guarantee-console")){v.add("console-as-object",function(){return Function.prototype.bind&&console&&typeof console.log=="object"}),typeof console<"u"||(console={});var p=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"],f;for(i=0;f=p[i++];)console[f]?v("console-as-object")&&(console[f]=Function.prototype.bind.call(console[f],console)):function(){var M=f+"";console[M]="log"in console?function(){var S=Array.prototype.slice.call(arguments);S.unshift(M+":"),console.log(S.join(" "))}:function(){},console[M]._fake=!0}()}if(v.add("dojo-debug-messages",!!h.isDebug),t.deprecated=t.experimental=function(){},v("dojo-debug-messages")&&(t.deprecated=function(M,S,x){var R="DEPRECATED: "+M;S&&(R+=" "+S),x&&(R+=" -- will be removed in version: "+x),console.warn(R)},t.experimental=function(M,S){var x="EXPERIMENTAL: "+M+" -- APIs subject to change without notice.";S&&(x+=" "+S),console.warn(x)}),v.add("dojo-modulePaths",1),v("dojo-modulePaths")&&h.modulePaths){t.deprecated("dojo.modulePaths","use paths configuration");var m={};for(s in h.modulePaths)m[s.replace(/\./g,"/")]=h.modulePaths[s];l({paths:m})}return v.add("dojo-moduleUrl",1),v("dojo-moduleUrl")&&(t.moduleUrl=function(M,S){t.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var x=null;return M&&(x=l.toUrl(M.replace(/\./g,"/")+(S?"/"+S:"")+"/*.*").replace(/\/\*\.\*/,"")+(S?"":"/")),x}),t._hasResource={},t},y,P),y.exports=A},"dojo/_base/lang":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/sniff"])],A=e.dj.d(C,function(c,v){v.add("bug-for-in-skips-shadowed",function(){for(var t in{toString:1})return 0;return 1});var h=v("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],l=h.length,n=function(t,o,r){r||(t[0]&&c.scopeMap[t[0]]?r=c.scopeMap[t.shift()][1]:r=c.global);try{for(var u=0;u<t.length;u++){var g=t[u];if(g==="__proto__"||g==="constructor")return;if(!(g in r))if(o)r[g]={};else return;r=r[g]}return r}catch(p){}},i=Object.prototype.toString,s=function(t,o,r){return(r||[]).concat(Array.prototype.slice.call(t,o||0))},a=/\{([^\}]+)\}/g,d={_extraNames:h,_mixin:function(t,o,r){var u,g,p,f={};for(u in o)g=o[u],(!(u in t)||t[u]!==g&&(!(u in f)||f[u]!==g))&&(t[u]=r?r(g):g);if(v("bug-for-in-skips-shadowed")&&o)for(p=0;p<l;++p)u=h[p],g=o[u],(!(u in t)||t[u]!==g&&(!(u in f)||f[u]!==g))&&(t[u]=r?r(g):g);return t},mixin:function(t,o){t||(t={});for(var r=1,u=arguments.length;r<u;r++)d._mixin(t,arguments[r]);return t},setObject:function(t,o,r){var u=t.split("."),g=u.pop(),p=n(u,!0,r);return p&&g?p[g]=o:void 0},getObject:function(t,o,r){return t?n(t.split("."),o,r):r},exists:function(t,o){return d.getObject(t,!1,o)!==void 0},isString:function(t){return typeof t=="string"||t instanceof String},isArray:Array.isArray||function(t){return i.call(t)=="[object Array]"},isFunction:function(t){return i.call(t)==="[object Function]"},isObject:function(t){return t!==void 0&&(t===null||typeof t=="object"||d.isArray(t)||d.isFunction(t))},isArrayLike:function(t){return!!t&&!d.isString(t)&&!d.isFunction(t)&&!(t.tagName&&t.tagName.toLowerCase()=="form")&&(d.isArray(t)||isFinite(t.length))},isAlien:function(t){return t&&!d.isFunction(t)&&/\{\s*\[native code\]\s*\}/.test(String(t))},extend:function(t,o){for(var r=1,u=arguments.length;r<u;r++)d._mixin(t.prototype,arguments[r]);return t},_hitchArgs:function(t,o){var r=d._toArray(arguments,2),u=d.isString(o);return function(){var g=d._toArray(arguments),p=u?(t||c.global)[o]:o;return p&&p.apply(t||this,r.concat(g))}},hitch:function(t,o){if(arguments.length>2)return d._hitchArgs.apply(c,arguments);if(o||(o=t,t=null),d.isString(o)){if(t=t||c.global,!t[o])throw['lang.hitch: scope["',o,'"] is null (scope="',t,'")'].join("");return function(){return t[o].apply(t,arguments||[])}}return t?function(){return o.apply(t,arguments||[])}:o},delegate:function(){function t(){}return function(o,r){t.prototype=o;var u=new t;return t.prototype=null,r&&d._mixin(u,r),u}}(),_toArray:v("ie")?function(){function t(o,r,u){for(var g=u||[],p=r||0;p<o.length;p++)g.push(o[p]);return g}return function(o){return(o.item?t:s).apply(this,arguments)}}():s,partial:function(t){var o=[null];return d.hitch.apply(c,o.concat(d._toArray(arguments)))},clone:function(t){if(!t||typeof t!="object"||d.isFunction(t))return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);var o,r,u;if(d.isArray(t))for(o=[],r=0,u=t.length;r<u;++r)r in t&&(o[r]=d.clone(t[r]));else o=t.constructor?new t.constructor:{};return d._mixin(o,t,d.clone)},trim:String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(t,o,r){return t.replace(r||a,d.isFunction(o)?o:function(u,g){return d.getObject(g,!1,o)})}};return v("extend-dojo")&&d.mixin(c,d),d},y,P),y.exports=A},"dojo/_base/sniff":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/sniff"])],A=e.dj.d(C,function(c,v,h){return h("host-browser")&&(c._name="browser",v.mixin(c,{isBrowser:!0,isFF:h("ff"),isIE:h("ie"),isKhtml:h("khtml"),isWebKit:h("webkit"),isMozilla:h("mozilla"),isMoz:h("mozilla"),isOpera:h("opera"),isSafari:h("safari"),isChrome:h("chrome"),isMac:h("mac"),isIos:h("ios"),isAndroid:h("android"),isWii:h("wii"),isQuirks:h("quirks"),isAir:h("air")})),h},y,P),y.exports=A},"dojo/_base/window":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/sniff"])],A=e.dj.d(C,function(c,v,h){var l={global:c.global,doc:c.global.document||null,body:function(n){return n=n||c.doc,n.body||n.getElementsByTagName("body")[0]},setContext:function(n,i){c.global=l.global=n,c.doc=l.doc=i},withGlobal:function(n,i,s,a){var d=c.global;try{return c.global=l.global=n,l.withDoc.call(null,n.document,i,s,a)}finally{c.global=l.global=d}},withDoc:function(n,i,s,a){var d=l.doc,t=h("quirks"),o=h("ie"),r,u,g;try{return c.doc=l.doc=n,c.isQuirks=h.add("quirks",c.doc.compatMode=="BackCompat",!0,!0),h("ie")&&(g=n.parentWindow)&&g.navigator&&(r=parseFloat(g.navigator.appVersion.split("MSIE ")[1])||void 0,u=n.documentMode,u&&u!=5&&Math.floor(r)!=u&&(r=u),c.isIE=h.add("ie",r,!0,!0)),s&&typeof i=="string"&&(i=s[i]),i.apply(s,a||[])}finally{c.doc=l.doc=d,c.isQuirks=h.add("quirks",t,!0,!0),c.isIE=h.add("ie",o,!0,!0)}}};return h("extend-dojo")&&v.mixin(c,l),l},y,P),y.exports=A},"dojo/_base/xhr":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/sniff"]),e.dj.c(y),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-form"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["dojo/_base/json"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/request/watch"]),e(e.dj.r.absMids["dojo/request/xhr"]),e(e.dj.r.absMids["dojo/request/util"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a,d,t,o,r,u,g,p,f){c._xhrObj=p._create;var m=c.config;c.objectToQuery=l.objectToQuery,c.queryToObject=l.queryToObject,c.fieldToObject=i.fieldToObject,c.formToObject=i.toObject,c.formToQuery=i.toQuery,c.formToJson=i.toJson,c._blockAsync=!1;var M=c._contentHandlers=c.contentHandlers={text:function(j){return j.responseText},json:function(j){return d.fromJson(j.responseText||null)},"json-comment-filtered":function(j){a.useCommentedJson||console.warn(`Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&
Use djConfig.useCommentedJson=true to turn off this message.`);var E=j.responseText,N=E.indexOf("/*"),B=E.lastIndexOf("*/");if(N==-1||B==-1)throw new Error("JSON was not comment filtered");return d.fromJson(E.substring(N+2,B))},javascript:function(j){return c.eval(j.responseText)},xml:function(j){var E=j.responseXML;if(E&&v("dom-qsa2.1")&&!E.querySelectorAll&&v("dom-parser")&&(E=new DOMParser().parseFromString(j.responseText,"application/xml")),v("ie")&&(!E||!E.documentElement)){var N=function(D){return"MSXML"+D+".DOMDocument"},B=["Microsoft.XMLDOM",N(6),N(4),N(3),N(2)];o.some(B,function(D){try{var w=new ActiveXObject(D);w.async=!1,w.loadXML(j.responseText),E=w}catch(I){return!1}return!0})}return E},"json-comment-optional":function(j){return j.responseText&&/^[^{\[]*\/\*/.test(j.responseText)?M["json-comment-filtered"](j):M.json(j)}};c._ioSetArgs=function(j,E,N,B){var D={args:j,url:j.url},w=null;if(j.form){var I=n.byId(j.form),U=I.getAttributeNode("action");D.url=D.url||(U?U.value:c.doc?c.doc.URL:null),w=i.toObject(I)}var k={};w&&t.mixin(k,w),j.content&&t.mixin(k,j.content),j.preventCache&&(k["dojo.preventCache"]=new Date().valueOf()),D.query=l.objectToQuery(k),D.handleAs=j.handleAs||"text";var O=new s(function(_){_.canceled=!0,E&&E(_);var Q=_.ioArgs.error;return Q||(Q=new Error("request cancelled"),Q.dojoType="cancel",_.ioArgs.error=Q),Q});O.addCallback(N);var H=j.load;H&&t.isFunction(H)&&O.addCallback(function(_){return H.call(j,_,D)});var G=j.error;G&&t.isFunction(G)&&O.addErrback(function(_){return G.call(j,_,D)});var Y=j.handle;return Y&&t.isFunction(Y)&&O.addBoth(function(_){return Y.call(j,_,D)}),O.addErrback(function(_){return B(_,O)}),m.ioPublish&&c.publish&&D.args.ioPublish!==!1&&(O.addCallbacks(function(_){return c.publish("/dojo/io/load",[O,_]),_},function(_){return c.publish("/dojo/io/error",[O,_]),_}),O.addBoth(function(_){return c.publish("/dojo/io/done",[O,_]),_})),O.ioArgs=D,O};var S=function(j){var E=M[j.ioArgs.handleAs](j.ioArgs.xhr);return E===void 0?null:E},x=function(j,E){return E.ioArgs.args.failOk||console.error(j),j},R=function(j){F<=0&&(F=0,m.ioPublish&&c.publish&&(!j||j&&j.ioArgs.args.ioPublish!==!1)&&c.publish("/dojo/io/stop"))},F=0;u.after(g,"_onAction",function(){F-=1}),u.after(g,"_onInFlight",R),c._ioCancelAll=g.cancelAll,c._ioNotifyStart=function(j){m.ioPublish&&c.publish&&j.ioArgs.args.ioPublish!==!1&&(F||c.publish("/dojo/io/start"),F+=1,c.publish("/dojo/io/send",[j]))},c._ioWatch=function(j,E,N,B){var D=j.ioArgs.options=j.ioArgs.args;t.mixin(j,{response:j.ioArgs,isValid:function(w){return E(j)},isReady:function(w){return N(j)},handleResponse:function(w){return B(j)}}),g(j),R(j)};var T="application/x-www-form-urlencoded";return c._ioAddQueryToUrl=function(j){j.query.length&&(j.url+=(j.url.indexOf("?")==-1?"?":"&")+j.query,j.query=null)},c.xhr=function(j,E,N){var B,D=c._ioSetArgs(E,function(U){B&&B.cancel()},S,x),w=D.ioArgs;"postData"in E?w.query=E.postData:"putData"in E?w.query=E.putData:"rawBody"in E?w.query=E.rawBody:(arguments.length>2&&!N||"POST|PUT".indexOf(j.toUpperCase())===-1)&&c._ioAddQueryToUrl(w);var I={method:j,handleAs:"text",timeout:E.timeout,withCredentials:E.withCredentials,ioArgs:w};typeof E.headers<"u"&&(I.headers=E.headers),typeof E.contentType<"u"&&(I.headers||(I.headers={}),I.headers["Content-Type"]=E.contentType),typeof w.query<"u"&&(I.data=w.query),typeof E.sync<"u"&&(I.sync=E.sync),c._ioNotifyStart(D);try{B=p(w.url,I,!0)}catch(U){return D.cancel(),D}return D.ioArgs.xhr=B.response.xhr,B.then(function(){D.resolve(D)}).otherwise(function(U){w.error=U,U.response&&(U.status=U.response.status,U.responseText=U.response.text,U.xhr=U.response.xhr),D.reject(U)}),D},c.xhrGet=function(j){return c.xhr("GET",j)},c.rawXhrPost=c.xhrPost=function(j){return c.xhr("POST",j,!0)},c.rawXhrPut=c.xhrPut=function(j){return c.xhr("PUT",j,!0)},c.xhrDelete=function(j){return c.xhr("DELETE",j)},c._isDocumentOk=function(j){return f.checkStatus(j.status)},c._getText=function(j){var E;return c.xhrGet({url:j,sync:!0,load:function(N){E=N}}),E},t.mixin(c.xhr,{_xhrObj:c._xhrObj,fieldToObject:i.fieldToObject,formToObject:i.toObject,objectToQuery:l.objectToQuery,formToQuery:i.toQuery,formToJson:i.toJson,queryToObject:l.queryToObject,contentHandlers:M,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete}),c.xhr},y,P),y.exports=A},"dojo/aspect":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c;function v(s,a,d,t){var o=s[a],r=a=="around",u;if(r){var g=d(function(){return o.advice(this,arguments)});u={remove:function(){g&&(g=s=d=null)},advice:function(p,f){return g?g.apply(p,f):o.advice(p,f)}}}else u={remove:function(){if(u.advice){var p=u.previous,f=u.next;!f&&!p?delete s[a]:(p?p.next=f:s[a]=f,f&&(f.previous=p)),s=d=u.advice=null}},id:s.nextId++,advice:d,receiveArguments:t};if(o&&!r)if(a=="after"){for(;o.next&&(o=o.next););o.next=u,u.previous=o}else a=="before"&&(s[a]=u,u.next=o,o.previous=u);else s[a]=u;return u}function h(s){return function(a,d,t,o){var r=a[d],u;(!r||r.target!=a)&&(a[d]=u=function(){for(var p=u.nextId,f=arguments,m=u.before;m;)m.advice&&(f=m.advice.apply(this,f)||f),m=m.next;if(u.around)var M=u.around.advice(this,f);for(var S=u.after;S&&S.id<p;){if(S.advice)if(S.receiveArguments){var x=S.advice.apply(this,f);M=x===c?M:x}else M=S.advice.call(this,M,f);S=S.next}return M},r&&(u.around={advice:function(p,f){return r.apply(p,f)}}),u.target=a,u.nextId=u.nextId||0);var g=v(u||r,s,t,o);return t=null,g}}var l=h("after"),n=h("before"),i=h("around");return{before:n,around:i,after:l}},y,P),y.exports=A},"dojo/dom-attr":(y,P,e)=>{var C,A;C=[P,e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"]),e(e.dj.r.absMids["dojo/dom-prop"])],A=e.dj.d(C,function(c,v,h,l,n,i){var s={innerHTML:1,textContent:1,className:1,htmlFor:v("ie")?1:0,value:1},a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function d(t,o){var r=t.getAttributeNode&&t.getAttributeNode(o);return!!r&&r.specified}c.has=function(o,r){var u=r.toLowerCase();return!!s[i.names[u]||r]||d(l.byId(o),a[u]||r)},c.get=function(o,r){o=l.byId(o);var u=r.toLowerCase(),g=i.names[u]||r,p=s[g],f=o[g];if(p&&typeof f<"u")return f;if(g=="textContent")return i.get(o,g);if(g!="href"&&(typeof f=="boolean"||h.isFunction(f)))return f;var m=a[u]||r;return d(o,m)?o.getAttribute(m):null},c.set=function(o,r,u){if(o=l.byId(o),arguments.length==2){for(var g in r)c.set(o,g,r[g]);return o}var p=r.toLowerCase(),f=i.names[p]||r,m=s[f];return f=="style"&&typeof u!="string"?(n.set(o,u),o):m||typeof u=="boolean"||h.isFunction(u)?i.set(o,r,u):(o.setAttribute(a[p]||r,u),o)},c.remove=function(o,r){l.byId(o).removeAttribute(a[r.toLowerCase()]||r)},c.getNodeProp=function(o,r){o=l.byId(o);var u=r.toLowerCase(),g=i.names[u]||r;if(g in o&&g!="href")return o[g];var p=a[u]||r;return d(o,p)?o.getAttribute(p):null}},y,P),y.exports=A},"dojo/dom-construct":(y,P,e)=>{var C,A;C=[P,e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-attr"])],A=e.dj.d(C,function(c,v,h,l,n,i){var s={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,d={},t=0,o="__"+v._scopeName+"ToDomId";for(var r in s)if(s.hasOwnProperty(r)){var u=s[r];u.pre=r=="option"?'<select multiple="multiple">':"<"+u.join("><")+">",u.post="</"+u.reverse().join("></")+">"}var g;h("ie")<=8&&(g=function(R){R.__dojo_html5_tested="yes";var F=m("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},R.body);F.childNodes.length!==1&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(T){R.createElement(T)}),x(F)});function p(R,F){var T=F.parentNode;T&&T.insertBefore(R,F)}function f(R,F){var T=F.parentNode;T&&(T.lastChild==F?T.appendChild(R):T.insertBefore(R,F.nextSibling))}c.toDom=function(F,T){T=T||l.doc;var j=T[o];j||(T[o]=j=++t+"",d[j]=T.createElement("div")),h("ie")<=8&&!T.__dojo_html5_tested&&T.body&&g(T),F+="";var E=F.match(a),N=E?E[1].toLowerCase():"",B=d[j],D,w,I,U;if(E&&s[N])for(D=s[N],B.innerHTML=D.pre+F+D.post,w=D.length;w;--w)B=B.firstChild;else B.innerHTML=F;if(B.childNodes.length==1)return B.removeChild(B.firstChild);for(U=T.createDocumentFragment();I=B.firstChild;)U.appendChild(I);return U},c.place=function(F,T,j){if(T=n.byId(T),typeof F=="string"&&(F=/^\s*</.test(F)?c.toDom(F,T.ownerDocument):n.byId(F)),typeof j=="number"){var E=T.childNodes;!E.length||E.length<=j?T.appendChild(F):p(F,E[j<0?0:j])}else switch(j){case"before":p(F,T);break;case"after":f(F,T);break;case"replace":T.parentNode.replaceChild(F,T);break;case"only":c.empty(T),T.appendChild(F);break;case"first":if(T.firstChild){p(F,T.firstChild);break}default:T.appendChild(F)}return F};var m=c.create=function(F,T,j,E){var N=l.doc;return j&&(j=n.byId(j),N=j.ownerDocument),typeof F=="string"&&(F=N.createElement(F)),T&&i.set(F,T),j&&c.place(F,j,E),F};function M(R){if("innerHTML"in R)try{R.innerHTML="";return}catch(T){}for(var F;F=R.lastChild;)R.removeChild(F)}c.empty=function(F){M(n.byId(F))};function S(R,F){R.firstChild&&M(R),F&&(h("ie")&&F.canHaveChildren&&"removeNode"in R?R.removeNode(!1):F.removeChild(R))}var x=c.destroy=function(F){F=n.byId(F),F&&S(F,F.parentNode)}},y,P),y.exports=A},"dojo/dom-form":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/json"])],A=e.dj.d(C,function(c,v,h,l){function n(a,d,t){if(t!==null){var o=a[d];typeof o=="string"?a[d]=[o,t]:c.isArray(o)?o.push(t):a[d]=t}}var i="file|submit|image|reset|button",s={fieldToObject:function(d){var t=null;if(d=v.byId(d),d){var o=d.name,r=(d.type||"").toLowerCase();if(o&&r&&!d.disabled)if(r=="radio"||r=="checkbox")d.checked&&(t=d.value);else if(d.multiple){t=[];for(var u=[d.firstChild];u.length;)for(var g=u.pop();g;g=g.nextSibling)if(g.nodeType==1&&g.tagName.toLowerCase()=="option")g.selected&&t.push(g.value);else{g.nextSibling&&u.push(g.nextSibling),g.firstChild&&u.push(g.firstChild);break}}else t=d.value}return t},toObject:function(d){for(var t={},o=v.byId(d).elements,r=0,u=o.length;r<u;++r){var g=o[r],p=g.name,f=(g.type||"").toLowerCase();p&&f&&i.indexOf(f)<0&&!g.disabled&&(n(t,p,s.fieldToObject(g)),f=="image"&&(t[p+".x"]=t[p+".y"]=t[p].x=t[p].y=0))}return t},toQuery:function(d){return h.objectToQuery(s.toObject(d))},toJson:function(d,t){return l.stringify(s.toObject(d),null,t?4:0)}};return s},y,P),y.exports=A},"dojo/dom-geometry":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"])],A=e.dj.d(C,function(c,v,h,l){var n={};n.boxModel="content-box",c("ie")&&(n.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box"),n.getPadExtents=function(u,g){u=h.byId(u);var p=g||l.getComputedStyle(u),f=l.toPixelValue,m=f(u,p.paddingLeft),M=f(u,p.paddingTop),S=f(u,p.paddingRight),x=f(u,p.paddingBottom);return{l:m,t:M,r:S,b:x,w:m+S,h:M+x}};var i="none";n.getBorderExtents=function(u,g){u=h.byId(u);var p=l.toPixelValue,f=g||l.getComputedStyle(u),m=f.borderLeftStyle!=i?p(u,f.borderLeftWidth):0,M=f.borderTopStyle!=i?p(u,f.borderTopWidth):0,S=f.borderRightStyle!=i?p(u,f.borderRightWidth):0,x=f.borderBottomStyle!=i?p(u,f.borderBottomWidth):0;return{l:m,t:M,r:S,b:x,w:m+S,h:M+x}},n.getPadBorderExtents=function(u,g){u=h.byId(u);var p=g||l.getComputedStyle(u),f=n.getPadExtents(u,p),m=n.getBorderExtents(u,p);return{l:f.l+m.l,t:f.t+m.t,r:f.r+m.r,b:f.b+m.b,w:f.w+m.w,h:f.h+m.h}},n.getMarginExtents=function(u,g){u=h.byId(u);var p=g||l.getComputedStyle(u),f=l.toPixelValue,m=f(u,p.marginLeft),M=f(u,p.marginTop),S=f(u,p.marginRight),x=f(u,p.marginBottom);return{l:m,t:M,r:S,b:x,w:m+S,h:M+x}},n.getMarginBox=function(u,g){u=h.byId(u);var p=g||l.getComputedStyle(u),f=n.getMarginExtents(u,p),m=u.offsetLeft-f.l,M=u.offsetTop-f.t,S=u.parentNode,x=l.toPixelValue,R;if(c("mozilla")){var F=parseFloat(p.left),T=parseFloat(p.top);!isNaN(F)&&!isNaN(T)?(m=F,M=T):S&&S.style&&(R=l.getComputedStyle(S),R.overflow!="visible"&&(m+=R.borderLeftStyle!=i?x(u,R.borderLeftWidth):0,M+=R.borderTopStyle!=i?x(u,R.borderTopWidth):0))}else(c("opera")||c("ie")==8&&!c("quirks"))&&S&&(R=l.getComputedStyle(S),m-=R.borderLeftStyle!=i?x(u,R.borderLeftWidth):0,M-=R.borderTopStyle!=i?x(u,R.borderTopWidth):0);return{l:m,t:M,w:u.offsetWidth+f.w,h:u.offsetHeight+f.h}},n.getContentBox=function(u,g){u=h.byId(u);var p=g||l.getComputedStyle(u),f=u.clientWidth,m,M=n.getPadExtents(u,p),S=n.getBorderExtents(u,p);return f?(m=u.clientHeight,S.w=S.h=0):(f=u.offsetWidth,m=u.offsetHeight),c("opera")&&(M.l+=S.l,M.t+=S.t),{l:M.l,t:M.t,w:f-M.w-S.w,h:m-M.h-S.h}};function s(r,u,g,p,f,m){m=m||"px";var M=r.style;isNaN(u)||(M.left=u+m),isNaN(g)||(M.top=g+m),p>=0&&(M.width=p+m),f>=0&&(M.height=f+m)}function a(r){return r.tagName.toLowerCase()=="button"||r.tagName.toLowerCase()=="input"&&(r.getAttribute("type")||"").toLowerCase()=="button"}function d(r){return n.boxModel=="border-box"||r.tagName.toLowerCase()=="table"||a(r)}function t(r){var u={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},g;try{g=r.getBoundingClientRect()}catch(p){return u}return typeof g.left>"u"?u:g}n.setContentSize=function(u,g,p){u=h.byId(u);var f=g.w,m=g.h;if(d(u)){var M=n.getPadBorderExtents(u,p);f>=0&&(f+=M.w),m>=0&&(m+=M.h)}s(u,NaN,NaN,f,m)};var o={l:0,t:0,w:0,h:0};return n.setMarginBox=function(u,g,p){u=h.byId(u);var f=p||l.getComputedStyle(u),m=g.w,M=g.h,S=d(u)?o:n.getPadBorderExtents(u,f),x=n.getMarginExtents(u,f);if(c("webkit")&&a(u)){var R=u.style;m>=0&&!R.width&&(R.width="4px"),M>=0&&!R.height&&(R.height="4px")}m>=0&&(m=Math.max(m-S.w-x.w,0)),M>=0&&(M=Math.max(M-S.h-x.h,0)),s(u,g.l,g.t,m,M)},n.isBodyLtr=function(u){return u=u||v.doc,(v.body(u).dir||u.documentElement.dir||"ltr").toLowerCase()=="ltr"},n.docScroll=function(u){u=u||v.doc;var g=u.parentWindow||u.defaultView;return"pageXOffset"in g?{x:g.pageXOffset,y:g.pageYOffset}:(g=c("quirks")?v.body(u):u.documentElement)&&{x:n.fixIeBiDiScrollLeft(g.scrollLeft||0,u),y:g.scrollTop||0}},n.getIeDocumentElementOffset=function(r){return{x:0,y:0}},n.fixIeBiDiScrollLeft=function(u,g){g=g||v.doc;var p=c("ie");if(p&&!n.isBodyLtr(g)){var f=c("quirks"),m=f?v.body(g):g.documentElement,M=v.global;return p==6&&!f&&M.frameElement&&m.scrollHeight>m.clientHeight&&(u+=m.clientLeft),p<8||f?u+m.clientWidth-m.scrollWidth:-u}return u},n.position=function(r,u){r=h.byId(r);var g=v.body(r.ownerDocument),p=t(r);if(p={x:p.left,y:p.top,w:p.right-p.left,h:p.bottom-p.top},c("ie")<9&&(p.x-=c("quirks")?g.clientLeft+g.offsetLeft:0,p.y-=c("quirks")?g.clientTop+g.offsetTop:0),u){var f=n.docScroll(r.ownerDocument);p.x+=f.x,p.y+=f.y}return p},n.getMarginSize=function(u,g){u=h.byId(u);var p=n.getMarginExtents(u,g||l.getComputedStyle(u)),f=t(u);return{w:f.right-f.left+p.w,h:f.bottom-f.top+p.h}},n.normalizeEvent=function(r){if("layerX"in r||(r.layerX=r.offsetX,r.layerY=r.offsetY),!("pageX"in r)){var u=r.target,g=u&&u.ownerDocument||document,p=c("quirks")?g.body:g.documentElement;r.pageX=r.clientX+n.fixIeBiDiScrollLeft(p.scrollLeft||0,g),r.pageY=r.clientY+(p.scrollTop||0)}},n},y,P),y.exports=A},"dojo/dom-prop":(y,P,e)=>{var C,A;C=[P,e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["dojo/_base/connect"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a){var d={},t=1,o=v._scopeName+"attrid";h.add("dom-textContent",function(u,g,p){return"textContent"in p}),c.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function r(u){for(var g="",p=u.childNodes,f=0,m;m=p[f];f++)m.nodeType!=8&&(m.nodeType==1?g+=r(m):g+=m.nodeValue);return g}c.get=function(g,p){g=n.byId(g);var f=p.toLowerCase(),m=c.names[f]||p;return m=="textContent"&&!h("dom-textContent")?r(g):g[m]},c.set=function(g,p,f){g=n.byId(g);var m=arguments.length;if(m==2&&typeof p!="string"){for(var M in p)c.set(g,M,p[M]);return g}var S=p.toLowerCase(),x=c.names[S]||p;if(x=="style"&&typeof f!="string")return i.set(g,f),g;if(x=="innerHTML")return h("ie")&&g.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(s.empty(g),g.appendChild(s.toDom(f,g.ownerDocument))):g[x]=f,g;if(x=="textContent"&&!h("dom-textContent"))return s.empty(g),g.appendChild(g.ownerDocument.createTextNode(f)),g;if(l.isFunction(f)){var R=g[o];R||(R=t++,g[o]=R),d[R]||(d[R]={});var F=d[R][x];if(F)a.disconnect(F);else try{delete g[x]}catch(T){}return f?d[R][x]=a.connect(g,x,f):g[x]=null,g}return g[x]=f,g}},y,P),y.exports=A},"dojo/dom-style":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/_base/window"])],A=e.dj.d(C,function(c,v,h){var l,n={};c("webkit")?l=function(p){var f;if(p.nodeType==1){var m=p.ownerDocument.defaultView;f=m.getComputedStyle(p,null),!f&&p.style&&(p.style.display="",f=m.getComputedStyle(p,null))}return f||{}}:c("ie")&&(c("ie")<9||c("quirks"))?l=function(p){return p.nodeType==1&&p.currentStyle?p.currentStyle:{}}:l=function(p){if(p.nodeType===1){var f=p.ownerDocument.defaultView,m=f.opener?f:h.global.window;return m.getComputedStyle(p,null)||{}}return{}},n.getComputedStyle=l;var i;c("ie")?i=function(p,f){if(!f)return 0;if(f=="medium")return 4;if(f.slice&&f.slice(-2)=="px")return parseFloat(f);var m=p.style,M=p.runtimeStyle,S=p.currentStyle,x=m.left,R=M.left;M.left=S.left;try{m.left=f,f=m.pixelLeft}catch(F){f=0}return m.left=x,M.left=R,f}:i=function(p,f){return parseFloat(f)||0},n.toPixelValue=i;var s="DXImageTransform.Microsoft.Alpha",a=function(p,f){try{return p.filters.item(s)}catch(m){return f?{}:null}},d=c("ie")<9||c("ie")<10&&c("quirks")?function(p){try{return a(p).Opacity/100}catch(f){return 1}}:function(p){return l(p).opacity},t=c("ie")<9||c("ie")<10&&c("quirks")?function(p,f){f===""&&(f=1);var m=f*100,M=f===1;if(M?(p.style.zoom="",a(p)&&(p.style.filter=p.style.filter.replace(new RegExp("\\s*progid:"+s+"\\([^\\)]+?\\)","i"),""))):(p.style.zoom=1,a(p)?a(p,1).Opacity=m:p.style.filter+=" progid:"+s+"(Opacity="+m+")",a(p,1).Enabled=!0),p.tagName.toLowerCase()=="tr")for(var S=p.firstChild;S;S=S.nextSibling)S.tagName.toLowerCase()=="td"&&t(S,f);return f}:function(p,f){return p.style.opacity=f},o={left:!0,top:!0},r=/margin|padding|width|height|max|min|offset/;function u(p,f,m){if(f=f.toLowerCase(),m=="auto"){if(f=="height")return p.offsetHeight;if(f=="width")return p.offsetWidth}if(f=="fontweight")switch(m){case 700:return"bold";case 400:default:return"normal"}return f in o||(o[f]=r.test(f)),o[f]?i(p,m):m}var g={cssFloat:1,styleFloat:1,float:1};return n.get=function(f,m){var M=v.byId(f),S=arguments.length,x=m=="opacity";if(S==2&&x)return d(M);m=g[m]?"cssFloat"in M.style?"cssFloat":"styleFloat":m;var R=n.getComputedStyle(M);return S==1?R:u(M,m,R[m]||M.style[m])},n.set=function(f,m,M){var S=v.byId(f),x=arguments.length,R=m=="opacity";if(m=g[m]?"cssFloat"in S.style?"cssFloat":"styleFloat":m,x==3)return R?t(S,M):S.style[m]=M;for(var F in m)n.set(f,F,m[F]);return n.getComputedStyle(S)},n},y,P),y.exports=A},"dojo/dom":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/_base/kernel"])],A=e.dj.d(C,function(c,v,h){if(c("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(s){}var l={};c("ie")?l.byId=function(s,a){if(typeof s!="string")return s||null;var d=a||v.doc,t=s&&d.getElementById(s);if(t&&(t.attributes.id.value==s||t.id==s))return t;var o=d.all[s];(!o||o.nodeName)&&(o=[o]);for(var r=0;t=o[r++];)if(t.attributes&&t.attributes.id&&t.attributes.id.value==s||t.id==s)return t;return null}:l.byId=function(s,a){return(typeof s=="string"?(a||v.doc).getElementById(s):s)||null};var n=h.global.document||null;c.add("dom-contains",!!(n&&n.contains)),l.isDescendant=function(s,a){try{for(s=l.byId(s),a=l.byId(a);s;){if(s==a)return!0;s=s.parentNode}}catch(d){}return!1},c.add("css-user-select",function(s,a,d){if(!d)return!1;var t=d.style,o=["Khtml","O","Moz","Webkit"],r=o.length,u="userSelect",g;do if(typeof t[u]<"u")return u;while(r--&&(u=o[r]+"UserSelect"));return!1});var i=c("css-user-select");return l.setSelectable=i?function(s,a){l.byId(s).style[i]=a?"":"none"}:function(s,a){s=l.byId(s);var d=s.getElementsByTagName("*"),t=d.length;if(a)for(s.removeAttribute("unselectable");t--;)d[t].removeAttribute("unselectable");else for(s.setAttribute("unselectable","on");t--;)d[t].setAttribute("unselectable","on")},l},y,P),y.exports=A},"dojo/errors/CancelError":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/errors/create"])],A=e.dj.d(C,function(c){return c("CancelError",null,null,{dojoType:"cancel",log:!1})},y,P),y.exports=A},"dojo/errors/RequestError":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/errors/create"])],A=e.dj.d(C,function(c){return c("RequestError",function(v,h){this.response=h})},y,P),y.exports=A},"dojo/errors/RequestTimeoutError":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/errors/create"]),e(e.dj.r.absMids["dojo/errors/RequestError"])],A=e.dj.d(C,function(c,v){return c("RequestTimeoutError",null,v,{dojoType:"timeout"})},y,P),y.exports=A},"dojo/errors/create":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c){return function(v,h,l,n){l=l||Error;var i=function(s){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,i);var a=Error.call(this,s),d;for(d in a)a.hasOwnProperty(d)&&(this[d]=a[d]);this.message=s,this.stack=a.stack}else l.apply(this,arguments);h&&h.apply(this,arguments)};return i.prototype=c.delegate(l.prototype,n),i.prototype.name=v,i.prototype.constructor=i,i}},y,P),y.exports=A},"dojo/global":(y,P,e)=>{var C;C=function(){return function(){return typeof global<"u"&&typeof global!="function"?global:typeof window<"u"?window:typeof self<"u"?self:this}()}.call(null,e,P,y),C!==void 0&&(y.exports=C)},"dojo/has":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/global"]),e.dj.c(y),e.dj.m(y)],A=e.dj.d(C,function(c,v,h){var l=v.has||function(){};if(!l("dojo-has-api")){var n=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location==location&&window.document==document,i=n&&document,s=i&&i.createElement("DiV"),a=h.config&&h.config()||{};l=function(t){return typeof a[t]=="function"?a[t]=a[t](c,i,s):a[t]},l.cache=a,l.add=function(t,o,r,u){return(typeof a[t]>"u"||u)&&(a[t]=o),r&&l(t)},l.add("host-browser",n),l.add("host-node",typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8),l.add("host-rhino",typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")),l.add("dom",n),l.add("dojo-dom-ready-api",1),l.add("dojo-sniff",1)}if(l("host-browser")){l.add("dom-addeventlistener",!!document.addEventListener),l.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),l.add("touch-events","ontouchstart"in document),l.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),l.add("MSPointer",window.navigator.msPointerEnabled),l.add("touch-action",l("touch")&&l("pointer-events")),l.add("device-width",screen.availWidth||innerWidth);var d=document.createElement("form");l.add("dom-attributes-explicit",d.attributes.length==0),l.add("dom-attributes-specified-flag",d.attributes.length>0&&d.attributes.length<40)}return l.clearElement=function(t){return t.innerHTML="",t},l.normalize=function(t,o){var r=t.match(/[\?:]|[^:\?]*/g),u=0,g=function(p){var f=r[u++];return f==":"?0:r[u++]=="?"?!p&&l(f)?g():(g(!0),g(p)):f||0};return t=g(),t&&o(t)},l.load=function(t,o,r){t?o([t],r):r()},l},y,P),y.exports=A},"dojo/io-query":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c){var v={};return{objectToQuery:function(l){var n=encodeURIComponent,i=[];for(var s in l){var a=l[s];if(a!=v[s]){var d=n(s)+"=";if(c.isArray(a))for(var t=0,o=a.length;t<o;++t)i.push(d+n(a[t]));else i.push(d+n(a))}}return i.join("&")},queryToObject:function(l){for(var n=decodeURIComponent,i=l.split("&"),s={},a,d,t=0,o=i.length,r;t<o;++t)if(r=i[t],r.length){var u=r.indexOf("=");u<0?(a=n(r),d=""):(a=n(r.slice(0,u)),d=n(r.slice(u+1))),typeof s[a]=="string"&&(s[a]=[s[a]]),c.isArray(s[a])?s[a].push(d):s[a]=d}return s}}},y,P),y.exports=A},"dojo/json":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/has"])],A=e.dj.d(C,function(c){"use strict";var v=typeof JSON<"u";return c.add("json-parse",v),c.add("json-stringify",v&&JSON.stringify({a:0},function(h,l){return l||1})=='{"a":1}'),JSON},y,P),y.exports=A},"dojo/keys":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"])],A=e.dj.d(C,function(c,v){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:v("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:v("mac")&&!v("air")?v("safari")?91:224:17}},y,P),y.exports=A},"dojo/mouse":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/_base/window"])],A=e.dj.d(C,function(c,v,h,l,n){h.add("dom-quirks",n.doc&&n.doc.compatMode=="BackCompat"),h.add("events-mouseenter",n.doc&&"onmouseenter"in n.doc.createElement("div")),h.add("events-mousewheel",n.doc&&"onmousewheel"in n.doc);var i;h("dom-quirks")&&h("ie")||!h("dom-addeventlistener")?i={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(d,t){return d.button&t},isLeft:function(d){return d.button&1},isMiddle:function(d){return d.button&4},isRight:function(d){return d.button&2}}:i={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(d,t){return d.button==t},isLeft:function(d){return d.button==0},isMiddle:function(d){return d.button==1},isRight:function(d){return d.button==2}},c.mouseButtons=i;function s(d,t){var o=function(r,u){return v(r,d,function(g){if(t)return t(g,u);if(!l.isDescendant(g.relatedTarget,r))return u.call(this,g)})};return o.bubble=function(r){return s(d,function(u,g){var p=r(u.target),f=u.relatedTarget;if(p&&p!=(f&&f.nodeType==1&&r(f)))return g.call(p,u)})},o}var a;return h("events-mousewheel")?a="mousewheel":a=function(d,t){return v(d,"DOMMouseScroll",function(o){o.wheelDelta=-o.detail,t.call(this,o)})},{_eventHandler:s,enter:s("mouseover"),leave:s("mouseout"),wheel:a,isLeft:i.isLeft,isMiddle:i.isMiddle,isRight:i.isRight}},y,P),y.exports=A},"dojo/on":(y,P,e)=>{var C,A;C=[e.dj.h("dom-addeventlistener?:dojo/aspect"),e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"])],A=e.dj.d(C,function(c,v,h){"use strict";if(h("dom")){var l=window.ScriptEngineMajorVersion;h.add("jscript",l&&l()+ScriptEngineMinorVersion()/10),h.add("event-orientationchange",h("touch")&&!h("android")),h.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),h.add("event-focusin",function(E,N,B){return"onfocusin"in B}),h("touch")&&h.add("touch-can-modify-event-delegate",function(){var E=function(){};E.prototype=document.createEvent("MouseEvents");try{var N=new E;return N.target=null,N.target===null}catch(B){return!1}})}var n=function(E,N,B,D){return typeof E.on=="function"&&typeof N!="function"&&!E.nodeType?E.on(N,B):n.parse(E,N,B,s,D,this)};n.pausable=function(E,N,B,D){var w,I=n(E,N,function(){if(!w)return B.apply(this,arguments)},D);return I.pause=function(){w=!0},I.resume=function(){w=!1},I},n.once=function(E,N,B,D){var w=n(E,N,function(){return w.remove(),B.apply(this,arguments)});return w},n.parse=function(E,N,B,D,w,I){var U;if(N.call)return N.call(I,E,B);if(N instanceof Array?U=N:N.indexOf(",")>-1&&(U=N.split(/\s*,\s*/)),U){for(var k=[],O=0,H;H=U[O++];)k.push(n.parse(E,H,B,D,w,I));return k.remove=function(){for(var G=0;G<k.length;G++)k[G].remove()},k}return D(E,N,B,w,I)};var i=/^touch/;function s(E,N,B,D,w){var I=N.match(/(.*):(.*)/);if(I)return N=I[2],I=I[1],n.selector(I,N).call(w,E,B);if(h("touch")&&(i.test(N)&&(B=j(B)),!h("event-orientationchange")&&N=="orientationchange"&&(N="resize",E=window,B=j(B))),g&&(B=g(B)),E.addEventListener){var U=N in r,k=U?r[N]:N;return E.addEventListener(k,B,U),{remove:function(){E.removeEventListener(k,B,U)}}}if(N="on"+N,M&&E.attachEvent)return M(E,N,B);throw new Error("Target must be an event emitter")}n.matches=function(E,N,B,D,w){for(w=w&&typeof w.matches=="function"?w:v.query,D=D!==!1,E.nodeType!=1&&(E=E.parentNode);!w.matches(E,N,B);)if(E==B||D===!1||!(E=E.parentNode)||E.nodeType!=1)return!1;return E},n.selector=function(E,N,B){return function(D,w){var I=typeof E=="function"?{matches:E}:this,U=N.bubble;function k(O){return n.matches(O,E,D,B,I)}return U?n(D,U(k),w):n(D,N,function(O){var H=k(O.target);if(H)return O.selectorTarget=H,w.call(H,O)})}};function a(){this.cancelable=!1,this.defaultPrevented=!0}function d(){this.bubbles=!1}var t=[].slice,o=n.emit=function(E,N,B){var D=t.call(arguments,2),w="on"+N;if("parentNode"in E){var I=D[0]={};for(var U in B)I[U]=B[U];I.preventDefault=a,I.stopPropagation=d,I.target=E,I.type=N,B=I}do E[w]&&E[w].apply(E,D);while(B&&B.bubbles&&(E=E.parentNode));return B&&B.cancelable&&B},r=h("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!h("event-stopimmediatepropagation"))var u=function(){this.immediatelyStopped=!0,this.modified=!0},g=function(E){return function(N){if(!N.immediatelyStopped)return N.stopImmediatePropagation=u,E.apply(this,arguments)}};if(h("dom-addeventlistener"))n.emit=function(E,N,B){if(E.dispatchEvent&&document.createEvent){var D=E.ownerDocument||document,w=D.createEvent("HTMLEvents");w.initEvent(N,!!B.bubbles,!!B.cancelable);for(var I in B)I in w||(w[I]=B[I]);return E.dispatchEvent(w)&&w}return o.apply(n,arguments)};else{n._fixEvent=function(E,N){if(!E){var B=N&&(N.ownerDocument||N.document||N).parentWindow||window;E=B.event}if(!E)return E;try{p&&E.type==p.type&&E.srcElement==p.target&&(E=p)}catch(w){}if(!E.target)switch(E.target=E.srcElement,E.currentTarget=N||E.srcElement,E.type=="mouseover"&&(E.relatedTarget=E.fromElement),E.type=="mouseout"&&(E.relatedTarget=E.toElement),E.stopPropagation||(E.stopPropagation=x,E.preventDefault=R),E.type){case"keypress":var D="charCode"in E?E.charCode:E.keyCode;D==10?(D=0,E.keyCode=13):D==13||D==27?D=0:D==3&&(D=99),E.charCode=D,S(E);break}return E};var p,f=function(E){this.handle=E};f.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var m=function(E){return function(N){N=n._fixEvent(N,this);var B=E.call(this,N);return N.modified&&(p||setTimeout(function(){p=null}),p=N),B}},M=function(E,N,B){if(B=m(B),((E.ownerDocument?E.ownerDocument.parentWindow:E.parentWindow||E.window||window)!=top||h("jscript")<5.8)&&!h("config-_allow_leaks")){typeof _dojoIEListeners_>"u"&&(_dojoIEListeners_=[]);var D=E[N];if(!D||!D.listeners){var w=D;D=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),D.listeners=[],E[N]=D,D.global=this,w&&D.listeners.push(_dojoIEListeners_.push(w)-1)}var I;return D.listeners.push(I=D.global._dojoIEListeners_.push(B)-1),new f(I)}return c.after(E,N,B,!0)},S=function(E){E.keyChar=E.charCode?String.fromCharCode(E.charCode):"",E.charOrCode=E.keyChar||E.keyCode},x=function(){this.cancelBubble=!0},R=n._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(E){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(h("touch"))var F=function(){},T=window.orientation,j=function(E){return function(N){var B=N.corrected;if(!B){var D=N.type;try{delete N.type}catch(k){}if(N.type){if(h("touch-can-modify-event-delegate"))F.prototype=N,B=new F;else{B={};for(var w in N)B[w]=N[w]}B.preventDefault=function(){N.preventDefault()},B.stopPropagation=function(){N.stopPropagation()}}else B=N,B.type=D;if(N.corrected=B,D=="resize")return T==window.orientation?null:(T=window.orientation,B.type="orientationchange",E.call(this,B));if("rotation"in B||(B.rotation=0,B.scale=1),window.TouchEvent&&N instanceof TouchEvent){var I=B.changedTouches[0];for(var U in I)delete B[U],B[U]=I[U]}}return E.call(this,B)}};return n},y,P),y.exports=A},"dojo/promise/Promise":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c){"use strict";function v(){throw new TypeError("abstract")}return c.extend(function(){},{then:function(h,l,n){v()},cancel:function(h,l){v()},isResolved:function(){v()},isRejected:function(){v()},isFulfilled:function(){v()},isCanceled:function(){v()},finally:function(h){return this.then(function(l){var n=h();return n&&typeof n.then=="function"?n.then(function(){return l}):l},function(l){var n=h();if(n&&typeof n.then=="function")return n.then(function(){throw l});throw l})},always:function(h){return this.then(h,h)},catch:function(h){return this.then(null,h)},otherwise:function(h){return this.then(null,h)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})},y,P),y.exports=A},"dojo/request/handlers":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/json"]),e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/has"])],A=e.dj.d(C,function(c,v,h,l){l.add("activex",typeof ActiveXObject<"u"),l.add("dom-parser",function(d){return"DOMParser"in d});let n;if(l("activex")){const d=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];let t;n=function(o){let r=o.data;const u=o.text;r&&!r.querySelectorAll&&l("dom-parser")&&(r=new DOMParser().parseFromString(u,"application/xml"));function g(p){try{const f=new ActiveXObject(p);f.async=!1,f.loadXML(u),r=f,t=p}catch(f){return!1}return!0}return(!r||!r.documentElement)&&(!t||!g(t))&&h.some(d,g),r}}const i=function(d){return!l("native-xhr2-blob")&&d.options.handleAs==="blob"&&typeof Blob<"u"?new Blob([d.xhr.response],{type:d.xhr.getResponseHeader("Content-Type")}):d.xhr.response},s={javascript:function(d){return v.eval(d.text||"")},json:function(d){return c.parse(d.text||null)},xml:n,blob:i,arraybuffer:i,document:i};function a(d){const t=s[d.options.handleAs];return d.data=t?t(d):d.data||d.text,d}return a.register=function(d,t){s[d]=t},a},y,P),y.exports=A},"dojo/request/script":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.m(module),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/watch"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/util"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/array"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/lang"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/on"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom-construct"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/window"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(module,watch,util,kernel,array,lang,on,dom,domConstruct,has,win){has.add("script-readystatechange",function(y,P){var e=P.createElement("script");return typeof e.onreadystatechange<"u"&&(typeof y.opera>"u"||y.opera.toString()!=="[object Opera]")});var mid=module.id.replace(/[\/\.\-]/g,"_"),counter=0,loadEvent=has("script-readystatechange")?"readystatechange":"load",readyRegExp=/complete|loaded/,callbacks=kernel.global[mid+"_callbacks"]={},deadScripts=[];function attach(y,P,e,C){var A=e||win.doc,c=A.createElement("script");C&&on.once(c,"error",C),c.type="text/javascript";try{c.src=P}catch(v){C&&C(c)}return c.id=y,c.async=!0,c.charset="utf-8",A.getElementsByTagName("head")[0].appendChild(c)}function remove(y,P,e){domConstruct.destroy(dom.byId(y,P)),callbacks[y]&&(e?callbacks[y]=function(){delete callbacks[y]}:delete callbacks[y])}function _addDeadScript(y){var P=y.response.options,e=P.ioArgs?P.ioArgs.frameDoc:P.frameDoc;deadScripts.push({id:y.id,frameDoc:e}),P.ioArgs&&(P.ioArgs.frameDoc=null),P.frameDoc=null}function canceler(y,P){y.canDelete&&script._remove(y.id,P.options.frameDoc,!0)}function isValid(y){return deadScripts&&deadScripts.length&&(array.forEach(deadScripts,function(P){script._remove(P.id,P.frameDoc),P.frameDoc=null}),deadScripts=[]),y.options.jsonp?!y.data:!0}function isReadyScript(y){return!!this.scriptLoaded}function isReadyCheckString(response){var checkString=response.options.checkString;return checkString&&eval("typeof("+checkString+') !== "undefined"')}function handleResponse(y,P){this.canDelete&&_addDeadScript(this),P?this.reject(P):this.resolve(y)}function script(y,P,e){var C=util.parseArgs(y,util.deepCopy({},P));y=C.url,P=C.options;var A=util.deferred(C,canceler,isValid,P.jsonp?null:P.checkString?isReadyCheckString:isReadyScript,handleResponse);if(lang.mixin(A,{id:mid+counter++,canDelete:!1}),P.jsonp){var c=new RegExp("[?&]"+P.jsonp+"=");c.test(y)||(y+=(~y.indexOf("?")?"&":"?")+P.jsonp+"="+(P.frameDoc?"parent.":"")+mid+"_callbacks."+A.id),A.canDelete=!0,callbacks[A.id]=function(l){C.data=l,A.handleResponse(C)}}if(util.notify&&util.notify.emit("send",C,A.promise.cancel),!P.canAttach||P.canAttach(A)){var v=script._attach(A.id,y,P.frameDoc,function(l){if(!(l instanceof Error)){var n=new Error("Error loading "+(l.target?l.target.src:"script"));n.source=l,l=n}A.reject(l),script._remove(A.id,P.frameDoc,!0)});if(!P.jsonp&&!P.checkString)var h=on(v,loadEvent,function(l){(l.type==="load"||readyRegExp.test(v.readyState))&&(h.remove(),A.scriptLoaded=l)})}return watch(A),e?A:A.promise}return script.get=script,script._attach=attach,script._remove=remove,script._callbacksProperty=mid+"_callbacks",script},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/request/util":(y,P,e)=>{var C,A;C=[P,e(e.dj.r.absMids["dojo/errors/RequestError"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["dojo/has"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a,d){function t(M){return d("native-arraybuffer")&&M instanceof ArrayBuffer}function o(M){return d("native-blob")&&M instanceof Blob}function r(M){return typeof Element<"u"?M instanceof Element:M.nodeType===1}function u(M){return d("native-formdata")&&M instanceof FormData}function g(M){return M&&typeof M=="object"&&!u(M)&&!r(M)&&!o(M)&&!t(M)}c.deepCopy=function(M,S){for(var x in S){var R=M[x],F=S[x];x!=="__proto__"&&R!==F&&(g(F)?Object.prototype.toString.call(F)==="[object Date]"?M[x]=new Date(F):s.isArray(F)?M[x]=c.deepCopyArray(F):R&&typeof R=="object"?c.deepCopy(R,F):M[x]=c.deepCopy({},F):M[x]=F)}return M},c.deepCopyArray=function(M){for(var S=[],x=0,R=M.length;x<R;x++){var F=M[x];typeof F=="object"?S.push(c.deepCopy({},F)):S.push(F)}return S},c.deepCreate=function(S,x){x=x||{};var R=s.delegate(S),F,T;for(F in S)T=S[F],T&&typeof T=="object"&&(R[F]=c.deepCreate(T,x[F]));return c.deepCopy(R,x)};var p=Object.freeze||function(M){return M};function f(M){return p(M)}function m(M){return M.data!==void 0?M.data:M.text}c.deferred=function(S,x,R,F,T,j){var E=new l(function(U){return x&&x(E,S),!U||!(U instanceof v)&&!(U instanceof h)?new h("Request canceled",S):U});E.response=S,E.isValid=R,E.isReady=F,E.handleResponse=T;function N(U){throw U.response=S,U}var B=E.then(f).otherwise(N);c.notify&&B.then(s.hitch(c.notify,"emit","load"),s.hitch(c.notify,"emit","error"));var D=B.then(m),w=new a;for(var I in D)D.hasOwnProperty(I)&&(w[I]=D[I]);return w.response=B,p(w),j&&E.then(function(U){j.call(E,U)},function(U){j.call(E,S,U)}),E.promise=w,E.then=w.then,E},c.addCommonMethods=function(S,x){i.forEach(x||["GET","POST","PUT","DELETE"],function(R){S[(R==="DELETE"?"DEL":R).toLowerCase()]=function(F,T){return T=s.delegate(T||{}),T.method=R,S(F,T)}})},c.parseArgs=function(S,x,R){var F=x.data,T=x.query;return F&&!R&&typeof F=="object"&&(!d("native-xhr2")||!(t(F)||o(F)))&&(x.data=n.objectToQuery(F)),T?(typeof T=="object"&&(T=n.objectToQuery(T)),x.preventCache&&(T+=(T?"&":"")+"request.preventCache="+ +new Date)):x.preventCache&&(T="request.preventCache="+ +new Date),S&&T&&(S+=(~S.indexOf("?")?"&":"?")+T),{url:S,options:x,getHeader:function(j){return null}}},c.checkStatus=function(M){return M=M||0,M>=200&&M<300||M===304||M===1223||!M}},y,P),y.exports=A},"dojo/request/watch":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/request/util"]),e(e.dj.r.absMids["dojo/errors/RequestTimeoutError"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/window"])],A=e.dj.d(C,function(c,v,h,l,n){let i=null;const s=[];function a(){const t=+new Date;for(var o=0,r;o<s.length&&(r=s[o]);o++){const u=r.response,g=u.options;r.isCanceled&&r.isCanceled()||r.isValid&&!r.isValid(u)?(s.splice(o--,1),d._onAction&&d._onAction()):r.isReady&&r.isReady(u)?(s.splice(o--,1),r.handleResponse(u),d._onAction&&d._onAction()):r.startTime&&r.startTime+(g.timeout||0)<t&&(s.splice(o--,1),r.cancel(new v("Timeout exceeded",u)),d._onAction&&d._onAction())}d._onInFlight&&d._onInFlight(r),s.length||(clearInterval(i),i=null)}function d(t){t.response.options.timeout&&(t.startTime=+new Date),!t.isFulfilled()&&(s.push(t),i||(i=setInterval(a,50)),t.response.options.sync&&a())}return d.cancelAll=function(){try{l.forEach(s,function(o){try{o.cancel(new h("All requests canceled."))}catch(r){}})}catch(o){}},d},y,P),y.exports=A},"dojo/request/xhr":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/errors/RequestError"]),e(e.dj.r.absMids["dojo/request/watch"]),e(e.dj.r.absMids["dojo/request/handlers"]),e(e.dj.r.absMids["dojo/request/util"]),e(e.dj.r.absMids["dojo/has"])],A=e.dj.d(C,function(c,v,h,l,n){n.add("native-xhr",function(){return typeof XMLHttpRequest<"u"}),n.add("dojo-force-activex-xhr",function(){return n("activex")&&window.location.protocol==="file:"}),n.add("native-xhr2",function(){if(!(!n("native-xhr")||n("dojo-force-activex-xhr"))){var f=new XMLHttpRequest;return typeof f.addEventListener<"u"&&(typeof opera>"u"||typeof f.upload<"u")}}),n.add("native-formdata",function(){return typeof FormData<"u"}),n.add("native-blob",function(){return typeof Blob<"u"}),n.add("native-arraybuffer",function(){return typeof ArrayBuffer<"u"}),n.add("native-response-type",function(){return n("native-xhr")&&typeof new XMLHttpRequest().responseType<"u"}),n.add("native-xhr2-blob",function(){if(n("native-response-type"))return!0});var i={blob:n("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function s(f,m){var M=f.xhr;f.status=f.xhr.status;try{f.text=M.responseText}catch(x){}f.options.handleAs==="xml"&&(f.data=M.responseXML);var S;if(m)this.reject(m);else{try{h(f)}catch(x){S=x}l.checkStatus(M.status)?S?this.reject(S):this.resolve(f):S?(m=new c("Unable to load "+f.url+" status: "+M.status+" and an error in handleAs: transformation of response",f),this.reject(m)):(m=new c("Unable to load "+f.url+" status: "+M.status,f),this.reject(m))}}var a,d,t,o;n("native-xhr2")?(a=function(f){return!this.isFulfilled()},o=function(f,m){m.xhr.abort()},t=function(f,m,M,S){function x(E){m.handleResponse(M)}function R(E){var N=E.target,B=new c("Unable to load "+M.url+" status: "+N.status,M);m.handleResponse(M,B)}function F(E,N){M.transferType=E,N.lengthComputable?(M.loaded=N.loaded,M.total=N.total,m.progress(M)):M.xhr.readyState===3&&(M.loaded="loaded"in N?N.loaded:N.position,m.progress(M))}function T(E){return F("download",E)}function j(E){return F("upload",E)}return f.addEventListener("load",x,!1),f.addEventListener("error",R,!1),f.addEventListener("progress",T,!1),S&&f.upload&&f.upload.addEventListener("progress",j,!1),function(){f.removeEventListener("load",x,!1),f.removeEventListener("error",R,!1),f.removeEventListener("progress",T,!1),f.upload.removeEventListener("progress",j,!1),f=null}}):(a=function(f){return f.xhr.readyState},d=function(f){return f.xhr.readyState===4},o=function(f,m){var M=m.xhr,S=typeof M.abort;(S==="function"||S==="object"||S==="unknown")&&M.abort()});function r(f){return this.xhr.getResponseHeader(f)}var u,g={data:null,query:null,sync:!1,method:"GET"};function p(f,m,M){var S=n("native-formdata")&&m&&m.data&&m.data instanceof FormData,x=l.parseArgs(f,l.deepCreate(g,m),S);f=x.url,m=x.options;var R=!m.data&&m.method!=="POST"&&m.method!=="PUT";n("ie")<=10&&(f=f.split("#")[0]);var F,T=function(){F&&F()},j=l.deferred(x,o,a,d,s,T),E=x.xhr=p._create();if(!E)return j.cancel(new c("XHR was not created")),M?j:j.promise;x.getHeader=r,t&&(F=t(E,j,x,m.uploadProgress));var N=typeof m.data>"u"?null:m.data,B=!m.sync,D=m.method;try{E.open(D,f,B,m.user||u,m.password||u),m.withCredentials&&(E.withCredentials=m.withCredentials),n("native-response-type")&&m.handleAs in i&&(E.responseType=i[m.handleAs]);var w=m.headers,I=S||R?!1:"application/x-www-form-urlencoded";if(w)for(var U in w)U.toLowerCase()==="content-type"?I=w[U]:w[U]&&E.setRequestHeader(U,w[U]);I&&I!==!1&&E.setRequestHeader("Content-Type",I),(!w||!("X-Requested-With"in w))&&E.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.notify&&l.notify.emit("send",x,j.promise.cancel),E.send(N)}catch(k){j.reject(k)}return v(j),E=null,M?j:j.promise}if(p._create=function(){throw new Error("XMLHTTP not available")},n("native-xhr")&&!n("dojo-force-activex-xhr"))p._create=function(){return new XMLHttpRequest};else if(n("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),p._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(f){try{new ActiveXObject("Microsoft.XMLHTTP"),p._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(m){}}return l.addCommonMethods(p),p},y,P),y.exports=A},"dojo/sniff":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/has"])],A=e.dj.d(C,function(c){if(c("host-browser")){var v=navigator,h=v.userAgent,l=v.appVersion,n=parseFloat(l);if(c.add("air",h.indexOf("AdobeAIR")>=0),c.add("wp",parseFloat(h.split("Windows Phone")[1])||void 0),c.add("msapp",parseFloat(h.split("MSAppHost/")[1])||void 0),c.add("khtml",l.indexOf("Konqueror")>=0?n:void 0),c.add("edge",parseFloat(h.split("Edge/")[1])||void 0),c.add("opr",parseFloat(h.split("OPR/")[1])||void 0),c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(h.split("WebKit/")[1])||void 0),c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(h.split("Chrome/")[1])||void 0),c.add("android",!c("wp")&&parseFloat(h.split("Android ")[1])||void 0),c.add("safari",l.indexOf("Safari")>=0&&!c("wp")&&!c("chrome")&&!c("android")&&!c("edge")&&!c("opr")?parseFloat(l.split("Version/")[1]):void 0),c.add("mac",l.indexOf("Macintosh")>=0),c.add("quirks",document.compatMode=="BackCompat"),!c("wp")&&h.match(/(iPhone|iPod|iPad)/)){var i=RegExp.$1.replace(/P/,"p"),s=h.match(/OS ([\d_]+)/)?RegExp.$1:"1",a=parseFloat(s.replace(/_/,".").replace(/_/g,""));c.add(i,a),c.add("ios",a)}if(c.add("bb",(h.indexOf("BlackBerry")>=0||h.indexOf("BB10")>=0)&&parseFloat(h.split("Version/")[1])||void 0),c.add("trident",parseFloat(l.split("Trident/")[1])||void 0),c.add("svg",typeof SVGAngle<"u"),!c("webkit")){if(h.indexOf("Opera")>=0&&c.add("opera",n>=9.8&&parseFloat(h.split("Version/")[1])||n),h.indexOf("Gecko")>=0&&!c("wp")&&!c("khtml")&&!c("trident")&&!c("edge")&&c.add("mozilla",n),c("mozilla")&&c.add("ff",parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0),document.all&&!c("opera")){var d=parseFloat(l.split("MSIE ")[1])||void 0,t=document.documentMode;t&&t!=5&&Math.floor(d)!=t&&(d=t),c.add("ie",d)}c.add("wii",typeof opera<"u"&&opera.wiiremote)}}return c},y,P),y.exports=A},"dojo/string":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c,v){var h=/[&<>'"\/]/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},n={};return v.setObject("dojo.string",n),n.escape=function(i){return i?i.replace(h,function(s){return l[s]}):""},n.codePointAt=String.prototype.codePointAt?function(i,s){return String.prototype.codePointAt.call(i,s)}:function(i,s){if(i==null)throw new TypeError("codePointAt called on null or undefined");var a,d,t,o;if(i=String(i),a=i.length,o=s?Number(s):0,o!=o&&(o=0),!(o<0||o>=a))return d=i.charCodeAt(o),d>=55296&&d<=56319&&a>o+1&&(t=i.charCodeAt(o+1),t>=56320&&t<=57343)?(d-55296)*1024+t-56320+65536:d},n.fromCodePoint=String.fromCodePoint||function(){var i=[],s=0,a="",d,t;for(t=0,len=arguments.length;t!==len;++t){if(d=+arguments[t],!(d<1114111&&d>>>0===d))throw RangeError("Invalid code point: "+d);d<=65535?s=i.push(d):(d-=65536,s=i.push((d>>10)+55296,d%1024+56320)),s>=16383&&(a+=String.fromCharCode.apply(null,i),i.length=0)}return a+String.fromCharCode.apply(null,i)},n.rep=function(i,s){if(s<=0||!i)return"";for(var a=[];s&1&&a.push(i),!!(s>>=1);)i+=i;return a.join("")},n.pad=function(i,s,a,d){a||(a="0");var t=String(i),o=n.rep(a,Math.ceil((s-t.length)/a.length));return d?t+o:o+t},n.substitute=function(i,s,a,d){return d=d||c.global,a=a?v.hitch(d,a):function(t){return t},i.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(t,o,r){if(o=="")return"$";var u=v.getObject(o,!1,s);r&&(u=v.getObject(r,!1,d).call(d,u,o));var g=a(u,o);if(typeof g>"u")throw new Error('string.substitute could not find key "'+o+'" in template');return g.toString()})},n.trim=String.prototype.trim?v.trim:function(i){i=i.replace(/^\s+/,"");for(var s=i.length-1;s>=0;s--)if(/\S/.test(i.charAt(s))){i=i.substring(0,s+1);break}return i},n},y,P),y.exports=A},"dojo/topic":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/Evented"])],A=e.dj.d(C,function(c){var v=new c;return{publish:function(h,l){return v.emit.apply(v,arguments)},subscribe:function(h,l){return v.on.apply(v,arguments)}}},y,P),y.exports=A},"dojo/when":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/Promise"])],A=e.dj.d(C,function(c,v){"use strict";return function(l,n,i,s){var a=l&&typeof l.then=="function",d=a&&l instanceof v;if(a){if(!d){var t=new c(l.cancel);l.then(t.resolve,t.reject,t.progress),l=t.promise}}else return arguments.length>1?n?n(l):l:new c().resolve(l);return n||i||s?l.then(n,i,s):l}},y,P),y.exports=A},"0f61d0836dd0e1ddb9133339ecd37a05089dd4d5":y=>{y.exports=void 0},"mw-remote/serviceRegistryLookup!":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-remote/serviceRegistryLookup"]),e("mwBundle.filesystem-onedrive_connection_type|5c4c15eb57c0aedd33f26ec99e40bef3f6221757"),e(e.dj.r.absMids["0f61d0836dd0e1ddb9133339ecd37a05089dd4d5"])],A=e.dj.d(C,function(c,v){return v(c,"",e.dj.c(),!0)},y,P),y.exports=A},"5c4c15eb57c0aedd33f26ec99e40bef3f6221757":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){return function(c,v,h,l){var n,i,s;if(c.load(v,h,function(a){i=a,s=!0,n&&n(a)},{isBuild:!0}),s)return i;if(!l)throw new Error(v+" unavailable");return i=new Promise(function(a){n=a}),i.__DOJO_WEBPACK_DEFINE_PROMISE__=!0,i}},y,P),y.exports=A},"cometd/AckExtension":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["cometd/cometd"])],A=e.dj.d(C,function(c){"use strict";var v={};return v.default=c.AckExtension=function(){let h,l=!1,n;function i(s,a){h._debug(s,a)}this.registered=(s,a)=>{h=a,i("AckExtension: executing registration callback")},this.unregistered=()=>{i("AckExtension: executing unregistration callback"),h=null},this.incoming=s=>{const a=s.channel,d=s.ext;if(a==="/meta/handshake"){if(d){const t=d.ack;if(typeof t=="object"){l=t.enabled===!0;const o=t.batch;typeof o=="number"&&(n=o)}else l=t===!0}i("AckExtension: server supports acknowledgements",l)}else a==="/meta/connect"&&s.successful&&l&&d&&typeof d.ack=="number"&&(n=d.ack,i("AckExtension: server sent batch",n));return s},this.outgoing=s=>{const a=s.channel;return s.ext||(s.ext={}),a==="/meta/handshake"?(s.ext.ack=h&&h.ackEnabled!==!1,l=!1,n=0):a==="/meta/connect"&&l&&(s.ext.ack=n,i("AckExtension: client sending batch",n)),s}},v.default},y,P),y.exports=A},"cometd/cometd":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};function v(){let p=0;const f={};this.register=m=>{const M=++p;return f[M]=m,M},this.unregister=m=>{const M=f[m];return delete f[m],M},this.setTimeout=(m,M)=>window.setTimeout(m,M),this.clearTimeout=m=>{window.clearTimeout(m)}}function h(){const p={};self.onmessage=f=>{const m=f.data,M=p[m.id];switch(m.type){case"setTimeout":p[m.id]=self.setTimeout(()=>{delete p[m.id],self.postMessage({id:m.id})},m.delay);break;case"clearTimeout":delete p[m.id],M&&self.clearTimeout(M);break;default:throw"Unknown command "+m.type}}}const l={isString:p=>p==null?!1:typeof p=="string"||p instanceof String};function n(){let p=[],f={};this.getTransportTypes=()=>p.slice(0),this.findTransportTypes=(m,M,S)=>{const x=[];for(let R=0;R<p.length;++R){const F=p[R];f[F].accept(m,M,S)===!0&&x.push(F)}return x},this.negotiateTransport=(m,M,S,x)=>{for(let R=0;R<p.length;++R){const F=p[R];for(let T=0;T<m.length;++T)if(F===m[T]){const j=f[F];if(j.accept(M,S,x)===!0)return j}}return null},this.add=(m,M,S)=>{let x=!1;for(let R=0;R<p.length;++R)if(p[R]===m){x=!0;break}return x||(typeof S!="number"?p.push(m):p.splice(S,0,m),f[m]=M),!x},this.find=m=>{for(let M=0;M<p.length;++M)if(p[M]===m)return f[m];return null},this.remove=m=>{for(let M=0;M<p.length;++M)if(p[M]===m){p.splice(M,1);const S=f[m];return delete f[m],S}return null},this.clear=()=>{p=[],f={}},this.reset=m=>{for(let M=0;M<p.length;++M)f[p[M]].reset(m)}}function i(){let p,f,m;this.registered=(M,S)=>{p=M,f=S},this.unregistered=()=>{p=null,f=null},this._notifyTransportTimeout=function(M){const S=f._getTransportListeners("timeout");if(S)for(let x=0;x<S.length;++x){const R=S[x];try{const F=R.call(this,M);if(typeof F=="number"&&F>0)return F}catch(F){this._info("Exception during execution of transport listener",R,F)}}return 0},this._debug=function(){f._debug.apply(f,arguments)},this._info=function(){f._info.apply(f,arguments)},this._mixin=function(){return f._mixin.apply(f,arguments)},this.getConfiguration=()=>f.getConfiguration(),this.getAdvice=()=>f.getAdvice(),this.setTimeout=(M,S)=>f.setTimeout(M,S),this.clearTimeout=M=>{f.clearTimeout(M)},this.convertToJSON=function(M){const S=this.getConfiguration().maxSendBayeuxMessageSize;let x="[";for(let R=0;R<M.length;++R){R>0&&(x+=",");const F=M[R],T=JSON.stringify(F);if(T.length>S)throw"maxSendBayeuxMessageSize "+S+" exceeded";x+=T}return x+="]",x},this.convertToMessages=function(M){if(l.isString(M))try{return JSON.parse(M)}catch(S){throw this._debug("Could not convert to JSON the following string",'"'+M+'"'),S}if(Array.isArray(M))return M;if(M==null)return[];if(M instanceof Object)return[M];throw"Conversion Error "+M+", typeof "+typeof M},this.accept=(M,S,x)=>{throw"Abstract"},this.getType=()=>p,this.getURL=()=>m,this.setURL=M=>{m=M},this.send=(M,S)=>{throw"Abstract"},this.reset=function(M){this._debug("Transport",p,"reset",M?"initial":"retry")},this.abort=function(){this._debug("Transport",p,"aborted")},this.toString=function(){return this.getType()}}i.derive=p=>{function f(){}return f.prototype=p,new f};function s(){const p=new i,f=i.derive(p);let m=0,M=null,S=[],x=[];function R(D){for(;x.length>0;){const w=x[0],I=w[0],U=w[1];if(I.url===D.url&&I.sync===D.sync){x.shift(),D.messages=D.messages.concat(I.messages),this._debug("Coalesced",I.messages.length,"messages from request",U.id);continue}break}}function F(D,w,I){const U=this._notifyTransportTimeout(D.messages);if(U>0)this._debug("Transport",this.getType(),"extended waiting for message replies of request",w.id,":",U,"ms"),w.timeout=this.setTimeout(()=>{F.call(this,D,w,I+U)},U);else{w.expired=!0;const k="Transport "+this.getType()+" expired waiting for message replies of request "+w.id+": "+I+" ms",O={reason:k},H=w.xhr;O.httpCode=this.xhrStatus(H),this.abortXHR(H),this._debug(k),this.complete(w,!1,w.metaConnect),D.onFailure(H,D.messages,O)}}function T(D,w){if(this.transportSend(D,w)&&(w.expired=!1,!D.sync)){let I=this.getConfiguration().maxNetworkDelay;w.metaConnect===!0&&(I+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"started waiting for message replies of request",w.id,":",I,"ms"),w.timeout=this.setTimeout(()=>{F.call(this,D,w,I)},I)}}function j(D){const w=++m,I={id:w,metaConnect:!1,envelope:D};S.length<this.getConfiguration().maxConnections-1?(S.push(I),T.call(this,D,I)):(this._debug("Transport",this.getType(),"queueing request",w,"envelope",D),x.push([D,I]))}function E(D){const w=D.id;if(this._debug("Transport",this.getType(),"/meta/connect complete, request",w),M!==null&&M.id!==w)throw"/meta/connect request mismatch, completing request "+w;M=null}function N(D,w){const I=S.indexOf(D);if(I>=0&&S.splice(I,1),x.length>0){const U=x.shift(),k=U[0],O=U[1];this._debug("Transport dequeued request",O.id),w?(this.getConfiguration().autoBatch&&R.call(this,k),j.call(this,k),this._debug("Transport completed request",D.id,k)):this.setTimeout(()=>{this.complete(O,!1,O.metaConnect);const H={reason:"Previous request failed"},G=O.xhr;H.httpCode=this.xhrStatus(G),k.onFailure(G,k.messages,H)},0)}}f.complete=function(D,w,I){I?E.call(this,D):N.call(this,D,w)},f.transportSend=(D,w)=>{throw"Abstract"},f.transportSuccess=function(D,w,I){w.expired||(this.clearTimeout(w.timeout),this._debug("Transport",this.getType(),"cancelled waiting for message replies"),this.complete(w,!0,w.metaConnect),I&&I.length>0?D.onSuccess(I):D.onFailure(w.xhr,D.messages,{httpCode:204}))},f.transportFailure=function(D,w,I){w.expired||(this.clearTimeout(w.timeout),this._debug("Transport",this.getType(),"cancelled waiting for failed message replies"),this.complete(w,!1,w.metaConnect),D.onFailure(w.xhr,D.messages,I))};function B(D){if(M!==null)throw"Concurrent /meta/connect requests not allowed, request id="+M.id+" not yet completed";const w=++m;this._debug("Transport",this.getType(),"/meta/connect send, request",w,"envelope",D);const I={id:w,metaConnect:!0,envelope:D};T.call(this,D,I),M=I}return f.send=function(D,w){w?B.call(this,D):j.call(this,D)},f.abort=function(){p.abort();for(let w=0;w<S.length;++w){const I=S[w];I&&(this._debug("Aborting request",I),this.abortXHR(I.xhr)||this.transportFailure(I.envelope,I,{reason:"abort"}))}const D=M;D&&(this._debug("Aborting /meta/connect request",D),this.abortXHR(D.xhr)||this.transportFailure(D.envelope,D,{reason:"abort"})),this.reset(!0)},f.reset=D=>{p.reset(D),M=null,S=[],x=[]},f.abortXHR=function(D){if(D)try{const w=D.readyState;return D.abort(),w!==window.XMLHttpRequest.UNSENT}catch(w){this._debug(w)}return!1},f.xhrStatus=function(D){if(D)try{return D.status}catch(w){this._debug(w)}return-1},f}function a(){const p=new s,f=i.derive(p);let m=!0;f.accept=(S,x,R)=>m||!x,f.newXMLHttpRequest=()=>new window.XMLHttpRequest;function M(S){try{S.context=f.context}catch(x){f._debug("Could not copy transport context into XHR",x)}}return f.xhrSend=S=>{const x=f.newXMLHttpRequest();M(x),x.withCredentials=!0,x.open("POST",S.url,S.sync!==!0);const R=S.headers;if(R)for(let F in R)R.hasOwnProperty(F)&&x.setRequestHeader(F,R[F]);return x.setRequestHeader("Content-Type","application/json;charset=UTF-8"),x.onload=()=>{x.status===200?S.onSuccess(x.responseText):S.onError(x.statusText)},x.onabort=x.onerror=()=>{S.onError(x.statusText)},x.send(S.body),x},f.transportSend=function(S,x){this._debug("Transport",this.getType(),"sending request",x.id,"envelope",S);try{let R=!0;return x.xhr=this.xhrSend({transport:this,url:S.url,sync:S.sync,headers:this.getConfiguration().requestHeaders,body:this.convertToJSON(S.messages),onSuccess:F=>{this._debug("Transport",this.getType(),"received response",F);let T=!1;try{const j=this.convertToMessages(F);j.length===0?(m=!1,this.transportFailure(S,x,{httpCode:204})):(T=!0,this.transportSuccess(S,x,j))}catch(j){if(this._debug(j),!T){m=!1;const E={exception:j};E.httpCode=this.xhrStatus(x.xhr),this.transportFailure(S,x,E)}}},onError:(F,T)=>{this._debug("Transport",this.getType(),"received error",F,T),m=!1;const j={reason:F,exception:T};j.httpCode=this.xhrStatus(x.xhr),R?this.setTimeout(()=>{this.transportFailure(S,x,j)},0):this.transportFailure(S,x,j)}}),R=!1,!0}catch(R){return this._debug("Transport",this.getType(),"exception:",R),m=!1,this.setTimeout(()=>{this.transportFailure(S,x,{exception:R})},0),!1}},f.reset=S=>{p.reset(S),m=!0},f}function d(){const p=new s,f=i.derive(p);let m=0;f.accept=(S,x,R)=>!0,f.jsonpSend=S=>{const x=document.getElementsByTagName("head")[0],R=document.createElement("script"),F="_cometd_jsonp_"+m++;window[F]=j=>{x.removeChild(R),delete window[F],S.onSuccess(j)};let T=S.url;T+=T.indexOf("?")<0?"?":"&",T+="jsonp="+F,T+="&message="+encodeURIComponent(S.body),R.src=T,R.async=S.sync!==!0,R.type="application/javascript",R.onerror=j=>{S.onError("jsonp "+j.type)},x.appendChild(R)};function M(S,x,R){return()=>{this.transportFailure(S,x,"error",R)}}return f.transportSend=function(S,x){let R=0,F=S.messages.length;const T=[];for(;F>0;){const E=JSON.stringify(S.messages.slice(R,R+F)),N=S.url.length+encodeURI(E).length,B=this.getConfiguration().maxURILength;if(N>B){if(F===1){const D="Bayeux message too big ("+N+" bytes, max is "+B+") for transport "+this.getType();this.setTimeout(M.call(this,S,x,D),0);return}--F;continue}T.push(F),R+=F,F=S.messages.length-R}let j=S;if(T.length>1){let E=0,N=T[0];this._debug("Transport",this.getType(),"split",S.messages.length,"messages into",T.join(" + ")),j=this._mixin(!1,{},S),j.messages=S.messages.slice(E,N),j.onSuccess=S.onSuccess,j.onFailure=S.onFailure;for(let B=1;B<T.length;++B){const D=this._mixin(!1,{},S);E=N,N+=T[B],D.messages=S.messages.slice(E,N),D.onSuccess=S.onSuccess,D.onFailure=S.onFailure,this.send(D,x.metaConnect)}}this._debug("Transport",this.getType(),"sending request",x.id,"envelope",j);try{let E=!0;return this.jsonpSend({transport:this,url:j.url,sync:j.sync,headers:this.getConfiguration().requestHeaders,body:JSON.stringify(j.messages),onSuccess:N=>{let B=!1;try{const D=this.convertToMessages(N);D.length===0?this.transportFailure(j,x,{httpCode:204}):(B=!0,this.transportSuccess(j,x,D))}catch(D){this._debug(D),B||this.transportFailure(j,x,{exception:D})}},onError:(N,B)=>{const D={reason:N,exception:B};E?this.setTimeout(()=>{this.transportFailure(j,x,D)},0):this.transportFailure(j,x,D)}}),E=!1,!0}catch(E){return this.setTimeout(()=>{this.transportFailure(j,x,{exception:E})},0),!1}},f}function t(){const p=new i,f=i.derive(p);let m,M=!0,S=!1,x=!0,R=null,F=null,T=!1,j=null;f.reset=O=>{p.reset(O),M=!0,O&&(S=!1),x=!0,O&&(R=null),F=null,T=!1};function E(O,H){O&&(this.webSocketClose(O,H.code,H.reason),this.onClose(O,H))}function N(O){return O===F||O===R}function B(O,H,G){const Y=[];for(let _=0;_<H.messages.length;++_){const Q=H.messages[_];Q.id&&Y.push(Q.id)}O.envelopes[Y.join(",")]=[H,G],this._debug("Transport",this.getType(),"stored envelope, envelopes",O.envelopes)}function D(O,H){let G=!1;const Y=O.envelopes;for(let _=0;_<H.length;++_){const Q=H[_];for(let X in Y)if(Y.hasOwnProperty(X)){const Z=X.split(","),ne=Z.indexOf(Q);if(ne>=0){G=!0,Z.splice(ne,1);const ie=Y[X][0],oe=Y[X][1];delete Y[X],Z.length>0&&(Y[Z.join(",")]=[ie,oe]);break}}}G&&this._debug("Transport",this.getType(),"removed envelope, envelopes",Y)}function w(O){if(F)return;const H=m.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",H);try{const X=m.getConfiguration().protocol;O.webSocket=X?new window.WebSocket(H,X):new window.WebSocket(H),F=O}catch(X){throw M=!1,this._debug("Exception while creating WebSocket object",X),X}x=m.getConfiguration().stickyReconnect!==!1;const G=m.getConfiguration().connectTimeout;G>0&&(O.connectTimer=this.setTimeout(()=>{m._debug("Transport",this.getType(),"timed out while connecting to URL",H,":",G,"ms"),E.call(this,O,{code:1e3,reason:"Connect Timeout"})},G));const Y=()=>{m._debug("WebSocket onopen",O),O.connectTimer&&this.clearTimeout(O.connectTimer),N(O)?(F=null,R=O,S=!0,this.onOpen(O)):(m._warn("Closing extra WebSocket connection",this,"active connection",R),E.call(this,O,{code:1e3,reason:"Extra Connection"}))},_=X=>{X=X||{code:1e3},m._debug("WebSocket onclose",O,X,"connecting",F,"current",R),O.connectTimer&&this.clearTimeout(O.connectTimer),this.onClose(O,X)},Q=X=>{m._debug("WebSocket onmessage",X,O),this.onMessage(O,X)};O.webSocket.onopen=Y,O.webSocket.onclose=_,O.webSocket.onerror=()=>{_({code:1e3,reason:"Error"})},O.webSocket.onmessage=Q,this._debug("Transport",this.getType(),"configured callbacks on",O)}function I(O,H,G){const Y=this._notifyTransportTimeout([H]);Y>0?(this._debug("Transport",this.getType(),"extended waiting for message replies:",Y,"ms"),O.timeouts[H.id]=this.setTimeout(()=>{I.call(this,O,H,G+Y)},Y)):(this._debug("Transport",this.getType(),"expired waiting for message reply",H.id,":",G,"ms"),E.call(this,O,{code:1e3,reason:"Message Timeout"}))}function U(O,H,G){let Y;try{Y=this.convertToJSON(H.messages)}catch(X){this._debug("Transport",this.getType(),"exception:",X);const Z=[];for(let ne=0;ne<H.messages.length;++ne){const ie=H.messages[ne];Z.push(ie.id)}D.call(this,O,Z),this.setTimeout(()=>{this._notifyFailure(H.onFailure,O,H.messages,{exception:X})},0);return}O.webSocket.send(Y),this._debug("Transport",this.getType(),"sent",H,"/meta/connect =",G);let _=this.getConfiguration().maxNetworkDelay;G&&(_+=this.getAdvice().timeout,T=!0);const Q=[];for(let X=0;X<H.messages.length;++X){const Z=H.messages[X];Z.id&&(Q.push(Z.id),O.timeouts[Z.id]=this.setTimeout(()=>{I.call(this,O,Z,_)},_))}this._debug("Transport",this.getType(),"started waiting for message replies",_,"ms, messageIds:",Q,", timeouts:",O.timeouts)}f._notifySuccess=function(O,H){O.call(this,H)},f._notifyFailure=function(O,H,G,Y){O.call(this,H,G,Y)};function k(O,H,G){try{O===null?(O=F||{envelopes:{},timeouts:{}},B.call(this,O,H,G),w.call(this,O)):(B.call(this,O,H,G),U.call(this,O,H,G))}catch(Y){this.setTimeout(()=>{E.call(this,O,{code:1e3,reason:"Exception",exception:Y})},0)}}return f.onOpen=function(O){const H=O.envelopes;this._debug("Transport",this.getType(),"opened",O,"pending messages",H);for(let G in H)if(H.hasOwnProperty(G)){const Y=H[G],_=Y[0],Q=Y[1];j=_.onSuccess,U.call(this,O,_,Q)}},f.onMessage=function(O,H){this._debug("Transport",this.getType(),"received websocket message",H,O);let G=!1;const Y=this.convertToMessages(H.data),_=[];for(let Q=0;Q<Y.length;++Q){const X=Y[Q];if((/^\/meta\//.test(X.channel)||X.data===void 0)&&X.id){_.push(X.id);const Z=O.timeouts[X.id];Z&&(this.clearTimeout(Z),delete O.timeouts[X.id],this._debug("Transport",this.getType(),"removed timeout for message",X.id,", timeouts",O.timeouts))}X.channel==="/meta/connect"&&(T=!1),X.channel==="/meta/disconnect"&&!T&&(G=!0)}D.call(this,O,_),this._notifySuccess(j,Y),G&&this.webSocketClose(O,1e3,"Disconnect")},f.onClose=function(O,H){this._debug("Transport",this.getType(),"closed",O,H),N(O)&&(M=x&&S,F=null,R=null);const G=O.timeouts;O.timeouts={};for(let _ in G)G.hasOwnProperty(_)&&this.clearTimeout(G[_]);const Y=O.envelopes;O.envelopes={};for(let _ in Y)if(Y.hasOwnProperty(_)){const Q=Y[_][0];Y[_][1]&&(T=!1);const Z={websocketCode:H.code,reason:H.reason};H.exception&&(Z.exception=H.exception),this._notifyFailure(Q.onFailure,O,Q.messages,Z)}},f.registered=(O,H)=>{p.registered(O,H),m=H},f.accept=function(O,H,G){return this._debug("Transport",this.getType(),"accept, supported:",M),M&&!!window.WebSocket&&m.websocketEnabled!==!1},f.send=function(O,H){this._debug("Transport",this.getType(),"sending",O,"/meta/connect =",H),k.call(this,R,O,H)},f.webSocketClose=function(O,H,G){try{O.webSocket&&O.webSocket.close(H,G)}catch(Y){this._debug(Y)}},f.abort=function(){p.abort(),E.call(this,R,{code:1e3,reason:"Abort"}),this.reset(!0)},f}function o(p){const f=new v,m=this,M=p||"default";let S=!1;const x=new n;let R,F="disconnected",T=0,j=null,E=0,N=[],B=!1,D=0,w={};const I={};let U=0,k=null;const O=[];let H={},G,Y;const _={},Q={};let X=!1,Z=!1,ne=0,ie=0,oe=null,te={useWorkerScheduler:!0,protocol:null,stickyReconnect:!0,connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,urls:{},maxURILength:2e3,maxSendBayeuxMessageSize:8192,advice:{timeout:6e4,interval:0,reconnect:void 0,maxInterval:0}};function xe(b,L){try{return b[L]}catch(W){return}}this._mixin=function(b,L,W){const K=L||{};for(let z=2;z<arguments.length;++z){const V=arguments[z];if(V!=null){for(let J in V)if(V.hasOwnProperty(J)){const $=xe(V,J),ee=xe(K,J);if($===L||$===void 0)continue;if(b&&typeof $=="object"&&$!==null)if($ instanceof Array)K[J]=this._mixin(b,ee instanceof Array?ee:[],$);else{const ae=typeof ee=="object"&&!(ee instanceof Array)?ee:{};K[J]=this._mixin(b,ae,$)}else K[J]=$}}}return K};function ue(b){return l.isString(b)}function Ze(b){return b>="A"&&b<="Z"?!0:b>="a"&&b<="z"}function qe(b){return b>="0"&&b<="9"}function et(b){switch(b){case" ":case"!":case"#":case"$":case"(":case")":case"*":case"+":case"-":case".":case"/":case"@":case"_":case"{":case"~":case"}":case":":case"\\":case",":return!0;default:return!1}}function Ae(b){if(!ue(b)||b.length<2||b.charAt(0)!=="/")return!1;for(let L=1;L<b.length;++L){const W=b.charAt(L);if(!(Ze(W)||qe(W)||et(W)))return!1}return!0}function q(b){return b==null?!1:typeof b=="function"}function Ee(b,L){let W="";for(;--L>0&&!(b>=Math.pow(10,L));)W+="0";return W+=b,W}function Me(b,L){if(window.console){const W=window.console[b];if(q(W)){const K=new Date;[].splice.call(L,0,0,Ee(K.getHours(),2)+":"+Ee(K.getMinutes(),2)+":"+Ee(K.getSeconds(),2)+"."+Ee(K.getMilliseconds(),3)),W.apply(window.console,L)}}}this._warn=function(){Me("warn",arguments)},this._info=function(){te.logLevel!=="warn"&&Me("info",arguments)},this._debug=function(){te.logLevel==="debug"&&Me("debug",arguments)};function Te(b){return new RegExp("(^https?://)?(((\\[[^\\]]+])|([^:/?#]+))(:(\\d+))?)?([^?#]*)(.*)?").exec(b)}this._isCrossDomain=b=>window.location&&window.location.host&&b?b!==window.location.host:!1;function tt(b){m._debug("Configuring cometd object with",b),ue(b)&&(b={url:b}),b||(b={}),te=m._mixin(!1,te,b);const L=m.getURL();if(!L)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";const W=Te(L),K=W[2],z=W[8],V=W[9];if(S=m._isCrossDomain(K),te.appendMessageTypeToURL)if(V!==void 0&&V.length>0)m._info("Appending message type to URI "+z+V+" is not supported, disabling 'appendMessageTypeToURL' configuration"),te.appendMessageTypeToURL=!1;else{const J=z.split("/");let $=J.length-1;z.match(/\/$/)&&($-=1),J[$].indexOf(".")>=0&&(m._info("Appending message type to URI "+z+" is not supported, disabling 'appendMessageTypeToURL' configuration"),te.appendMessageTypeToURL=!1)}if(window.Worker&&window.Blob&&window.URL&&te.useWorkerScheduler){let J=h.toString();J=J.substring(J.indexOf("{")+1,J.lastIndexOf("}"));const $=new window.Blob([J],{type:"application/json"}),ee=window.URL.createObjectURL($),ae=new window.Worker(ee);f.setTimeout=(ce,Ce)=>{const pe=f.register(ce);return ae.postMessage({id:pe,type:"setTimeout",delay:Ce}),pe},f.clearTimeout=ce=>{f.unregister(ce),ae.postMessage({id:ce,type:"clearTimeout"})},ae.onmessage=ce=>{const Ce=ce.data.id,pe=f.unregister(Ce);pe&&pe()}}}function we(b){if(b){const L=w[b.channel];L&&L[b.id]&&(delete L[b.id],m._debug("Removed",b.listener?"listener":"subscription",b))}}function Fe(b){b&&!b.listener&&we(b)}function Ie(){for(let b in w)if(w.hasOwnProperty(b)){const L=w[b];if(L)for(let W in L)L.hasOwnProperty(W)&&Fe(L[W])}}function fe(b){F!==b&&(m._debug("Status",F,"->",b),F=b)}function re(){return F==="disconnecting"||F==="disconnected"}function de(){return""+ ++T}function Ne(b,L,W,K,z){try{return L.call(b,K)}catch(V){const J=m.onExtensionException;if(q(J)){m._debug("Invoking extension exception handler",W,V);try{J.call(m,V,W,z,K)}catch($){m._info("Exception during execution of extension exception handler",W,$)}}else m._info("Exception during execution of extension",W,V);return K}}function nt(b){for(let L=0;L<O.length&&b!=null;++L){const W=O[L],K=W.extension.incoming;if(q(K)){const z=Ne(W.extension,K,W.name,b,!1);b=z===void 0?b:z}}return b}function st(b){for(let L=O.length-1;L>=0&&b!=null;--L){const W=O[L],K=W.extension.outgoing;if(q(K)){const z=Ne(W.extension,K,W.name,b,!0);b=z===void 0?b:z}}return b}function Se(b,L){const W=w[b];if(W){for(let K in W)if(W.hasOwnProperty(K)){const z=W[K];if(z)try{z.callback.call(z.scope,L)}catch(V){const J=m.onListenerException;if(q(J)){m._debug("Invoking listener exception handler",z,V);try{J.call(m,V,z,z.listener,L)}catch($){m._info("Exception during execution of listener exception handler",z,$)}}else m._info("Exception during execution of listener",z,L,V)}}}}function se(b,L){Se(b,L);const W=b.split("/"),K=W.length-1;for(let z=K;z>0;--z){let V=W.slice(0,z).join("/")+"/*";z===K&&Se(V,L),V+="*",Se(V,L)}}function Oe(){k!==null&&m.clearTimeout(k),k=null}function Le(b,L){Oe();const W=H.interval+L;m._debug("Function scheduled in",W,"ms, interval =",H.interval,"backoff =",U,b),k=m.setTimeout(b,W)}let Be,Re;function he(b,L,W){for(let V=0;V<b.length;++V){let J=b[V];const $=J.id;j&&(J.clientId=j),J=st(J),J!=null?(J.id=$,b[V]=J):(delete _[$],b.splice(V--,1))}if(b.length===0)return;L&&(oe=b[0]);let K=m.getURL();te.appendMessageTypeToURL&&(K.match(/\/$/)||(K=K+"/"),W&&(K=K+W));const z={url:K,sync:!1,messages:b,onSuccess:V=>{try{Be.call(m,V)}catch(J){m._info("Exception during handling of messages",J)}},onFailure:(V,J,$)=>{try{const ee=m.getTransport();$.connectionType=ee?ee.getType():"unknown",Re.call(m,V,J,$)}catch(ee){m._info("Exception during handling of failure",ee)}}};m._debug("Send",z),R.send(z,L)}function me(b){E>0||B===!0?N.push(b):he([b],!1)}this.send=me;function ye(){U=0}function it(){return U<te.maxBackoff&&(U+=te.backoffIncrement),U}function ot(){++E,m._debug("Starting batch, depth",E)}function Ue(){const b=N;N=[],b.length>0&&he(b,!1)}function rt(){if(--E,m._debug("Ending batch, depth",E),E<0)throw"Calls to startBatch() and endBatch() are not paired";E===0&&!re()&&!B&&Ue()}function at(){if(!re()){const b={id:de(),channel:"/meta/connect",connectionType:R.getType()};Z||(b.advice={timeout:0}),fe("connecting"),m._debug("Connect sent",b),he([b],!0,"connect"),fe("connected")}}function ve(b){fe("connecting"),Le(()=>{at()},b)}function We(b){b&&(H=m._mixin(!1,{},te.advice,b),m._debug("New advice",H))}function ge(b){if(Oe(),b&&R&&R.abort(),S=!1,R=null,fe("disconnected"),j=null,E=0,ye(),X=!1,Z=!1,ne=0,oe=null,N.length>0){const L=N;N=[],Re.call(m,void 0,L,{reason:"Disconnected"})}}function je(b,L,W){const K=m.onTransportException;if(q(K)){m._debug("Invoking transport exception handler",b,L,W);try{K.call(m,W,b,L)}catch(z){m._info("Exception during execution of transport exception handler",z)}}}function He(b,L){q(b)&&(L=b,b=void 0),j=null,Ie(),re()&&x.reset(!0),We({}),E=0,B=!0,G=b,Y=L;const W="1.0",K=m.getURL(),z=x.findTransportTypes(W,S,K),V={id:de(),version:W,minimumVersion:W,channel:"/meta/handshake",supportedConnectionTypes:z,advice:{timeout:H.timeout,interval:H.interval}},J=m._mixin(!1,{},G,V);if(m._putCallback(J.id,L),!R&&(R=x.negotiateTransport(z,W,S,K),!R)){const $="Could not find initial transport among: "+x.getTransportTypes();throw m._warn($),$}m._debug("Initial transport is",R.getType()),fe("handshaking"),m._debug("Handshake sent",J),he([J],!1,"handshake")}function ct(b){fe("handshaking"),B=!0,Le(()=>{He(G,Y)},b)}function be(b,L){try{b.call(m,L)}catch(W){const K=m.onCallbackException;if(q(K)){m._debug("Invoking callback exception handler",W);try{K.call(m,W,L)}catch(z){m._info("Exception during execution of callback exception handler",z)}}else m._info("Exception during execution of message callback",W)}}this._getCallback=b=>_[b],this._putCallback=function(b,L){const W=this._getCallback(b);return q(L)&&(_[b]=L),W};function le(b){const L=m._getCallback([b.id]);q(L)&&(delete _[b.id],be(L,b))}function Ke(b){const L=Q[b.id];if(delete Q[b.id],L){m._debug("Handling remote call response for",b,"with context",L);const W=L.timeout;W&&m.clearTimeout(W);const K=L.callback;if(q(K))return be(K,b),!0}return!1}this.onTransportFailure=function(b,L,W){this._debug("Transport failure",L,"for",b);const K=this.getTransportRegistry(),z=this.getURL(),V=this._isCrossDomain(Te(z)[2]),J="1.0",$=K.findTransportTypes(J,V,z);if(L.action==="none"){if(b.channel==="/meta/handshake"&&!L.transport){const ee="Could not negotiate transport, client=["+$+"], server=["+b.supportedConnectionTypes+"]";this._warn(ee),je(R.getType(),null,{reason:ee,connectionType:R.getType(),transport:R})}}else if(L.delay=this.getBackoffPeriod(),b.channel==="/meta/handshake"){if(!L.transport){const ee=R?R.getType():null,ae=K.negotiateTransport($,J,V,z);if(!ae)this._warn("Could not negotiate transport, client=["+$+"]"),je(ee,null,b.failure),L.action="none";else{const ce=ae.getType();this._debug("Transport",ee,"->",ce),je(ee,ce,b.failure),L.action="handshake",L.transport=ae}}L.action!=="none"&&this.increaseBackoffPeriod()}else{const ee=new Date().getTime();if(ne===0&&(ne=ee),L.action==="retry"){L.delay=this.increaseBackoffPeriod();const ae=H.maxInterval;if(ae>0){const ce=H.timeout+H.interval+ae;ee-ne+U>ce&&(L.action="handshake")}}L.action==="handshake"&&(L.delay=0,K.reset(!1),this.resetBackoffPeriod())}W.call(m,L)};function _e(b){m._debug("Transport failure handling",b),b.transport&&(R=b.transport),b.url&&R.setURL(b.url);const L=b.action,W=b.delay||0;switch(L){case"handshake":ct(W);break;case"retry":ve(W);break;case"none":ge(!0);break;default:throw"Unknown action "+L}}function De(b,L){le(b),se("/meta/handshake",b),se("/meta/unsuccessful",b),re()&&(L.action="none"),m.onTransportFailure.call(m,b,L,_e)}function lt(b){const L=m.getURL();if(b.successful){const W=m._isCrossDomain(Te(L)[2]),K=x.negotiateTransport(b.supportedConnectionTypes,b.version,W,L);if(K===null){b.successful=!1,De(b,{cause:"negotiation",action:"none",transport:null});return}else R!==K&&(m._debug("Transport",R.getType(),"->",K.getType()),R=K);j=b.clientId,B=!1,Ue(),b.reestablish=X,X=!0,le(b),se("/meta/handshake",b),ie=b["x-messages"]||0;const z=re()?"none":H.reconnect||"retry";switch(z){case"retry":ye(),ie===0?ve(0):m._debug("Processing",ie,"handshake-delivered messages");break;case"none":ge(!0);break;default:throw"Unrecognized advice action "+z}}else De(b,{cause:"unsuccessful",action:H.reconnect||"handshake",transport:R})}function dt(b){De(b,{cause:"failure",action:"handshake",transport:null})}function ke(b){return F==="disconnected"?!0:oe&&oe.id===b.id?(oe=null,!0):!1}function Ye(b,L){se("/meta/connect",b),se("/meta/unsuccessful",b),re()&&(L.action="none"),m.onTransportFailure.call(m,b,L,_e)}function ut(b){if(ke(b))if(Z=b.successful,Z){se("/meta/connect",b);const L=re()?"none":H.reconnect||"retry";switch(L){case"retry":ye(),ve(U);break;case"none":ge(!1);break;default:throw"Unrecognized advice action "+L}}else Ye(b,{cause:"unsuccessful",action:H.reconnect||"retry",transport:R});else m._debug("Mismatched /meta/connect reply",b)}function ft(b){ke(b)?(Z=!1,Ye(b,{cause:"failure",action:"retry",transport:null})):m._debug("Mismatched /meta/connect failure",b)}function ze(b){ge(!0),le(b),se("/meta/disconnect",b),se("/meta/unsuccessful",b)}function ht(b){b.successful?(ge(!1),le(b),se("/meta/disconnect",b)):ze(b)}function mt(b){ze(b)}function Ge(b){const L=w[b.subscription];if(L){for(let W in L)if(L.hasOwnProperty(W)){const K=L[W];K&&!K.listener&&(delete L[W],m._debug("Removed failed subscription",K))}}le(b),se("/meta/subscribe",b),se("/meta/unsuccessful",b)}function gt(b){b.successful?(le(b),se("/meta/subscribe",b)):Ge(b)}function pt(b){Ge(b)}function Ve(b){le(b),se("/meta/unsubscribe",b),se("/meta/unsuccessful",b)}function Et(b){b.successful?(le(b),se("/meta/unsubscribe",b)):Ve(b)}function yt(b){Ve(b)}function Pe(b){Ke(b)||(le(b),se("/meta/publish",b),se("/meta/unsuccessful",b))}function vt(b){b.data!==void 0?Ke(b)||(se(b.channel,b),ie>0&&(--ie,ie===0&&(m._debug("Processed last handshake-delivered message"),ve(0)))):b.successful===void 0?m._warn("Unknown Bayeux Message",b):b.successful?(le(b),se("/meta/publish",b)):Pe(b)}function bt(b){Pe(b)}function Xe(b){if(ne=0,b=nt(b),b==null)return;switch(We(b.advice),b.channel){case"/meta/handshake":lt(b);break;case"/meta/connect":ut(b);break;case"/meta/disconnect":ht(b);break;case"/meta/subscribe":gt(b);break;case"/meta/unsubscribe":Et(b);break;default:vt(b);break}}this.receive=Xe,Be=b=>{m._debug("Received",b);for(let L=0;L<b.length;++L){const W=b[L];Xe(W)}},Re=(b,L,W)=>{m._debug("handleFailure",b,L,W),W.transport=b;for(let K=0;K<L.length;++K){const z=L[K],V={id:z.id,successful:!1,channel:z.channel,failure:W};switch(W.message=z,z.channel){case"/meta/handshake":dt(V);break;case"/meta/connect":ft(V);break;case"/meta/disconnect":mt(V);break;case"/meta/subscribe":V.subscription=z.subscription,pt(V);break;case"/meta/unsubscribe":V.subscription=z.subscription,yt(V);break;default:bt(V);break}}};function Qe(b){const L=w[b];if(L){for(let W in L)if(L.hasOwnProperty(W)&&L[W])return!0}return!1}function Je(b,L){const W={scope:b,method:L};if(q(b))W.scope=void 0,W.method=b;else if(ue(L)){if(!b)throw"Invalid scope "+b;if(W.method=b[L],!q(W.method))throw"Invalid callback "+L+" for scope "+b}else if(!q(L))throw"Invalid callback "+L;return W}function $e(b,L,W,K){const z=Je(L,W);m._debug("Adding",K?"listener":"subscription","on",b,"with scope",z.scope,"and callback",z.method);const V=++D,J={id:V,channel:b,scope:z.scope,callback:z.method,listener:K};let $=w[b];return $||($={},w[b]=$),$[V]=J,m._debug("Added",K?"listener":"subscription",J),J}this.registerTransport=function(b,L,W){const K=x.add(b,L,W);return K&&(this._debug("Registered transport",b),q(L.registered)&&L.registered(b,this)),K},this.unregisterTransport=function(b){const L=x.remove(b);return L!==null&&(this._debug("Unregistered transport",b),q(L.unregistered)&&L.unregistered()),L},this.unregisterTransports=()=>{x.clear()},this.getTransportTypes=()=>x.getTransportTypes(),this.findTransport=b=>x.find(b),this.getTransportRegistry=()=>x,this.configure=function(b){tt.call(this,b)},this.init=function(b,L){this.configure(b),this.handshake(L)},this.handshake=(b,L)=>{if(F!=="disconnected")throw"Illegal state: handshaken";He(b,L)},this.disconnect=function(b,L){if(re())return;q(b)&&(L=b,b=void 0);const W={id:de(),channel:"/meta/disconnect"},K=this._mixin(!1,{},b,W);m._putCallback(K.id,L),fe("disconnecting"),he([K],!1,"disconnect")},this.startBatch=()=>{ot()},this.endBatch=()=>{rt()},this.batch=function(b,L){const W=Je(b,L);this.startBatch();try{W.method.call(W.scope),this.endBatch()}catch(K){throw this._info("Exception during execution of batch",K),this.endBatch(),K}},this.addTransportListener=(b,L)=>{if(b!=="timeout")throw"Unsupported event "+b;let W=I[b];W||(I[b]=W=[]),W.push(L)},this.removeTransportListener=(b,L)=>{const W=I[b];if(W){const K=W.indexOf(L);if(K>=0)return W.splice(K,1),!0}return!1},this._getTransportListeners=b=>I[b],this.addListener=function(b,L,W){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!ue(b))throw"Illegal argument type: channel must be a string";return $e(b,L,W,!0)},this.removeListener=b=>{if(!b||!b.channel||!("id"in b))throw"Invalid argument: expected subscription, not "+b;we(b)},this.clearListeners=()=>{w={}},this.subscribe=function(b,L,W,K,z){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!Ae(b))throw"Illegal argument: invalid channel "+b;if(re())throw"Illegal state: disconnected";q(L)&&(z=K,K=W,W=L,L=void 0),q(K)&&(z=K,K=void 0);const V=!Qe(b),J=$e(b,L,W,!1);if(V){const $={id:de(),channel:"/meta/subscribe",subscription:b},ee=this._mixin(!1,{},K,$);m._putCallback(ee.id,z),me(ee)}else q(z)&&m.setTimeout(()=>{be(z,{id:de(),successful:!0,channel:"/meta/subscribe",subscription:b})},0);return J},this.unsubscribe=function(b,L,W){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(re())throw"Illegal state: disconnected";q(L)&&(W=L,L=void 0),this.removeListener(b);const K=b.channel;if(Qe(K))q(W)&&m.setTimeout(()=>{be(W,{id:de(),successful:!0,channel:"/meta/unsubscribe",subscription:K})},0);else{const z={id:de(),channel:"/meta/unsubscribe",subscription:K},V=this._mixin(!1,{},L,z);m._putCallback(V.id,W),me(V)}},this.resubscribe=function(b,L){if(Fe(b),b)return this.subscribe(b.channel,b.scope,b.callback,L)},this.clearSubscriptions=()=>{Ie()},this.publish=function(b,L,W,K){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!Ae(b))throw"Illegal argument: invalid channel "+b;if(/^\/meta\//.test(b))throw"Illegal argument: cannot publish to meta channels";if(re())throw"Illegal state: disconnected";q(L)?(K=L,L={},W=void 0):q(W)&&(K=W,W=void 0);const z={id:de(),channel:b,data:L},V=this._mixin(!1,{},W,z);m._putCallback(V.id,K),me(V)},this.publishBinary=function(b,L,W,K,z,V){q(L)?(V=L,L=new ArrayBuffer(0),W=!0,K=void 0,z=void 0):q(W)?(V=W,W=!0,K=void 0,z=void 0):q(K)?(V=K,K=void 0,z=void 0):q(z)&&(V=z,z=void 0);const J={meta:K,data:L,last:W},$=this._mixin(!1,z,{ext:{binary:{}}});this.publish(b,J,$,V)},this.remoteCall=function(b,L,W,K,z){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!ue(b))throw"Illegal argument type: target must be a string";if(re())throw"Illegal state: disconnected";if(q(L)?(z=L,L={},W=te.maxNetworkDelay,K=void 0):q(W)?(z=W,W=te.maxNetworkDelay,K=void 0):q(K)&&(z=K,K=void 0),typeof W!="number")throw"Illegal argument type: timeout must be a number";b.match(/^\//)||(b="/"+b);const V="/service"+b;if(!Ae(V))throw"Illegal argument: invalid target "+b;const J={id:de(),channel:V,data:L},$=this._mixin(!1,{},K,J),ee={callback:z};W>0&&(ee.timeout=m.setTimeout(()=>{m._debug("Timing out remote call",$,"after",W,"ms"),Pe({id:$.id,error:"406::timeout",successful:!1,failure:{message:$,reason:"Remote Call Timeout"}})},W),m._debug("Scheduled remote call timeout",$,"in",W,"ms")),Q[$.id]=ee,me($)},this.remoteCallBinary=function(b,L,W,K,z,V,J){q(L)?(J=L,L=new ArrayBuffer(0),W=!0,K=void 0,z=te.maxNetworkDelay,V=void 0):q(W)?(J=W,W=!0,K=void 0,z=te.maxNetworkDelay,V=void 0):q(K)?(J=K,K=void 0,z=te.maxNetworkDelay,V=void 0):q(z)?(J=z,z=te.maxNetworkDelay,V=void 0):q(V)&&(J=V,V=void 0);const $={meta:K,data:L,last:W},ee=this._mixin(!1,V,{ext:{binary:{}}});this.remoteCall(b,$,z,ee,J)},this.getStatus=()=>F,this.isDisconnected=re,this.setBackoffIncrement=b=>{te.backoffIncrement=b},this.getBackoffIncrement=()=>te.backoffIncrement,this.getBackoffPeriod=()=>U,this.increaseBackoffPeriod=()=>it(),this.resetBackoffPeriod=()=>{ye()},this.setLogLevel=b=>{te.logLevel=b},this.registerExtension=function(b,L){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!ue(b))throw"Illegal argument type: extension name must be a string";let W=!1;for(let K=0;K<O.length;++K)if(O[K].name===b){W=!0;break}return W?(this._info("Could not register extension with name",b,"since another extension with the same name already exists"),!1):(O.push({name:b,extension:L}),this._debug("Registered extension",b),q(L.registered)&&L.registered(b,this),!0)},this.unregisterExtension=function(b){if(!ue(b))throw"Illegal argument type: extension name must be a string";let L=!1;for(let W=0;W<O.length;++W){const K=O[W];if(K.name===b){O.splice(W,1),L=!0,this._debug("Unregistered extension",b);const z=K.extension;q(z.unregistered)&&z.unregistered();break}}return L},this.getExtension=b=>{for(let L=0;L<O.length;++L){const W=O[L];if(W.name===b)return W.extension}return null},this.getName=()=>M,this.getClientId=()=>j,this.getURL=()=>{if(R){let b=R.getURL();if(b||(b=te.urls[R.getType()],b))return b}return te.url},this.getTransport=()=>R,this.getConfiguration=function(){return this._mixin(!0,{},te)},this.getAdvice=function(){return this._mixin(!0,{},H)},this.setTimeout=(b,L)=>f.setTimeout(()=>{try{m._debug("Invoking timed function",b),b()}catch(W){m._debug("Exception invoking timed function",b,W)}},L),this.clearTimeout=b=>{f.clearTimeout(b)},window.WebSocket&&this.registerTransport("websocket",new t),this.registerTransport("long-polling",new a),this.registerTransport("callback-polling",new d)}const r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z",".","-",":","+","=","^","!","/","*","?","&","<",">","(",")","[","]","{","}","@","%","$","#"],u=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],g={encode:p=>{let f=null;if(p instanceof ArrayBuffer?f=p:p.buffer instanceof ArrayBuffer?f=p.buffer:Array.isArray(p)&&(f=new Uint8Array(p).buffer),f==null)throw"Cannot Z85 encode "+p;const m=f.byteLength,M=m%4,S=4-(M===0?4:M),x=new DataView(f);let R="",F=0;for(let T=0;T<m+S;++T){const j=T>=m;if(F=F*256+(j?0:x.getUint8(T)),(T+1)%4===0){let E=52200625;for(let N=5;N>0;--N){if(!j||N>S){const B=Math.floor(F/E)%85;R+=r[B]}E/=85}F=0}}return R},decode:p=>{const f=p.length%5,m=5-(f===0?5:f);for(let j=0;j<m;++j)p+=r[r.length-1];const M=p.length,S=new ArrayBuffer(M*4/5-m),x=new DataView(S);let R=0,F=0,T=0;for(let j=0;j<M;++j){const E=p.charCodeAt(F++)-32;if(R=R*85+u[E],F%5===0){let N=16777216;for(;N>=1;)T<x.byteLength&&x.setUint8(T++,Math.floor(R/N)%256),N/=256;R=0}}return S}};return c.default={CometD:o,Transport:i,RequestTransport:s,LongPollingTransport:a,CallbackPollingTransport:d,WebSocketTransport:t,Utils:l,Z85:g},c.default},y,P),y.exports=A},"mw-deprecation-utils/deprecation":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-log/Log"])],A=e.dj.d(C,function(c){"use strict";var v={};const h={deprecated:function(l){var n,i,s;let a=!1;if(typeof window=="object"&&(a=((n=window.$mwLog)==null?void 0:n.mode)==="PRODUCTION"||((s=(i=window.dojo)==null?void 0:i.config)==null?void 0:s.isDebug)===!1),!(!a||!!window.showDeprecationsAsErrors)||!this._isConfigValid(l))return;const t=window.showDeprecationsAsErrors||l.deprecationLevel===this.ERROR?this.ERROR:this.WARN;let o=`DEPRECATED: ${l.deprecated.module}${l.deprecated.method?"."+l.deprecated.method+"()":""}.`;l.replacement&&(o+=` Use ${l.replacement.module}${l.replacement.method?"."+l.replacement.method+"()":""} instead.`),l.removalVersion&&(o+=` Will be removed in version: ${l.removalVersion}.`),l.geckNumber&&(o+=` Please use g${l.geckNumber} to track latest information regarding this deprecation.`),l.additionalInformation&&(o+=` ${l.additionalInformation}`),c[t](o)},_isConfigValid:function(l){let n=!!l.deprecated&&typeof l.deprecated=="object"&&Object.hasOwn(l.deprecated,"module");return l.replacement&&(n=n&&typeof l.replacement=="object"&&Object.hasOwn(l.replacement,"module")),l.geckNumber&&(n=n&&typeof l.geckNumber=="number"),n||c.error("Supplied deprecationConfig properties are not valid. Please refer to mw-deprecation-utils JSDoc for the correct API usage."),n}};return Object.defineProperties(h,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),v.default=h,v.default},y,P),y.exports=A},"mw-html-utils/HtmlUtils":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-html-utils/_parseHtml/sanitize"]),e(e.dj.r.absMids["mw-deprecation-utils/deprecation"])],A=e.dj.d(C,function(c,v){"use strict";var h={};const l={HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,SINGLE_LETTER_DRIVE_REGEX:/^[a-zA-Z]:$/,parseQueryString:function(){const n=window.location.search;return this._parseQueryString(n)},_parseQueryString:function(n){const i=new URLSearchParams(n);return this._transformSearchParams(i)},_transformSearchParams:function(n){const i={};for(const s of n.keys()){let a=n.getAll(s);a.length===1&&(a=a[0]),i[s]=a}return i},parseUrl:function(n){const i=document.createElement("a");i.display="none",i.href=n||window.location.href;const s={protocol:i.protocol,hostname:i.hostname,port:i.port,pathname:i.pathname,search:i.search,hash:i.hash};return(s.protocol==="https:"||s.protocol==="http:")&&!s.pathname.startsWith("/")&&(s.pathname="/"+s.pathname),s.protocol==="https:"&&s.port==="443"&&!n.startsWith("https://"+s.hostname+":443")&&(s.port=""),s},escapeHtml:function(n){const i=document.createElement("div");return i.textContent=n,i.innerHTML},escapeLinksAndHtml:function(n,i){v.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});let s="";const a=n.split(this.HYPERLINK_ESCAPE_REGEXP),d=n.match(this.HYPERLINK_ESCAPE_REGEXP);let t="";const o=this,r=function(u,g,p,f){const m=o.parseUrl(g).protocol;m!=="http:"&&m!=="https:"&&m!=="matlab:"&&(g="#"),g=o.escapeHtml(g),f=o._strongNotEscaped(f,!0),t='<a href="'+g+'">'+f+"</a>"};if(i)s=this.escapeHtml(n),s=this.escapeWhitespace(s);else if(a[0]!==""&&(s=this._strongNotEscaped(a[0],!0)),d!==null&&d.length!==0)for(let u=0;u<d.length;u=u+1)d[u].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,r),a[u+1]!==""&&(a[u+1]=this._strongNotEscaped(a[u+1],!0)),s+=t+a[u+1];return s},treatHtmlLikeCommandWindow:function(n,i,s){if(typeof n!="string")return"";let a="";const d=n.split(this.HYPERLINK_ESCAPE_REGEXP),t=n.match(this.HYPERLINK_ESCAPE_REGEXP);let o="";const r=this;s=s||{};const u=function(g,p,f,m){const M=r.parseUrl(p).protocol;let S="";M!=="http:"&&M!=="https:"&&M!=="matlab:"&&M!=="file:"&&!M.match(r.SINGLE_LETTER_DRIVE_REGEX)&&(p="#"),p=r.escapeHtml(p),m=r._strongNotEscaped(m,!1),r.BOLD_LINK_ATTRIBUTE_REGEX.test(f)&&(S=' style="font-weight:bold"'),o='<a href="'+p+'"'+S+">"+m+"</a>"};if(i)a=this.escapeHtml(n);else if(d[0]!==""&&(a=this._strongNotEscaped(d[0],!1)),t!==null&&t.length!==0)for(let g=0;g<t.length;g=g+1)t[g].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,u),d[g+1]!==""&&(d[g+1]=this._strongNotEscaped(d[g+1],!1)),a+=o+d[g+1];return s.addPreTagToPreserveWhiteSpace&&(a='<span style="white-space: pre">'+a+"</span>"),a},_strongNotEscaped:function(n,i){let s="";const a=n.match(this.STRONG_ESCAPE_REGEXP),d=n.split(this.STRONG_ESCAPE_REGEXP);let t=function(r){return r};if(i&&(t=this.escapeWhitespace),a!==null&&a.length!==0){s=t(this.escapeHtml(d[0]));for(let o=0;o<a.length;o=o+1)s+=a[o]+t(this.escapeHtml(d[o+1]))}else s=t(this.escapeHtml(n));return s},escapeWhitespace:function(n){return v.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use <span style="white-space: pre">...</span>'}}),n=n||"",n.replace(/\n/g,"<br>").replace(/ {2}/g,"&nbsp;&nbsp;")},handleAnchors:function(n,i){var s;if((s=i==null?void 0:i.target)!=null&&s.href){i.preventDefault(),i.stopPropagation();const a=i.target.href;if(a.indexOf("matlab:")!==-1){if(a.substring(0,7)==="matlab:"){const t=i.target.href.substring(7);n(window.decodeURIComponent(t))}}else window.open(i.target.href)}},isElementOverflown:function(n){return n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth},sanitizeHtmlFromJava:c.sanitizeHtmlFromJava,sanitizeHtml:c.sanitizeHtml};return h.default=l,h.default},y,P),y.exports=A},"mw-html-utils/_parseHtml/sanitize":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};const v={A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width","rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:["autoplay","controls","loop","preload","src","height","width"]},h=Object.assign(v),l={href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},n=Object.assign(l),i=["backgroundColor","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","color","fontFamily","fontSize","fontStyle","fontWeight","height","lineHeight","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textAnchor","textDecoration","textIndent","textOverflow","textShadow","textTransform","width"],s=[...i];s.push("whiteSpace");const a=function(o,r,u){const g=r.getAttribute("style"),p=u?i:s;if(o.style&&g!==null&&g!=="")for(const f of p){const m=r.style[f];o.style[f]!==void 0&&(o.style[f]=m)}},d=function(o,r,u,g,p){const f=typeof window=="object"&&window.Node?window.Node.ELEMENT_NODE:1,m=typeof window=="object"&&window.Node?window.Node.TEXT_NODE:3;return p=p||{},function(M){const S=function(N,B){const D=String.prototype.trim.call(B),w=D.indexOf(":");if(w<0){if(N.relative[D.charAt(0)])return D;if(p.allowRelative){if(D.charAt(0)==="."){if(D.charAt(1)===".")return D.charAt(2)==="/"?D.charAt(3)===""?"#":D:"#";if(D.charAt(1)==="/")return D.charAt(2)===""?"#":D;if(D.charAt(1)==="")return"#"}return"./"+D}}const I=D.substring(0,w);return N[I+":"]?D:"#"},x=function(N,B){const D=[];for(const w of N)if(B.hasAttribute(w)){const I=B.getAttribute(w);let U="";r[w]?U=S(r[w],I):U=I,D.push({key:w,value:U})}return D},R=function(N){let B;if(N.nodeType===f)if(o[N.tagName]){B=document.createElement(N.tagName);const w=o[N.tagName];x(w,N).forEach(U=>{B.setAttribute(U.key,U.value)}),u&&a(B,N,g)}else B=document.createDocumentFragment();else N.nodeType===m?B=document.createTextNode(N.textContent):B=document.createDocumentFragment();return B},F=function(N,B=0){const D=document.createDocumentFragment();if(B>150||!N)return D;for(let w=N.firstChild;w;w=w.nextSibling){const I=R(w);w.nodeType===f&&I.appendChild(F(w,B+1)),D.appendChild(I)}return D},j=new DOMParser().parseFromString(M,"text/html");let E;return j.body?E=F(j.body):E=document.createDocumentFragment(),E}},t={sanitizeHtmlFromJava:d(v,l,!0,"java"),sanitizeHtml:(o,r={})=>d(h,n,!0,!1,r)(o)};return c.default=t,c.default},y,P),y.exports=A},"mw-log/Log":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-log/impl/Modes"]),e(e.dj.r.absMids["mw-log/impl/Levels"]),e(e.dj.r.absMids["mw-log/impl/Type"]),e(e.dj.r.absMids["mw-log/impl/Backlog"]),e(e.dj.r.absMids["mw-log/util/LogUtils"]),e(e.dj.r.absMids["mw-log/util/LogForwardingUtils"])],A=e.dj.d(C,function(c,v,h,l,n,i){"use strict";var s={};const a="DEFAULT",t=l.create(100),o={debug:4,log:3,dir:3,table:3,trace:3,time:3,timeEnd:3,group:3,groupCollapsed:3,groupEnd:3,info:2,warn:1,assert:0,error:0},r={};let u=0,g=v.DEBUG,p=c.DEVELOPMENT;const f=[],m={};let M=null,S=null,x=null;class R{constructor(T){if(m[T]!=null)return;n.makeReadOnlyProperty(this,"name",T),m[this.name]=this,this._timers={},this._threshold=v.DEBUG,this._showTimestamp=!0,n.makeReadOnlyProperty(this,"modes",c),n.makeReadOnlyProperty(this,"levels",v);const j=this;typeof window=="object"&&(window.$mwLog={get filter(){return j.filter},set filter(E){j.filter=E},get mode(){return j.mode},set mode(E){j.mode=E}})}static _sanitizeLevel(T){return typeof T=="number"?T:v.DEBUG}static _sanitizeMode(T){return n.objectValues(c).indexOf(T)>-1?T:c.DEVELOPMENT}setLogForwarder(T){i.isLogForwarder(T)?S=T:this.warn("Failed to set up logForwarder")}setLogConfig(T){i.isLogConfig(T)?x=T:this.warn("Failed to set up logConfig")}get threshold(){return this._threshold}set threshold(T){this._threshold=R._sanitizeLevel(T)}get showTimestamp(){return this._showTimestamp}set showTimestamp(T){this._showTimestamp=!!T}get globalThreshold(){return g}set globalThreshold(T){g=R._sanitizeLevel(T)}get mode(){return p}set mode(T){T&&(p=R._sanitizeMode(T))}get filter(){return M}set filter(T){(typeof T=="function"||T===null)&&(M=T)}_shouldLog(T,j){if(M&&p===c.DEVELOPMENT){const E={name:this.name,type:j};return!!M(E)}return g>T&&this._threshold>T}_nameAndTime(){const T=[];return this.name!==a&&T.push(this.name),this._showTimestamp&&T.push(n.currentTimeString()),T}table(T){if(this._shouldLog(o.table,h.TABLE)){const j={namespace:this.name,type:h.TABLE,message:[T],time:new Date};t.add(j),n.printToConsole(h.LOG,this._nameAndTime(),p),n.printToConsole(h.TABLE,[T],p),n.execCallbacks(r,j)}}trace(){if(this._shouldLog(o.trace,h.TRACE)){const T={namespace:this.name,type:h.TRACE,message:null,time:new Date};let E=new Error().stack.split(`
`);for(E[0]==="Error"&&E.shift();E[0].includes("Log.js")||E[0].includes("logger.trace")||E[0].includes("trace");)E.shift();E=E.join(`
`),T.message=[E],t.add(T),n.printToConsole(h.LOG,this._nameAndTime(),p),n.printToConsole(h.TRACE,[],p),n.execCallbacks(r,T)}}time(T){this._shouldLog(o.time)&&(this._timers[T]==null?this._timers[T]=new Date().getTime():this.warn('timer "'+T+'" already exists.'))}timeEnd(T){if(this._shouldLog(o.timeEnd,h.TIME_END)){const j={namespace:this.name,type:h.TIME_END,message:null,time:new Date};if(this._timers[T]!=null){const E=new Date().getTime()-this._timers[T];j.message=[T+": "+E+"ms - timer ended"],t.add(j),n.printToConsole(h.LOG,this._nameAndTime().concat(j.message),p),n.execCallbacks(r,j),this._timers[T]=null}else this.warn('timer "'+T+`" doesn't exist.`)}}_group(T,j){if(this._shouldLog(o.group,j?h.GROUP_COLLAPSED:h.GROUP)){const E=j?h.GROUP_COLLAPSED:h.GROUP,N={namespace:this.name,type:E,message:[T],time:new Date};f.push(T),t.add(N),n.printToConsole(E,[T],p),n.execCallbacks(r,N)}}groupCollapsed(T){this._group(T,!0)}group(T){this._group(T,!1)}groupEnd(){if(this._shouldLog(o.groupEnd,h.GROUP_END)){const T=f.pop(),j={namespace:this.name,type:h.GROUP_END,message:[T],time:new Date};t.add(j),n.printToConsole(h.GROUP_END,[],p),n.execCallbacks(r,j)}}assert(T,j){if(this._shouldLog(o.assert,h.ASSERT)&&!T){const E={namespace:this.name,type:h.ASSERT,message:["Assertion failed:",j],time:new Date};t.add(E),E.message.shift();const N=[!1].concat(this._nameAndTime().concat(E.message));n.printToConsole(h.ASSERT,N,p),n.execCallbacks(r,E)}}_basicLogMethod(T,j,E){if(this._shouldLog(j,T)){const B={namespace:this.name,type:T,message:E,time:new Date};E=this._nameAndTime().concat(E),t.add(B),n.printToConsole(T,E,p),n.execCallbacks(r,B)}const N=i.translateToForwardLevel(T);i.shouldForward(N,this.name,S,x)&&S[N](E)}debug(T){const j=Array.prototype.slice.call(arguments);this._basicLogMethod(h.DEBUG,o.debug,j)}log(T){const j=Array.prototype.slice.call(arguments);this._basicLogMethod(h.LOG,o.log,j)}dir(T){const j=Array.prototype.slice.call(arguments);this._basicLogMethod(h.DIR,o.dir,j)}info(T){const j=Array.prototype.slice.call(arguments);this._basicLogMethod(h.INFO,o.info,j)}warn(T){const j=Array.prototype.slice.call(arguments);this._basicLogMethod(h.WARN,o.warn,j)}error(T){const j=Array.prototype.slice.call(arguments);this._basicLogMethod(h.ERROR,o.error,j)}addCallback(T,j){r[u]=T,j&&t.applyCallback(T);const E={},N=u;return E.remove=()=>{delete r[N]},u++,E}createLogger(T){const j=new R(T);return j.name?j:m[T]}}return s.default=new R(a),s.default},y,P),y.exports=A},"mw-log/impl/Backlog":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-log/util/LogUtils"])],A=e.dj.d(C,function(c){"use strict";var v={};function h(n){const i={},s=[];c.makeReadOnlyProperty(i,"size",n);let a=0;return i.add=function(d){s[a]=d,a=(a+1)%i.size},i.applyCallback=function(d){let t=a+1;s[t]===void 0&&(t=0);let o=0,r=t;for(;o<i.size&&s[r]!==void 0;)d(s[r]),r=(r+1)%n,o++},i}const l={};return l.create=h,v.default=l,v.default},y,P),y.exports=A},"mw-log/impl/Levels":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};const v={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};return Object.freeze(v),c.default=v,c.default},y,P),y.exports=A},"mw-log/impl/Modes":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};const v={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};return Object.freeze(v),c.default=v,c.default},y,P),y.exports=A},"mw-log/impl/Type":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};const v={DEBUG:"debug",LOG:"log",TABLE:"table",TRACE:"trace",TIME_END:"timeEnd",GROUP:"group",GROUP_COLLAPSED:"groupCollapsed",GROUP_END:"groupEnd",DIR:"dir",INFO:"info",WARN:"warn",ASSERT:"assert",ERROR:"error"};return Object.freeze(v),c.default=v,c.default},y,P),y.exports=A},"mw-log/util/LogForwardingUtils":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};const v={};return v.isLogForwarderEmpty=function(h){return h==null},v.isLogConfigEmpty=function(h){return h==null||h.mwLogConfig==null},v.ismwLoggerConfigEmpty=function(h){return h==null||h.otelLoggerLevel==null},v.shouldForward=function(h,l,n,i){if(this.isLogForwarderEmpty(n)||this.isLogConfigEmpty(i))return!1;const s=l in i.mwLogConfig?i.mwLogConfig[l]:i.mwLogConfig.default;return this.ismwLoggerConfigEmpty(s)?!1:n.forwardLevelCheck(h,s.otelLoggerLevel)},v.isLogForwarder=function(h){return h!=null&&h.interface==="LogForwarder"},v.isLogConfig=function(h){return h!=null&&h.interface==="LogConfig"},v.translateToForwardLevel=function(h){return h==="info"&&(h="log"),h},c.default=v,c.default},y,P),y.exports=A},"mw-log/util/LogUtils":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-log/impl/Modes"])],A=e.dj.d(C,function(c){"use strict";var v={};const h={};return h.objectValues=function(l){const n=[];for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.push(l[i]);return n},h.makeReadOnlyProperty=function(l,n,i){Object.defineProperty(l,n,{value:i,writable:!1})},h.execCallbacks=function(l,n){const i=h.objectValues(l);for(const s in i)i[s](n)},h.currentTimeString=function(){const l=new Date;return l.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+l.getTime()%1e3},h.printToConsole=function(l,n,i){(i!==c.PRODUCTION||l==="error")&&console[l].apply(console,n)},v.default=h,v.default},y,P),y.exports=A},"mw-messageservice/MessageService":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceAsync"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/messageServiceFactory"]),e(e.dj.r.absMids["mw-remote/Remote"])],A=e.dj.d(C,function(c,v,h,l,n){"use strict";var i={};function s(r,u){const g=u._startFunction||u.start,p=u.stop,f=r._startFunction||r.start,m=r.stop,M=function(){f.call(r,[]),g.call(u,[])},S=function(){p.call(u,[]),m.call(r,[])};u._startFunction?u._startFunction=M:u.start=M,r._startFunction?r._startFunction=M:r.start=M,u.stop=S,r.stop=S}const a=c(new v(n,null,null,null,{instanceType:h.MATLAB_SERVICE_HOST.name})),d=new v(n,null,null,null,{instanceType:h.APP_SERVICE_HOST.name});let t;n.enableServerOnWorkerAsync=function(){},n.disableServerOnWorkerAsync=function(){};const o={};return o[h.APP_SERVICE_HOST.name]=()=>(t||(t=c(d),a.isStarted()&&t.start(),s(a,t)),t),o[h.MATLAB_SERVICE_HOST.name]=()=>a,a.create=function(r){return l(o,r)},i.default=a,i.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/MessageServiceAsync":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["cometd/cometd"]),e(e.dj.r.absMids["cometd/AckExtension"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a,d){"use strict";var t={};let o,r,f=0,m=0;const M={},S=200;setInterval(function(){f+=S,Object.keys(M).forEach(function(E){const N=M[E];N&&N.execTime<=f&&(N.func(),delete M[E])})},S);const x=function(E,N){if(N===0)return o(E,N);{m+=1;const B=`t-${m}`;return M[B]={func:function(){try{E()}catch(D){a.warn(`Exception invoking timed function in callback
, this is likely an issue with code calling MessageService`,E,D)}},execTime:f+N},B}},R=function(E){typeof E=="number"?r(E):delete M[E]},F=function(E,N,B,D,w){const I=new l.CometD(E);return I.registerExtension("ack",new n),o=I.setTimeout,r=I.clearTimeout,I.setTimeout=x,I.clearTimeout=R,I},T=function(E,N){E.successful?N.resolve(E):(a.warn("Message failed: ",JSON.stringify(E)),N.reject(E))},j=c([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(E,N,B,D,w){w=w||{},this.remote=E,this.constructCometD=N||F,this.workerProxyAsyncClient=B||new d("remoteWorkerAsyncProducer");const I=s[w.instanceType];I&&(this.BASE_PREFIX=I.BASE_PREFIX,this.BASE_END_POINT=I.BASE_END_POINT),this.cometdProperties=D||{useWorkerScheduler:!1,stickyReconnect:!0,connectTimeout:5e3,maxConnections:2,backoffIncrement:2e3,maxBackoff:2e3,logLevel:"warn",maxNetworkDelay:2e4,requestHeaders:{},appendMessageTypeToURL:!1,autoBatch:!0,urls:{},maxURILength:2e3,maxSendBayeuxMessageSize:Number.MAX_SAFE_INTEGER};const U=["maxNetworkDelay","connectTimeout","logLevel"],k=v.cometdProperties;if(k)for(let G=0;G<U.length;G+=1){const Y=U[G];k[Y]!==void 0&&(this.cometdProperties[Y]=k[Y])}this.subscriptions={},this.recentMessages=[],this._deferredCleanupFunction=()=>{this._deferredCleanup=!1,this.recentMessages=[]},this.routingHost=j.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const O=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=O?O.withCredentials:!1;const H=this._setUpEndPoint();this.computeToken&&(H.computeToken=this.computeToken),this.cometdProperties.url=H.url,this.cometdProperties.requestHeaders={computeToken:H.computeToken},this.cometd=null,this._connectedAtLeastOnce=!1,this.logCometdLifecycle&&a.info("MessageServiceAsync will construct new cometd instance when connecting.")},onMessage:function(E){},onConnectionError:function(E){},onConnectionFails:function(){},onConnectionSuccess:function(){},connect:function(E){this.routingHost=j.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const N=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=N?N.withCredentials:!1;const B=this._setUpEndPoint();this.computeToken&&(B.computeToken=this.computeToken),this.cometdProperties.url=B.url,this.cometdProperties.requestHeaders={computeToken:B.computeToken},this.cometd||(this.cometd=this.constructCometD("messageService",this.workerProxyAsyncClient,{websocket:j.enableWebsocket},B,this.remote),this.registerTransports({websocket:j.enableWebsocket}),this.logCometdLifecycle&&a.info("MessageServiceAsync constructing new cometd instance."));const D=new h;let w=0;return this.cleanupListeners(),this._handshakeHandle=this.cometd.addListener("/meta/handshake",I=>{if(I.successful===!0){w=0;let U,k;const O=[];this.doStartBatch();for(U in E)Object.prototype.hasOwnProperty.call(E,U)&&(k=E[U],O.push(this.doSubscribe(U)),k.subscribed=!0);this.doEndBatch(),Promise.all(O).then(H=>{this._connectedAtLeastOnce=!0,D.isFulfilled()?this.cometd&&this.onConnectionSuccess():D.resolve(H)},()=>{let H,G;const Y=[];this.doStartBatch();for(H in E)Object.prototype.hasOwnProperty.call(E,H)&&(G=E[H],Y.push(this.doSubscribe(H)),G.subscribed=!0);this.doEndBatch(),Promise.all(Y).then(_=>{this._connectedAtLeastOnce=!0,D.isFulfilled()?this.cometd&&this.onConnectionSuccess():D.resolve(_)},_=>{D.reject(_)})})}}),this._connectHandle=this.cometd.addListener("/meta/connect",I=>{I.successful===!0&&(w>0&&this.cometd&&this.onConnectionSuccess(),w=0)}),this._unsuccessHandle=this.cometd.addListener("/meta/unsuccessful",I=>{if((I.channel==="/meta/handshake"||I.channel==="/meta/connect"||I.advice&&I.advice.reconnect==="handshake")&&w<30)w+=1,w===1&&this.onConnectionError(I);else if(I.channel==="/meta/disconnect")D&&!D.isFulfilled()&&D.reject(I);else if(w>=30){const U=this.doDisconnect();this._connectedAtLeastOnce||U.catch(()=>{a.info("MessageService never got connected to the server, and the attempt to disconnect also fails. Suppressing console error with this info log")}),D&&!D.isFulfilled()?D.reject(I):this.onConnectionFails()}}),this.cometd.init(this.cometdProperties),D.promise},registerTransports:function(E){const N=new l.LongPollingTransport;N.accept=()=>!0;const B=new l.WebSocketTransport;this.cometd.unregisterTransports(),E[i.WEBSOCKET]&&this.cometd.registerTransport(i.WEBSOCKET,B,0),this.cometd.registerTransport(i.LONG_POLLING,N,1)},disconnect:function(){this.logCometdLifecycle&&a.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());const E=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(),E},destructCometd:function(){this.cometd&&(this.cleanupListeners(),this.cometd=null,this.logCometdLifecycle&&a.info("MessageServiceAsync destroying cometd instance."))},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&a.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect())},cleanupListeners:function(){this._handshakeHandle&&this.cometd.removeListener(this._handshakeHandle),this._connectHandle&&this.cometd.removeListener(this._connectHandle),this._unsuccessHandle&&this.cometd.removeListener(this._unsuccessHandle)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected()&&this.cometd.getStatus()!=="handshaking":!1},doPublish:function(E,N){const B=new h;return this.cometd.publish(this._getRequestChannel(E),N,{},function(D){T(D,B)}),B.promise},doSubscribe:function(E){this.logCometdSubscriptions&&a.info("MessageServiceAsync subscribing cometd to channel: "+E);const N=this._createOneShotMessagePromise("/meta/subscribe");return this.subscriptions[E]=this.cometd.subscribe(this._getRequestChannel(E),this,this._handleCometResponse),N},doDisconnect:function(){this.logCometdSubscriptions&&a.info("MessageServiceAsync sending disconnect to cometd");const E=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(!0),E},doUnsubscribe:function(E){if(this.subscriptions[E]){this.logCometdSubscriptions&&a.info("MessageServiceAsync unsubscribing cometd from channel: "+E);const N=this._createOneShotMessagePromise("/meta/unsubscribe");return this.cometd.unsubscribe(this.subscriptions[E]),delete this.subscriptions[E],N}else return new h().resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(E){this.workerProxyAsyncClient.setLatency(E)},doSetErrorRate:function(E){this.workerProxyAsyncClient.setErrorRate(E)},getTransport:function(){return this.cometd&&!this.cometd.isDisconnected()?this.cometd.getTransport().getType():i.UNKNOWN},_handleCometResponse:function(E){this._shouldHandleMessage(E)&&this.onMessage(this._stripBasePrefixAndConvertToJson(E))},_shouldHandleMessage:function(E){return E.id?!1:this.recentMessages.indexOf(E)<0?(this.recentMessages.push(E),this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(E){const N=new h;return this._addOneShotListener(E,function(B){T(B,N)}),N.promise},_addOneShotListener:function(E,N){const B=this,D=this.cometd,w=this.cometd.addListener(E,function(I){D.removeListener(w),N.apply(B,arguments)})},_setUpEndPoint:function(){let E,N=!1;const B="MESSAGE_SERVICE_ASYNC_ENDPOINT",D=!0,w=!0;let I;return E=this.routingHost||"/",E.slice(-1)!=="/"&&(E+="/"),E+=this.BASE_END_POINT,this.routingKey&&(E+="?routingkey="+this.routingKey),{remoteSupportsSendPayload:N,url:E,endPointName:B,endPointAllowsDirectXhr:I}},_getRequestChannel:function(E){return this.BASE_PREFIX+E},_stripBasePrefixAndConvertToJson:function(E){return{channel:E.channel.substring(this.BASE_PREFIX.length),data:E.data}}});return j.enableWebsocket=!1,j.workerHostOverride=!1,window.location.search.indexOf("websocket=on")>=0&&(j.enableWebsocket=!0),t.default=j,t.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/MessageServiceBase":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceState"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/isValidChannel"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a){"use strict";var d={};return d.default=c([i],{logSubscriptions:!1,constructor:function(){this.batching=!0,this.typeSerializers=[],this.typeDeserializers={},this.channelSubscriptions={},this._queuedOps=[],this._hasConnected=!1},setDelegate:function t(o){this.inherited("setDelegate",t,arguments),h.after(this._delegate,"onMessage",v.hitch(this,this.handleMessage),!0)},publish:function(t,o){if(!s(t))throw new Error(`Illegal argument: invalid channel name ${t}`);if(this.isConnected()){const r=this._queuePublish(t,this.serialize(o));return this._deferProcessQueue(),r}else return this._queuePublish(t,this.serialize(o))},subscribe:function(t,o,r){if(!s(t))throw new Error(`Illegal argument: invalid channel name ${t}`);this.logSubscriptions&&n.info("MessageService subscribe: "+t,o,r);const u=this._queueSubscribe(t,o,r);return this._addHandler(this.channelSubscriptions,t,o,r),u.catch(()=>{u.isCanceled()||this._removeHandler(this.channelSubscriptions,t,o,r)}),this.isConnected()&&this._deferProcessQueue(),u},unsubscribe:function(t,o,r){if(!s(t))throw new Error(`Illegal argument: invalid channel name ${t}`);if(this.logSubscriptions&&n.info("MessageService unsubscribe: "+t,o,r),this._removeHandler(this.channelSubscriptions,t,o,r)){if(this._removeQueuedMatchingSubscribe(t,o,r))return new l().resolve();if(this.isConnected()){const g=this._queueUnsubscribe(t,o,r);return this._deferProcessQueue(),g}else return new l().resolve()}else return n.error("Not subscribed to channel: "+t+", can't unsubscribe."),new l().reject("Not subscribed to channel: "+t+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw new Error("Can only manually flush the queue when connected.")},setLatency:function(t){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(t)},setErrorRate:function(t){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(t)},getTransport:function(){return this._delegate&&this._delegate.getTransport?this._delegate.getTransport():a.UNKNOWN},_enterDisconnected:function t(){this.inherited("_enterDisconnected",t,arguments),this._rejectQueue()},_enterConnecting:function t(){this.inherited("_enterConnecting",t,arguments),Object.keys(this.channelSubscriptions).forEach(o=>{this.channelSubscriptions[o].subscribed=!1})},_enterConnected:function t(){this._hasConnected=!0,this.inherited("_enterConnected",t,arguments),this._processQueue()},_enterDisconnecting:function t(){this._processQueue(),this.inherited("_enterDisconnecting",t,arguments)},_enterFatallyDisconnected:function t(){this.inherited("_enterFatallyDisconnected",t,arguments),this._rejectQueue()},_queuePublish:function(t,o){const r=new l;return this._queuedOps.push({type:"publish",channel:t,data:o,deferred:r}),r.promise},_queueSubscribe:function(t,o,r){const u=new l;return this._queuedOps.push({type:"subscribe",channel:t,handler:o,scope:r,deferred:u}),u.promise},_removeQueuedMatchingSubscribe:function(t,o,r){let u;for(let g=this._queuedOps.length-1;g>=0;g-=1)if(u=this._queuedOps[g],u.type==="subscribe"&&u.channel===t&&u.handler===o&&u.scope===r){this._queuedOps.splice(g,1);const p=this._delegate&&this._delegate.delegateConnected();return this.isConnected()&&p&&u.deferred.resolve(),!0}},_queueUnsubscribe:function(t,o,r){const u=new l;return this._queuedOps.push({type:"unsubscribe",channel:t,handler:o,scope:r,deferred:u}),u.promise},_processQueue:function(){const t=this._delegate&&this._delegate.delegateConnected();if(!(this.isConnected()&&t)&&this._currentState!=="disconnecting")return;this._delegate.doStartBatch();const r=this._queuedOps;this._queuedOps=[],r.forEach(function(u){let g;u.type==="publish"?g=this._delegate.doPublish(u.channel,u.data):u.type==="subscribe"?g=this._doSubscribe(u.channel,u.handler,u.scope):u.type==="unsubscribe"&&(g=this._doUnsubscribe(u.channel,u.handler,u.scope)),g.then(u.deferred.resolve,u.deferred.reject)},this),this._delegate.doEndBatch()},_rejectQueue:function(){if(this._hasConnected){for(let t=0;t<this._queuedOps.length;t+=1)this._queuedOps[t].deferred.reject(new Error("MessageService disconnected. Discarding queued message"));this._queuedOps=[]}this._hasConnected=!1},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){const t=this;this._deferredTimeout=setTimeout(function(){t._deferredTimeout=!1,t._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(t){if(this.channelSubscriptions[t].subscribed)return new l().resolve();{const o=this._delegate.doSubscribe(t);return this.channelSubscriptions[t].subscribed=!0,o.catch(()=>{this.channelSubscriptions[t].subscribed=!1}),o}},_doUnsubscribe:function(t){return this.channelSubscriptions[t]?new l().resolve():this._delegate.doUnsubscribe(t)},handleMessage:function(t){let o;if(t&&t.channel){t.data&&(t.data=this.deserialize(t.data));const r=t.channel.split("/");for(o=1;o<=r.length;o+=1)this._callHandlers(this.channelSubscriptions,r.slice(0,o).concat("**").join("/"),t);this._callHandlers(this.channelSubscriptions,r.slice(0,r.length-1).concat("*").join("/"),t),this._callHandlers(this.channelSubscriptions,r.concat("*").join("/"),t),this._callHandlers(this.channelSubscriptions,t.channel,t)}},registerMessageHandler:function(t,o,r){n.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(t,o,r){n.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(t,o,r){this.typeSerializers.push({typeMatcher:t,type:o,serializer:r})},registerTypeDeserializer:function(t,o){this.typeDeserializers[t]=o},serialize:function(t){return Array.isArray(t)?this._serializeArray(t):t==null||typeof t=="number"||typeof t=="boolean"||v.isString(t)?t:this._serializeObject(t)},deserialize:function(t){return Array.isArray(t)?this._deserializeArray(t):typeof t=="number"||typeof t=="boolean"||v.isString(t)?t:this._deserializeObject(t)},_addHandler:function(t,o,r,u){if(u=u||this,typeof r=="string"&&typeof u[r]!="function"){n.warn("Not adding invalid handler: "+r);return}let g=t[o];g||(g=[],t[o]=g);const p={channel:o,handler:r,scope:u};g.push(p),g.sort(function(f){return f.exclusive?-1:0})},_removeHandler:function(t,o,r,u){u=u||this;const g=t[o],p=this._getHandlerIndex(g,{handler:r,scope:u});return p>=0&&g.splice(p,1),(!g||g.length===0)&&delete t[o],p>=0},_callHandlers:function(t,o,r){let u,g;if(Object.prototype.hasOwnProperty.call(t,o))for(u=t[o],g=0;g<u.length;g+=1)try{typeof u[g].handler=="string"?u[g].scope[u[g].handler].call(u[g].scope,r):u[g].handler.call(u[g].scope,r)}catch(p){n.error("Error while executing message handler on channel: "+o+", message: "+JSON.stringify(r,null,2)+", error: ",p)}},_getHandlerIndex:function(t,o){if(!t)return-1;let r;for(r=0;r<t.length;r+=1)if(o.handler===t[r].handler&&o.scope===t[r].scope)return r;return-1},_serializeObject:function(t){let o;for(o=0;o<this.typeSerializers.length;o+=1){const u=this.typeSerializers[o];if(u.typeMatcher(t))return{__type__:u.type,__value__:u.serializer.call(this,t)}}if(t instanceof window.Image)return t;const r={};for(const u in t)Object.prototype.hasOwnProperty.call(t,u)&&(r[u]=this.serialize(t[u]));return r},_serializeArray:function(t){const o=Array.from(t);let r;const u=o.length;for(r=0;r<u;r+=1)o[r]=this.serialize(o[r]);return o},_deserializeObject:function(t){let o;if(t==null)return null;if(Object.prototype.hasOwnProperty.call(t,"__type__")&&Object.prototype.hasOwnProperty.call(t,"__value__"))try{return this.typeDeserializers[t.__type__].call(this,t.__value__)}catch(r){n.error("Error while trying to deserialize: ",t,"Error: ",r)}for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&t[o]!==null&&t[o]!==void 0&&(t[o]=this.deserialize(t[o]));return t},_deserializeArray:function(t){let o;const r=t.length;for(o=0;o<r;o+=1)t[o]=this.deserialize(t[o]);return t}}),d.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/MessageServiceState":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Evented"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-statemachine/StateMachine"]),e(e.dj.r.absMids["mw-log/Log"])],A=e.dj.d(C,function(c,v,h,l,n,i){"use strict";var s={};return s.default=c([v],{logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"connected",_connectFailure:"fatallyDisconnected",stop:"disconnected"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"connecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(a){this._delegate!==a&&(this._delegate=a,this._states=new n(this._stateOptions),l.after(this._states,"onEnterState",h.hitch(this,this._enterState),!0),this._states.start());const d=this;l.after(this._delegate,"onConnectionError",function(t){d._changeStateToConnecting(t)},!0),l.after(this._delegate,"onConnectionFails",function(){d._currentState="fatallyDisconnected",d._enterFatallyDisconnected()},!0),l.after(this._delegate,"onConnectionSuccess",function(){d._currentState="connected",d._enterConnected()},!0)},_changeStateToConnecting:function(a){i.info("Something wrong with connection, so changing state to connecting now, cometd is trying to connect again on its own. Here are some details about the error: ",JSON.stringify(a)),this._currentState="connecting",this.onNotConnected()},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return this._currentState!=="disconnecting"&&this._currentState!=="disconnected"},isConnected:function(){return this._currentState==="connected"},isFatallyDisconnected:function(){return this._currentState==="fatallyDisconnected"},isDisconnected:function(){return this._currentState==="disconnected"},start:function(){this._forceStop=!1},stop:function(){this._forceStop=!0},_enterState:function(a){const d=this._currentState;this._currentState=a,this.logStateChanges&&i.info("MessageService state change: "+d+" -> "+a),d==="connected"&&this.onNotConnected(),a==="connected"&&this._previouslyConnected?this.onReconnected():a==="connected"&&!this._previouslyConnected&&this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1,this._delegate.cleanup(),this._forceStop&&this._delegate.destructCometd(),this.onDisconnected()},_enterConnecting:function(){this._delegate.cleanup(),this._delegate.connect(this.channelSubscriptions).then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&i.info("MessageService timeout:",arguments)},_enterConnected:function(){this._previouslyConnected&&i.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}}),s.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceBase"])],A=e.dj.d(C,function(c,v,h,l){"use strict";var n={};return n.default=function(s){const a=new l,d={messageService:a,subscribe:c.hitch(a,"subscribe"),unsubscribe:c.hitch(a,"unsubscribe"),publish:c.hitch(a,"publish"),start:c.hitch(a,"start"),stop:c.hitch(a,"stop"),isRunning:c.hitch(a,"isStarted"),isStarted:c.hitch(a,"isStarted"),isConnected:c.hitch(a,"isConnected"),isFatallyDisconnected:c.hitch(a,"isFatallyDisconnected"),isDisconnected:c.hitch(a,"isDisconnected"),setLatency:c.hitch(a,"setLatency"),setErrorRate:c.hitch(a,"setErrorRate"),getTransport:c.hitch(a,"getTransport"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(t,o){return h(this.messageService,t,o)},handleMessage:c.hitch(a,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start,this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};return v.after(a,"onConnected",c.hitch(d,"onConnected"),!0),v.after(a,"onDisconnected",c.hitch(d,"onDisconnected"),!0),v.after(a,"onReconnected",c.hitch(d,"onReconnected"),!0),v.after(a,"onFatallyDisconnected",c.hitch(d,"onFatallyDisconnected"),!0),v.after(a,"onNotConnected",c.hitch(d,"onNotConnected"),!0),a.setDelegate(s),d},n.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/instanceEnums":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};return c.default={APP_SERVICE_HOST:{name:"APP_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async/blue"},MATLAB_SERVICE_HOST:{name:"MATLAB_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async"}},c.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/isValidChannel":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["cometd/cometd"])],A=e.dj.d(C,function(c){"use strict";var v={};function h(d){return c.Utils.isString(d)}function l(d){return d>="A"&&d<="Z"?!0:d>="a"&&d<="z"}function n(d){return d>="0"&&d<="9"}function i(d){switch(d){case" ":case"!":case"#":case"$":case"(":case")":case"*":case"+":case"-":case".":case"/":case"@":case"_":case"{":case"~":case"}":case":":case"\\":case",":return!0;default:return!1}}function s(d){if(!h(d)||d.length<2||d.charAt(0)!=="/")return!1;for(let t=1;t<d.length;++t){const o=d.charAt(t);if(!(l(o)||n(o)||i(o)))return!1}return!0}const a=function(d){return s("/matlab"+d)};return v.default=a,v.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/messageServiceFactory":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"])],A=e.dj.d(C,function(c){"use strict";var v={};const h=/AppServiceHost/i,l=i=>i.serviceName.match(h)!==null,n=(i,s)=>l(s)?i[c.APP_SERVICE_HOST.name]():i[c.MATLAB_SERVICE_HOST.name]();return v.default=function(s,a){if(a.serviceName){if(!a.serviceName.length||a.serviceName.length<5)throw new Error("serviceName must be longer than 4 characters")}else throw new Error("Must provide a serviceName");const d=n(s,a),t={};return["subscribe","unsubscribe","publish","isStarted","isConnected","isFatallyDisconnected","isDisconnected","setLatency","setErrorRate","getTransport","on","onConnected","onDisconnected"].forEach(o=>{t[o]=d[o].bind(d)}),t.messageService=d.messageService,t},v.default},y,P),y.exports=A},"mw-messageservice/messageserviceimpl/transportEnums":(y,P,e)=>{var C,A;C=[],A=e.dj.d(C,function(){"use strict";var c={};return c.default={UNKNOWN:"unknown",LONG_POLLING:"long-polling",WEBSOCKET:"websocket"},c.default},y,P),y.exports=A},"mw-oauth-client/OAuthClient":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-messageservice/MessageService"])],A=e.dj.d(C,function(c){"use strict";var v={};class h{constructor(n={}){this.OAUTH_CHANNEL=n.OAuthChannel?n.OAuthChannel:"/OAuth",this.ready=!1,c.isStarted?this.start():(this._connectedHandle=c.on("connected",this.start.bind(this)),c.start())}start(){var n;(n=this._connectedHandle)==null||n.remove();const i=this;this.ready||c.subscribe(this.OAUTH_CHANNEL,this._handleOAuthEventMessage,this).then(function(){i.ready=!0})}_handleOAuthEventMessage(n){const i=n.data;i.URL!==void 0&&this._handleOAuthLogin(i.URL)}async _handleOAuthLogin(n){let i=!1;const s=window.open(n,window.location.origin,"width=500,height=500");async function a(o){o.data.oauth_status&&(window.removeEventListener("message",a,!1),i=o.data.oauth_status==="success",s.close())}window.addEventListener("message",a,!1);const d=setInterval(t,2e3);function t(){if(s.closed&&!i){window.removeEventListener("message",a,!1),clearInterval(d);const o={oauth_status:"error"};window.postMessage(o)}}}}return v.default=h,v.default},y,P),y.exports=A},"mw-remote/EndPointsManager":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),e(e.dj.r.absMids["mw-remote/utils/SecurityUtils"])],A=e.dj.d(C,function(c,v,h,l){return c([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:["RouterLogin","CreateAccount","CurrentUser","Login","UpdateAccount","ServiceRegistry","ClientType","AuthorizationDetails","AcquireMatlab"],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],iframeProxyName:"remoteWorkerAsyncProducer",withCredentials:!0,acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",withCredentials:!1,acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",withCredentials:!1,acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(i,s,a,d,t){this.endPointsCollection[i]={routingHost:"",routingKey:"",pathSuffix:a,enabled:s,messages:[],iframeProxy:null,iframeProxyName:d,acceptsMessageContainerMessages:t}},getPathSuffixForEndPoint:function(i){return this.endPointsCollection[i].pathSuffix},setPathSuffixForEndPoint:function(i,s){this.endPointsCollection[i].pathSuffix=s},getEndPointNames:function(){const i={};let s;for(s in this.endPointsCollection)Object.prototype.hasOwnProperty.call(this.endPointsCollection,s)&&(i[s]=s);return i},setRoutingHostAndRoutingKey:function(i,s,a){if(s&&s.lastIndexOf("/")!==s.length-1&&(s+="/"),!l.isAllowed(s))throw new Error("Insecure endpoint.");this.endPointsCollection[i].routingHost=s,a&&(this.endPointsCollection[i].routingKey=a),this._setIframeRoutingHostAndRoutingkey(i)},_setIframeRoutingHostAndRoutingkey:function(i){const s=this.getIframeProxyClientForEndPoint(i);s&&s.setRemotePageHost(this.endPointsCollection[i].routingHost,this.endPointsCollection[i].routingKey,null,this.endPointsCollection[i].iframeProxyUrl,{withCredentials:this.endPointsCollection[i].withCredentials})},getRoutingHost:function(i){return this.endPointsCollection[i].routingHost},getRoutingKey:function(i){return this.endPointsCollection[i].routingKey},getMessageTypesMappedToEndPoint:function(i){return this.endPointsCollection[i].messages},isEndPointEnabled:function(i){return this.endPointsCollection[i].enabled},setMessageTypesToEndPoint:function(i,s){this.endPointsCollection[i].messages=s},enableEndPoint:function(i){this.endPointsCollection[i].enabled=!0},disableEndPoint:function(i){this.endPointsCollection[i].enabled=!1},getEndPointForMessageType:function(i){let s=null,a;for(a in this.endPointsCollection)if(Object.prototype.hasOwnProperty.call(this.endPointsCollection,a)&&(s=v.lastIndexOf(this.endPointsCollection[a].messages,i)>-1?a:s,s)){if(this.isEndPointEnabled(s))break;s=null}return s||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(i){let s=this.endPointsCollection[i].routingHost+this.endPointsCollection[i].pathSuffix;return this.endPointsCollection[i].routingKey&&(s=s+"?routingkey="+this.endPointsCollection[i].routingKey),s},setIframeProxyClientForEndPoint:function(i,s){this.endPointsCollection[i].iframeProxy=s},getIframeProxyClientForEndPoint:function(i){let s=this.endPointsCollection[i].iframeProxy;return s||(s=new h(this.endPointsCollection[i].iframeProxyName),this.endPointsCollection[i].iframeProxy=s),s},isEndpointMessageContainerBased:function(i){return i&&this.endPointsCollection[i]?this.endPointsCollection[i].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(i,s){this.endPointsCollection[i]&&this.endPointsCollection[i].messages.indexOf(s)===-1&&this.endPointsCollection[i].messages.push(s)},removeMessageTypesFromEndPoint:function(i,s){if(this.endPointsCollection[i]){const a=this.endPointsCollection[i].messages.indexOf(s);a>-1&&this.endPointsCollection[i].messages.splice(a,1)}}})},y,P),y.exports=A},"mw-remote/Remote":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),e(e.dj.r.absMids["mw-remote/impl/FaultManager"]),e(e.dj.r.absMids["mw-remote/impl/RequestManager"]),e(e.dj.r.absMids["mw-remote/impl/ResponseManager"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"]),e(e.dj.r.absMids["mw-remote/impl/AutoDetectedTransaction"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),e(e.dj.r.absMids["mw-remote/UploadToWorker"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/utils/RemoteUrlUtils"]),e(e.dj.r.absMids["mw-remote/serviceRegistryLookup!"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a,d,t,o,r,u,g,p){const f={reset:function(){let M=[];const S=new n,x=new s({faultManager:S}),R=new i({responseManager:x});f.faultManager=S,f.responseManager=x,f.requestManager=R,f._serviceRegistryLookup=p,f._uploadParameters={};const F=f.proxyClient=new l;f.createUploadIframeTarget=c.hitch(F,F.createUploadIframeTarget),f.cancelUpload=c.hitch(F,F.cancelUpload),t.setIframeProxyClientForEndPoint(t.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,F),t.setIframeProxyClientForEndPoint(t.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,F),a.construct=function(T){return T=T||{},t.getRoutingHost(t.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||f.setEndpoint(),T.allowedMessages=M,T.sendMessage=f.sendMessage,T.computeSessionId=f.getComputeSessionId,new d(T)},f.registerEndpointLevelFaultHandler=c.hitch(S,S.registerEndpointLevelFaultHandler),f.sendMessage=c.hitch(R,R.sendMessage),f.sendPayload=o.sendPayload,f.registerDefaultMessageFactory=c.hitch(R,R.registerDefaultMessageFactory),f.deregisterDefaultMessageFactory=c.hitch(R,R.deregisterDefaultMessageFactory),f.registerResponseHandler=c.hitch(x,x.registerResponseHandler),f.deregisterResponseHandler=c.hitch(x,x.deregisterResponseHandler),f.registerFaultHandler=c.hitch(S,S.registerFaultHandler),f.deregisterFaultHandler=c.hitch(S,S.deregisterFaultHandler),f.registerTopLevelFaultHandler=c.hitch(S,S.registerTopLevelFaultHandler),f.deregisterTopLevelFaultHandler=c.hitch(S,S.deregisterTopLevelFaultHandler),f.setServiceEndPoint=function(T,j,E){t.setRoutingHostAndRoutingKey(T,j,E)},f.setServicePathSuffixForEndPoint=function(T,j){t.setPathSuffixForEndPoint(T,j)},f.ignoreTopLevelFault=f.registerTopLevelFaultHandler,f.setComputeToken=function(T){f._uploadParameters.computeToken=T.computeSessionId,R.computeToken=T},f.setWorkerEndpoint=function(T,j){f._uploadParameters.routingKey=j,t.setRoutingHostAndRoutingKey(t.getEndPointNames().WORKER_ENDPOINT,T,j)},f.setEndpoint=function(T){if(!T){const j=f._serviceRegistryLookup.getServiceRegistryEndpoint("primary");j?T=j:(u.info("ServiceRegistryLookup is empty, falling back to localhost"),T="/")}if(!T||T==="/"){const j=(document.getElementsByTagName("base")[0]||{}).href;if(j!==void 0){const E=document.createElement("a");E.display="none",E.href=j,T=E.protocol+"//"+E.hostname+(E.port?":"+E.port:"")+"/"}else T=window.location.protocol+"//"+window.location.host+"/"}t.setRoutingHostAndRoutingKey(t.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,T),t.setRoutingHostAndRoutingKey(t.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,T),F.setRemotePageHost(T,void 0,void 0,void 0,{withCredentials:t.endPointsCollection[t.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT].withCredentials})},f.setAllowedMessages=function(T){M=T},f.allowAllMessages=function(){M=[]},f.getEndPoint=function(){return t.getRoutingHost(t.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)},f.getComputeSessionId=function(){return R.computeToken?R.computeToken.computeSessionId:null},f.getWorkerRoutingHost=function(){let T=t.getRoutingHost(t.getEndPointNames().WORKER_ENDPOINT);if(T)return T;if(T=f._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),!T||T==="/"){const j=(document.getElementsByTagName("base")[0]||{}).href;if(j!==void 0){const E=document.createElement("a");E.display="none",E.href=j,T=E.protocol+"//"+E.hostname+(E.port?":"+E.port:"")+"/"}else T=window.location.protocol+"//"+window.location.host+"/"}return T},f.getWorkerRoutingKey=function(){return t.getRoutingKey(t.getEndPointNames().WORKER_ENDPOINT)},f.getDownloadUrlForFile=T=>{if(!T)throw new Error("Invalid input arguments provided!");const j=new v,E=new URL(f.getWorkerRoutingHost()+"download"+T);return o.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),t.getEndPointNames().WORKER_ENDPOINT).then(B=>{B.messages.CreateCsrfTokenResponse.forEach(function(D){D.messageFaults&&D.messageFaults.length>0||(E.searchParams.set("csrfToken",D.csrfToken),j.resolve(E))})}),j},f.upload=function(T,j){return new r().upload(T,j,{endpoint:f.getWorkerRoutingHost(),uploadParams:f._uploadParameters})},f.createWorkerRoutingHostUrl=function(T){return g.createWorkerRoutingHostUrl(T,{host:f.getWorkerRoutingHost(),sessionId:f.getComputeSessionId(),routingKey:f.getWorkerRoutingKey()})},f.getServiceRegistryEndpoint=function(T){return f._serviceRegistryLookup.getServiceRegistryEndpoint(T)},f.enableServerOnWorkerAsync=function(){t.enableEndPoint(t.getEndPointNames().WORKER_ASYNC_ENDPOINT)},f.disableServerOnWorkerAsync=function(){t.disableEndPoint(t.getEndPointNames().WORKER_ASYNC_ENDPOINT)},f.isServerOnWorkerAsyncEnabled=function(){return t.isEndPointEnabled(t.getEndPointNames().WORKER_ASYNC_ENDPOINT)},f.enableServerOnWorker=function(){t.enableEndPoint(t.getEndPointNames().WORKER_ENDPOINT)},f.disableServerOnWorker=function(){t.disableEndPoint(t.getEndPointNames().WORKER_ENDPOINT)},f.isWorkerEndpointEnabled=function(){return t.isEndPointEnabled(t.getEndPointNames().WORKER_ENDPOINT)},f.setWorkerOnlyMessageTypes=function(T){t.setMessageTypesToEndPoint(t.getEndPointNames().WORKER_ENDPOINT,T)},h.after(F,"onError",function(T){T&&S.handleNonTransactionFault(T)},!0),f.createNewEndPoint=function(T,j,E,N,B){this.getEndPointByName(T)||t.setUpNewEndPoint(T,j,E,N,B)},f.getUrlForEndPoint=function(T){return t.getRemoteUrlForEndPoint(T)},f.getEndPointByName=function(T){return t.getEndPointNames()[T]}}};return f.reset(),f},y,P),y.exports=A},"mw-remote/RemoteEndPointsManager":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-remote/EndPointsManager"])],A=e.dj.d(C,function(c){let v=null;return function(){return v===null&&(v=new c),v}()},y,P),y.exports=A},"mw-remote/ReplaceUploadIframe":(y,P,e)=>{"use strict";var C,A;C=[],A=e.dj.d(C,function(){"use strict";return class{constructor(c){this._xhr=null,this._uploadDestinationUrl=c.uploadDestinationUrl,this._computeToken=c.computeToken,this._routingkey=c.routingkey,this._fileDestination=c.fileDestination,this._csrfToken=c.csrfToken,this._postMessage=v=>{c.postMessage(v)}}_postMessageToParent(c){this._postMessage({data:c})}_createFormDataFromFileList(c){const v=new window.FormData,h="uploadFileName";for(let l=0;l<c.length;l++){const n=c[l];v.append(h,n,n.name)}return v}_createAndSendXhr(c){this._xhr=new XMLHttpRequest,this._xhr.upload.onprogress=v=>{this._postMessageToParent({type:"updateProgress",loaded:v.loaded,total:v.total})},this._xhr.onload=()=>{this._postMessageToParent({type:"uploadFinished",status:this._xhr.status,response:this._xhr.response})},this._xhr.onerror=()=>{this._postMessageToParent({type:"uploadError",status:this._xhr.status,response:this._xhr.response})},this._xhr.open("POST","".concat(this._uploadDestinationUrl,"?dest=").concat(this._fileDestination,"&computeToken=").concat(this._computeToken,"&routingkey=").concat(this._routingkey,"&csrfToken=").concat(this._csrfToken),!0),this._xhr.withCredentials=!0,this._xhr.send(c)}handleMessage(c){if(c.data instanceof FileList){const v=this._createFormDataFromFileList(c.data);this._createAndSendXhr(v);return}c.data==="cancelUpload"&&(this._xhr&&this._xhr.abort(),this._postMessageToParent({type:"uploadCanceled"}))}}},y,P),y.exports=A},"mw-remote/UploadToWorker":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["mw-html-utils/HtmlUtils"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),e(e.dj.r.absMids["mw-remote/ReplaceUploadIframe"])],A=e.dj.d(C,function(c,v,h,l,n,i,s){return c([],{constructor:function(){},upload:function(d,t,o){const r=this;if(this._uploadHandler=new v(function(){r.postMessageToUploadIframe("cancelUpload"),r._unloadIframe()}),this._workerEndpoint=o.endpoint,d instanceof FileList){let u={csrfToken:void 0,validForMs:void 0};return i.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),n.getEndPointNames().WORKER_ENDPOINT).then(function(p){p.messages.CreateCsrfTokenResponse.forEach(function(S){S.messageFaults&&S.messageFaults.length>0||(u={csrfToken:S.csrfToken,validForMs:S.validForMs})});const f=o.uploadParams,m=f.computeToken,M=f.routingKey;r._initiateUpload(d,{uploadDestinationUrl:r._workerEndpoint+"upload",computeToken:m,routingkey:M,fileDestination:encodeURIComponent(t),csrfToken:encodeURIComponent(u.csrfToken)})}),this._uploadHandler}},_initiateUpload:function(d,t){const o=this;this._eventCallBack=function(r){switch(r.data.type){case"updateProgress":o._uploadHandler.progress({loaded:r.data.loaded,total:r.data.total});break;case"uploadFinished":o._uploadHandler.resolve({status:r.data.status,response:r.data.response}),o._unloadIframe();break;case"uploadError":o._uploadHandler.reject({status:r.data.status,response:r.data.response});break;default:break}},t.postMessage=this._eventCallBack,this._ReplaceUploadIframe=new s(t),this.postMessageToUploadIframe(d)},_unloadIframe:function(){this._ReplaceUploadIframe=null},getHostName:function(d){return l.parseUrl(d).hostname},postMessageToUploadIframe:function(d){this._ReplaceUploadIframe&&this._ReplaceUploadIframe.handleMessage({data:d})}})},y,P),y.exports=A},"mw-remote/defaultMessageMapping":(y,P,e)=>{"use strict";var C,A;C=[],A=e.dj.d(C,function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}},y,P),y.exports=A},"mw-remote/iframeproxy/CheckUrlService":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/request/script"]),e(e.dj.r.absMids["mw-log/Log"])],A=e.dj.d(C,function(c,v,h,l){"use strict";function n(i){if(!i)throw new Error("Expected a valid url in urlToEmptyJsFile");const s={};s.framedoc=null;const a="error",d=h.get(i,s,!0),t=c.byId(d.id,s.frameDoc),o=v(t,a,function(r){l.info("CheckUrlService detected an error accessing url: "+i),d.handleResponse(null,r),o.remove()});return d.promise}return n},y,P),y.exports=A},"mw-remote/iframeproxy/IframeProxyClient":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/connect"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/iframeproxy/CheckUrlService"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a){const d=v([],{constructor:function(){this._messageId=0,this._loaded=!1,this._pendingQueue=[],this._transactions={},this._uploadTargetCallbacks={},this._checkUrl=null,this._loadTimeoutHandle=null,this._checkUrlTimeout=null,this._errorRate=0,this._inFlightTransactions={},this._webSocket=null},setRemotePageHost:function(o,r,u,g){let p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};o=this._combineUriPaths(o||"","/"),r=r||"",g=g||"",this.computeToken=u,this._withCredentials=this._withCredentials||!1,typeof p.withCredentials>"u"||p.withCredentials===null||(this._withCredentials=!!p.withCredentials),!(o===this._host&&r===this._key&&g===this._proxyUrl)&&(this._errorLoading=!1,this._host=o,this._key=r,this._proxyUrl=g,this._cleanupFailureChecks(),this._loaded=!0,this._flushPending())},setLatency:function(o){this._latency=o},setErrorRate:function(o){this._errorRate=o},sendMessage:function(o,r,u){const g=this;let p;this.computeToken&&(u=u||{},u.headers=u.headers||{},u.headers.computeToken=this.computeToken);const f=u||{},m=this._getNewMessageId();p={action:"sendMessage",id:m,endpoint:r,options:f,message:o};function M(){p={action:"abort",id:m},g._postMessage(p)}const S={deferred:new h(M),id:m};return this._errorLoading?S.deferred.reject("Error loading: "+this._url):(this._transactions[m]=S,this._postMessage(p)),S.deferred},_postMessage:function(o){this._loaded?this._postMessageNow(o):this._pendingQueue.push(o)},_handleMessage:function(o){let r,u,g,p;const f=o.data.action;if(!f)throw new Error("Client unable to parse message, no action specified: "+JSON.stringify(o.data));switch(f){case"ready":this._cleanupFailureChecks(),this._loaded=!0,this._flushPending();break;case"sendMessageResponse":this._sendMessageResponse(o);break;case"uploadIframeMessage":r=o.data.id,u=o.data.message,this._uploadTargetCallbacks[r](u);break;case"websocketOpened":this.onWebsocketOpen();break;case"websocketClosed":g=o.data.message,this.onWebsocketClose(g);break;case"websocketMsg":p=o.data.message,this.onWebsocketMsg(p);break;case"websocketError":this.onWebsocketError();break;default:throw new Error("Unknown action: "+f+", data: "+JSON.stringify(o.data))}},_sendMessageResponse:function(o){let r;const u=o.data.id,g=o.data.responseType,p=o.data.message;if(!u||!g)throw new Error("Invalid message: "+JSON.stringify(o.data));const f=this._transactions[u];if(!f)throw new Error("Unknown transaction id: "+u+": "+JSON.stringify(o.data));if(delete this._transactions[u],!f.deferred.isCanceled()){if(g==="success"){try{r=p&&JSON.parse(p)}catch(m){r=p}r=r===""?{}:r,f.deferred.resolve(r);return}this.onError(p),f.deferred.reject(p)}},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout),this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle),this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred",!1),this._checkUrlTimeout=null,this._loadTimeoutHandle=null,this._checkUrl=null},_handleLoadTimeout:function(){let o;if(this._loaded)return;const r={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},u=this._transactions;this._transactions={},this._pendingQueue=[];for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&u[o].deferred.reject("Timeout: "+this._url+" at "+new Date);this._errorLoading=!0,this.onError(r)},_handleXhrResponse:function(o,r){const u={action:"sendMessageResponse",id:o,responseType:"success",message:r};this._handleMessage({data:u})},_handleXhrFault:function(o,r){const u={action:"sendMessageResponse",id:o,responseType:"fault",message:r};this._handleMessage({data:u})},_sendXHRNow:function(o){let r,u,g,p,f,m,M;const S=o.data.action;if(!S)throw new Error("Unable to parse message, no action specified: "+JSON.stringify(o.data));let x;switch(S){case"sendMessage":if(r=o.data.id,u=o.data.endpoint,p=o.data.options,g=o.data.message,r&&u&&g)try{if(f=new XMLHttpRequest,this._inFlightTransactions[r]={xhr:f},m=!1,f.onreadystatechange=()=>{let R;f.readyState===0?(m=!0,this.handleXhrFault(r,"XHR readyState 0")):f.readyState===4&&!m&&(m=!0,R=f.status||0,R>=200&&R<300||R===304?this._handleXhrResponse(r,f.responseText):this._handleXhrFault(r,f.responseText)),m&&f&&(f.onreadystatechange=this._noop,f=null,delete this._inFlightTransactions[r].xhr,delete this._inFlightTransactions[r])},f.open("POST",u,!0),f.withCredentials=this._withCredentials,f.setRequestHeader("Content-Type",p.contentType?p.contentType:"application/json"),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.headers)for(M in p.headers)Object.prototype.hasOwnProperty.call(p.headers,M)&&f.setRequestHeader(M,p.headers[M]);f.send(g)}catch(R){this.handleXhrFault(r,"Unable to send data: "+R.toString())}else throw new Error("Invalid message to send: "+JSON.stringify(o.data));break;case"abort":r=o.data.id,this._inFlightTransactions[r]&&this._inFlightTransactions[r].xhr.abort();break;case"connectWebsocket":x=o.data.url,this._webSocket=new WebSocket(x),this._webSocket.onopen=()=>{this.onWebsocketOpen()},this._webSocket.onmessage=R=>{this.onWebsocketMsg(R)},this._webSocket.onclose=R=>{const F={code:R.code,reason:R.reason,wasClean:R.wasClean};this.onWebsocketClose(F)},this._webSocket.onerror=()=>{this.onWebsocketError()};break;case"websocketSend":this._webSocket.send(o.data.data);break;case"closeWebsocket":this._webSocket.close();break;default:throw new Error("Unknown action: "+S)}},_postMessageNow:function(o){const r=this;let u,g;function p(){if(r._errorRate>0&&Math.random()<r._errorRate&&o.action==="sendMessage"){if(u=o.id,g=r._transactions[u],g){delete r._transactions[u],s.error("Generating simulated error. Request was: ",JSON.stringify(o));const f="403 Forbidden;403";r.onError(f),g.deferred.reject(f)}}else r._sendXHRNow({data:o})}this._latency?setTimeout(p,this._latency):p()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this),this._pendingQueue=[]},_getNewMessageId:function(){return this._messageId+=1,this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(u,g){return u.length===0?g:(g.length>0&&(g[0]==="/"&&u.lastIndexOf("/")===u.length-1?g=g.substring(1):g[0]!=="/"&&u.lastIndexOf("/")!==u.length-1&&(u+="/")),u+g)})}});return d.WebSocket=v([],{constructor:function(o){const r=this;this.proxyClient=d.WebSocket.proxyClient,this.proxyClient.computeToken&&o.indexOf("?")>=0&&(o=o+"&computeToken="+this.proxyClient.computeToken);const u={action:"connectWebsocket",url:o};this.proxyClient._postMessage(u),n.after(this.proxyClient,"onWebsocketOpen",function(){r.onopen.apply(r,arguments)},!0),n.after(this.proxyClient,"onWebsocketMsg",function(){r.onmessage.apply(r,arguments)},!0),n.after(this.proxyClient,"onWebsocketClose",function(){r.onclose.apply(r,arguments)},!0),n.after(this.proxyClient,"onWebsocketError",function(){r.onerror.apply(r,arguments),r.proxyClient.onError.apply(r.proxyClient,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(o){const r={action:"websocketSend",data:o};this.proxyClient._postMessage(r)},close:function(){const o={action:"closeWebsocket"};this.proxyClient._postMessage(o)}}),d},y,P),y.exports=A},"mw-remote/impl/AutoDetectedTransaction":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-remote/impl/JsonTransaction"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"])],A=e.dj.d(C,function(c,v,h){return c([v],{_doSend:function(n){return h.sendPayload(n,this.endPointName)}})},y,P),y.exports=A},"mw-remote/impl/FaultManager":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"])],A=e.dj.d(C,function(c,v,h){return v([],{constructor:function(n){n=n||{},this.faultHandlers=n.faultHandlers||{},this.topLevelHandlers=n.topLevelHandlers||[],this.endPointLevelHandlers=n.endPointLevelHandlers||{}},registerFaultHandler:function(n,i,s){s&&(i=h.hitch(s,i)),this.faultHandlers[n]=i},deregisterFaultHandler:function(n){delete this.faultHandlers[n]},registerTopLevelFaultHandler:function(n,i,s){let a;if(s&&(i=h.hitch(s,i)),h.isString(n)){if(n==="*")return a={matcher:n,handler:i},this.defaultTopLevelHandler=i,a;n=this._constructMatcherFromQuery(n)}return a={matcher:n,handler:i},this.topLevelHandlers.push(a),a},registerEndpointLevelFaultHandler:function(n,i,s,a){a&&(s=h.hitch(a,s)),h.isString(i)&&(i=this._constructMatcherFromQuery(i));const d={matcher:i,handler:s};return this.endPointLevelHandlers[n]||(this.endPointLevelHandlers[n]=[]),this.endPointLevelHandlers[n].push(d),d},deregisterTopLevelFaultHandler:function(n){const i=this.topLevelHandlers.indexOf(n);i>-1?this.topLevelHandlers.splice(i,1):n.matcher==="*"&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(n){const i=n.split("||"),s=[];return i.forEach(function(a){a=h.trim(a),a=a.replace(/([.])/g,"\\$1"),a=a.replace(/\*/g,".*"),s.push(new RegExp("^"+a+"$"))}),function(a){return c.some(s,function(d){return d.test(a.faultCode||a.code||"")})}},handleFault:function(n){let i;const s=function(d,t){let o;const r=n.getMessageClassifier(t);r&&(o=[d,r].join(":"),this.faultHandlers[o]&&this.faultHandlers[o](n.fault,n.context))};for(i in n.requestMessages)if(Object.prototype.hasOwnProperty.call(n.requestMessages,i)){this.faultHandlers[i]&&this.faultHandlers[i](n.fault,n.context);const a=n.requestMessages[i];Array.isArray(a)&&a.forEach(h.hitch(this,s,i))}this.faultHandlers["*"]&&this.faultHandlers["*"](n.fault,n.context),this.endPointLevelHandlers[n.endPointName]?this._handleEndpointLevelFault(n):this._handleTopLevelFault(n)},_handleEndpointLevelFault:function(n){let i=!1;const s=c.filter(this.endPointLevelHandlers[n.endPointName],function(a){return a.matcher.call(this,n.fault,n.context)},this);return s.length>0&&s[0].handler&&(i=!0,s[0].handler.call(this,n.fault,n.context,n)),i},_handleTopLevelFault:function(n){const i=c.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,n.fault,n.context)},this),s=i.length>0?i[0].handler:this.defaultTopLevelHandler;s&&s.call(this,n.fault,n.context,n)},handleNonTransactionFault:function(n){const i=c.filter(this.topLevelHandlers,function(a){return a.matcher.call(this,n)},this),s=i.length>0?i[0].handler:this.defaultTopLevelHandler;s&&s.call(this,n)}})},y,P),y.exports=A},"mw-remote/impl/JsonTransaction":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/xhr"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"])],A=e.dj.d(C,function(c,v,h,l,n){return c(n,{constructor:function(s){s=s||{},this.uuid=s.uuid||this._generateUuid()},_getRequest:function(s){const a=l.isEndpointMessageContainerBased(this.endPointName);let d=null;return a?(d={uuid:this.uuid,messages:s},this.computeToken&&(d.computeToken=this.computeToken)):Object.keys(s).forEach(function(o){d=s[o]}),this._sanitizeForJson(d),JSON.stringify(d,null,0)},_sanitizeForJson:function(s){let a;if(h.isArray(s))s.forEach(this._sanitizeForJson,this);else if(h.isObject(s))for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(s[a]===void 0?delete s[a]:(h.isObject(s[a])||h.isArray(s[a]))&&this._sanitizeForJson(s[a]))},_doSend:function(s){return v.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:s})},_processResponse:function(s){this.stopTime=new Date().getTime(),s?(s.fault&&(this.fault=s.fault),s.messages?this.responseMessages=s.messages:this.responseMessages=s):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(s){this.stopTime=new Date().getTime(),this.fault={faultCode:"Connection.Fault",message:s}}})},y,P),y.exports=A},"mw-remote/impl/RequestManager":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/defaultMessageMapping"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"])],A=e.dj.d(C,function(c,v,h,l,n,i,s){return v([],{defaultMapping:i,constructor:function(d){d=d||{},this.defaultFactories=d.defaultFactories||{},this.mockHandlers=d.mockHandlers||{},this.mapping=d.mapping||this.defaultMapping,this.responseManager=d.responseManager},registerDefaultMessageFactory:function(d,t,o){o&&(t=l.hitch(o,t)),this.defaultFactories[d]=t},deregisterDefaultMessageFactory:function(d){delete this.defaultFactories[d]},registerMockResponseGenerator:function(d,t,o){const r=this;t=l.hitch(o||this,t),this.mockHandlers[d]=function(u,g){let p;const f=s.construct(g);p=t(u,f),p||(p=new h,p.callback()),p.addCallback(function(){r.responseManager._processResult(f)})}},deregisterMockResponseGenerator:function(d){delete this.mockHandlers[d]},sendMessage:function(d,t,o){const r={},u={};let g,p;t=t||{},this._createAndFillTransactions(d,t,o,r,u);const f=Object.keys(r);for(g=0;g<f.length;g=g+1)p=f[g],this._callMocks(u[p]),r[p].send(),this.responseManager.handleTransaction(r[p])},_getTransaction:function(d,t){return s.construct({context:t,computeToken:this.computeToken,endPointName:d})},_getMockTransaction:function(d,t,o){return s.construct({context:t,computeToken:this.computeToken,endPointName:d,uuid:o})},_createAndFillTransactions:function(d,t,o,r,u){let g,p;const f=function(x){let R,F,T,j,E,N;const B=n.getEndPointForMessageType(x);if(E=r[B],N=u[B],E||(E=this._getTransaction(B,t),N=this._getMockTransaction(B,t,E.uuid),r[B]=E,u[B]=N),this.defaultFactories[x]){if(R=this.defaultFactories[x](E.context),!R)return;F=x.split(":"),T=F[0],j=F.slice(1,F.length).join(":"),this.mockHandlers[x]||E.addRequestMessage(T,R,j),N.addRequestMessage(T,R,j)}};let m,M;for(g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const S=n.getEndPointForMessageType(g);m=u[S],M=r[S],r[S]||(M=this._getTransaction(S,t),m=this._getMockTransaction(S,t,M.uuid),r[S]=M,u[S]=m),p=[g,o].join(":"),this.mockHandlers[g]||this.mockHandlers[p]||M.addRequestMessage(g,d[g],o),m.addRequestMessage(g,d[g],o),this.mapping[p]?this.mapping[p].forEach(f,this):this.mapping[g]&&this.mapping[g].forEach(f,this)}},_callMocks:function(d){let t,o;const r=d.context;delete d.context;const u=function(p,f){let m;const M=t.getMessageClassifier(f);M&&(m=[p,M].join(":"),this.mockHandlers[m]&&this.mockHandlers[m]([f],t))};for(o in d.requestMessages)Object.prototype.hasOwnProperty.call(d.requestMessages,o)&&(t=l.mixin({},d),t.context=r,Object.prototype.hasOwnProperty.call(this.mockHandlers,o)&&this.mockHandlers[o](t.requestMessages[o],t),Array.isArray(t.requestMessages[o])?t.requestMessages[o].forEach(l.hitch(this,u,o)):u(o,t.requestMessages[o]));this.mockHandlers["*"]&&this.mockHandlers["*"](o,t.requestMessages[o],t)}})},y,P),y.exports=A},"mw-remote/impl/ResponseManager":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"])],A=e.dj.d(C,function(c,v,h,l){return c([],{constructor:function(i){i=i||{},this.responseHandlers=i.responseHandlers||{},this.faultManager=i.faultManager,this.transactions=i.transactions||[]},registerResponseHandler:function(i,s,a){a&&(s=v.hitch(a,s)),this.responseHandlers[i]=s},deregisterResponseHandler:function(i){delete this.responseHandlers[i]},handleTransaction:function(i){this.transactions.push(i),i.deferred.addCallback(v.hitch(this,this._processAll,i)),i.deferred.addCallback(v.hitch(this,this._processResult,i)),i.deferred.addErrback(v.hitch(this,this._processAll,i)),i.deferred.addErrback(v.hitch(this,this._processFault,i))},_processAll:function(i){const s=this.transactions.indexOf(i);s>=0&&this.transactions.splice(s,1)},_processResult:function(i){i.getResponseMessageTypes().forEach(function(s){const a=i.responseMessages[s],d=[];try{Array.isArray(a)&&(a.forEach(function(t){let o;const r=i.getMessageClassifier(t);if(r){o=[s,r].join(":");const u=this;let g=!1;i.getRequestMessageTypes().forEach(function(p){const f=i.requestMessages[p];Array.isArray(f)?f.forEach(function(m){u.responseHandlers[o]&&m.uuid===t.uuid&&(u.responseHandlers[o]([t],i.context),g=!0)}):u.responseHandlers[o]&&f.uuid===t.uuid&&(u.responseHandlers[o]([t],i.context),g=!0)}),g||d.push(t)}else d.push(t)},this),d.length>0&&this.responseHandlers[s]&&this.responseHandlers[s](d,i.context),this.responseHandlers["*"]&&this.responseHandlers["*"](s,i.responseMessages[s],i.context))}catch(t){h.error(`Remote: Fault occurred while processing response.
Message: `+t.message+`
Type: `+s+`
Response: `+JSON.stringify(a,null,2))}},this),this._processUdcResponses(i),i.fault&&this.faultManager.handleFault(i)},_processUdcResponses:function(i){if(!l.isEndpointMessageContainerBased(i.endPointName)){const a=Object.keys(i.requestMessages)[0];this.responseHandlers[a]&&this.responseHandlers[a](i.responseMessages)}},_processFault:function(i){this.faultManager.handleFault(i)}})},y,P),y.exports=A},"mw-remote/impl/Transaction":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-utils/Utils"])],A=e.dj.d(C,function(c,v,h,l,n){return c([],{constructor:function(s){s=s||{},this.requestMessages=s.requestMessages||{},this.responseMessages=s.responseMessages||{},this.context=s.context,this.computeToken=s.computeToken,this.uuidClassifierMap=s.uuidClassifierMap||{},this.endPointName=s.endPointName||null,this.allowedMessages=s.allowedMessages||[],this.ignoreMessageTypes=s.ignoreMessageTypes||[],this.sendMessage=s.sendMessage},addRequestMessage:function(s,a,d){if(!a)return;const t=l.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[s]||(this.requestMessages[s]=[]),h.isArray(a)?a.forEach(function(o){this.addRequestMessage(s,o,d)},this):t?(a.uuid=a.uuid||this._generateUuid(),d&&(this.uuidClassifierMap[a.uuid]=d),this.requestMessages[s].push(a)):this.requestMessages[s]=a,this.requestMessages=this._filterMessages(this.requestMessages)},_filterMessages:function(s){const a={};return this.getRequestMessageTypes().forEach(function(d){(this.allowedMessages.length===0||this.allowedMessages.indexOf(d)>=0)&&(a[d]=s[d])},this),a},getResponseMessageTypes:function(){let s;const a=[];for(s in this.responseMessages)Object.prototype.hasOwnProperty.call(this.responseMessages,s)&&a.push(s);return a},getRequestMessageTypes:function(){let s;const a=[];for(s in this.requestMessages)Object.prototype.hasOwnProperty.call(this.requestMessages,s)&&a.push(s);return a},getMessageClassifier:function(s){return s&&s.uuid&&Object.prototype.hasOwnProperty.call(this.uuidClassifierMap,s.uuid)?this.uuidClassifierMap[s.uuid]:""},send:function(){this._removeEmptyMessages(),this._isEmpty(this.requestMessages)?(this.deferred=new v,this.deferred.callback()):(this.startTime=new Date().getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(s,a){if(this.getRequestMessageTypes().indexOf(s)>-1)if(a){let d;for(d in this.uuidClassifierMap)Object.prototype.hasOwnProperty.call(this.uuidClassifierMap,d)&&a&&this.uuidClassifierMap[d]===a&&this.ignoreMessageTypes.push(s+":"+a)}else this.ignoreMessageTypes.push(s)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages)){let s;for(s in this.requestMessages)Object.prototype.hasOwnProperty.call(this.requestMessages,s)&&h.isArray(this.requestMessages[s])&&n.getArrayLength(this.requestMessages[s])===0&&delete this.requestMessages[s]}},_isEmpty:function(s){let a;for(a in s)if(Object.prototype.hasOwnProperty.call(s,a))return!1;return!0},_generateUuid:function(){return n.generateUuid()}})},y,P),y.exports=A},"mw-remote/serviceRegistryLookup":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/request/xhr"]),e(e.dj.r.absMids["mw-html-utils/HtmlUtils"]),e(e.dj.r.absMids["mw-remote/utils/SecurityUtils"])],A=e.dj.d(C,function(c,v,h){let l=!1;const n={};n._serviceData={},n.getServiceRegistryEndpoint=function(a){if(n._serviceData.serviceregistry){let d;const t=n._serviceData.serviceregistry.length;for(d=0;d<t;d+=1)if(n._serviceData.serviceregistry[d].name===a)return n._serviceData.serviceregistry[d].endpoint}return""};const i=function(d){let t=v.parseQueryString().mre;if(t){const o=new URL(t,window.location.href);if(h.isAllowed(o)){t=o.href;let r=d.serviceregistry;r=Array.isArray(r)?r:[];let u=!1;r.forEach(g=>{g.name&&g.name==="primary"&&(g.endpoint=t,u=!0)}),u||(r.push({name:"primary",endpoint:t}),d.serviceregistry=r)}}return d},s={_doXhr:function(d,t){return c(d,{handleAs:"json",failOk:!0,method:"GET",timeout:15e3,sync:t})},_reset:function(){l=!1,n._serviceData={}},load:function(d,t,o){if(l)o(n);else{const r=!t.async;s._doXhr("/serviceregistrylookup/1/service",r).then(function(u){u instanceof Object||(u={}),n._serviceData=i(u),l=!0,o(n)},function(){n._serviceData=i({}),l=!0,o(n)})}}};return s},y,P),y.exports=A},"mw-remote/utils/RemoteUrlUtils":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-log/Log"])],A=e.dj.d(C,function(c){const v=/^(?:[a-z]+:)?\/\//i,h=["localhost","127.0.0.1","[::1]"];return{createWorkerRoutingHostUrl:function(n,i){if(n==="about:blank")return n;let s=n,a="",d="";const t=i.host,o=i.sessionId,r=i.routingKey;let u=!0;try{if(a=new URL(t),this.isAbsoluteUrl(n))if(d=new URL(n),d.origin&&h.includes(d.hostname)){const g=d.pathname;s=new URL(g,a).href,d.search&&(d.searchParams.has("mre")&&d.searchParams.delete("mre"),s=s+d.search)}else d.origin&&d.hostname!==a.hostname&&(u=!1);else n&&n.startsWith("/")?s=a+n.substr(1,n.length):s=a+n;return u?(s=new URL(s),s.searchParams.set("mre",a),r&&o&&(s.search+="&routingkey="+r+"&computeToken="+encodeURIComponent(o)),s.href):s}catch(g){c.error("Input URL is malformed")}return s},isAbsoluteUrl:function(n){return!!v.test(n)}}},y,P),y.exports=A},"mw-remote/utils/SecurityUtils":(y,P,e)=>{"use strict";var C,A;C=[],A=e.dj.d(C,function(){const c=["localhost","127.0.0.1","[::1]"];return{isAllowed(v){return v instanceof URL||(v=new URL(v)),this._checkIfSameOrigin(v.origin)||this._checkIfMathWorksAllowedDomain(v.hostname)||this._checkIfAllowedLocalHost(v.hostname)},_checkIfSameOrigin:v=>v===window.location.protocol+"//"+window.location.host,_checkIfMathWorksAllowedDomain:v=>{const h=v;for(const l of[".matlab.com",".mathworks.com",".mathworks.cn",".mwcloudtest.com"])if(h.endsWith(l))return!0;return!1},_checkIfAllowedLocalHost:v=>!!c.includes(v)}},y,P),y.exports=A},"mw-remote/utils/SendMessageUtil":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["dojo/_base/Deferred"])],A=e.dj.d(C,function(c,v){const h=function(n,i,s){return c.getIframeProxyClientForEndPoint(i).sendMessage(n,c.getRemoteUrlForEndPoint(i),s)};return{sendPayload:function(n,i,s){const a=new v;return h(n,i,s).then(function(t){a.resolve(t)}),a}}},y,P),y.exports=A},"mw-statemachine/StateMachine":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/State"])],A=e.dj.d(C,function(c,v){return c([],{constructor:function(l){l.stateMachine=this,this.state=new v(l)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(l,n){this.state.enter(l,n)},onEnterState:function(l){},onExitState:function(l){}})},y,P),y.exports=A},"mw-statemachine/statemachineimpl/EventTrigger":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],A=e.dj.d(C,function(c,v,h,l,n){return c(n,{constructor:function(){this.connection={}},enable:function(){v.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]),this.connection=h.after(this.context,this.name,v.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove(),this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})},y,P),y.exports=A},"mw-statemachine/statemachineimpl/MessageTrigger":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/topic"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],A=e.dj.d(C,function(c,v,h,l,n){return c(n,{constructor:function(){const s=this.name.split(" ");(s.length<2||s[0]!=="subscribe")&&l.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name."),this.messageId=s[1]||"",this.subscrition={}},enable:function(){this.subscription=h.subscribe(this.messageId,v.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})},y,P),y.exports=A},"mw-statemachine/statemachineimpl/RemoteTrigger":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/Remote"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],A=e.dj.d(C,function(c,v,h,l,n){return c(n,{constructor:function(){const s=this.name.split(" ");(s.length<2||s[0]!=="response"&&s[0]!=="fault")&&h.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler."),(!l.registerResponseHandler||!l.registerFaultHandler)&&h.error("The remote package is not available, this type of trigger will not work."),this.messageId=s[1]||"",this.handlerType=s[0]},enable:function(){this.handlerType==="response"?l.registerResponseHandler(this.messageId,v.hitch(null,this.triggerHandler,this.name)):l.registerFaultHandler(this.messageId,v.hitch(null,this.triggerHandler,this.name))},disable:function(){this.handlerType==="response"?l.deregisterResponseHandler(this.messageId):l.deregisterFaultHandler(this.messageId)}})},y,P),y.exports=A},"mw-statemachine/statemachineimpl/State":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/EventTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/MessageTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/RemoteTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/TimeoutTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Transition"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a){let d;return d=c([],{constructor:function(o){this.stateMachine=o.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}},this.namespace=o.namespace||"",this.name=o.name||this.getDefaultName(),this.context=o.context||{},this.data=o.data||{},this.composition=o.composition||"XOR",this.defaultSubstate=o.defaultSubstate||"",this.constructSubstates(o.substates),this.constructTriggersAndTransitions(o.transitions),this.active=o.active||!1},getDefaultName:function(){let o,r;return this.namespace.length>0?(o=this.namespace.split("."),r=o.pop()):h.warn("State: state name is not specified."),r||""},constructSubstates:function(o){const r={};let u,g;for(u in o)Object.prototype.hasOwnProperty.call(o,u)&&(g=o[u],g.name&&g.name!==u&&h.error("State: error constructing substate: "+u+", the specified names don't match: "+g.name),g.name=u,g.namespace=g.namespace||[this.namespace,this.name].join("."),g.stateMachine=g.stateMachine||this.stateMachine,g.context=g.context||this.context,r[g.name]=new d(g));this.substates=r},constructTriggersAndTransitions:function(o){let r;const u={},g=[];let p;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(p=this.constructTrigger(r),p&&g.push(p),u[r]=this.constructTransition(r,o[r]));this.transitions=u,this.triggers=g},constructTrigger:function(o){let r,u;const g=o.split(" ");return g.length===2?g[0]==="subscribe"?u=n:g[0]==="response"||g[0]==="fault"?u=i:g[0]==="timeout"&&(u=s):(o!=="onEnterState"||o!=="onExitState")&&(u=l),u&&(r=new u({name:o,context:this.context,triggerHandler:v.hitch(this,this.handleTrigger)})),r},constructTransition:function(o,r){let u,g;return(v.isFunction(r)||v.isString(r)||v.isArray(r))&&(o==="onEnterState"||o==="onExitState"?(u=r,r={},r.action=u,r.target=""):(g=r,r={},r.target=g)),r.state=this,new a(r)},enter:function(o,r){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(r))),o?this.changeSubstates(o,r):this.changeToDefaultSubstate(r)},exit:function(){const o=this.activeSubstates();this.active=!1,this.disableTriggers(),o.forEach(function(r){r.exit()}),this.handleTrigger("onExitState"),this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(o){o.enable()})},disableTriggers:function(){this.triggers.forEach(function(o){o.disable()})},handleTrigger:function(o){let r,u;this.transitions[o]&&(u=Array.prototype.slice.call(arguments,1,arguments.length),r=this.transitions[o].handleTrigger(o,u),r&&(v.isString(r)||(u=r.args,r=r.target),this.stateMachine._changeState(r,u)))},changeSubstates:function(o,r){const u=this.activeSubstates();this.substates[o]&&(u.length>=0&&u[0].name!==o&&u.forEach(function(g){g.exit()}),this.substates[o].enter(void 0,r))},changeToDefaultSubstate:function(o){this.activeSubstates().length===0&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,o)},activeSubstates:function(){const o=[];let r;for(r in this.substates)Object.prototype.hasOwnProperty.call(this.substates,r)&&this.substates[r].active&&o.push(this.substates[r]);return o}}),d},y,P),y.exports=A},"mw-statemachine/statemachineimpl/TimeoutTrigger":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],A=e.dj.d(C,function(c,v,h,l){return c(l,{constructor:function(){const i=this.name.split(" ");(i.length<2||i[0]!=="timeout")&&h.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler."),this.timeoutInSeconds=parseFloat(i[1]),this.handlerType=i[0]},enable:function(){this.disable(),this.timeoutHandle=setTimeout(v.hitch(null,this.triggerHandler,this.name),this.timeoutInSeconds*1e3)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})},y,P),y.exports=A},"mw-statemachine/statemachineimpl/Transition":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"])],A=e.dj.d(C,function(c,v,h){return c([],{constructor:function(n){this.state={},this.target="",this.condition=null,this.action=null,c.safeMixin(this,n)},handleTrigger:function(n,i){let s="";return this.checkCondition(n,i)&&(this.runAction(n,i),s=this.getTarget(n,this.target,i)),s},checkCondition:function(n,i){return this.condition?v.hitch(this.state.context,this.condition).apply(null,[n,this.state.data].concat(i)):!0},runAction:function(n,i){let s;const a=this;this.action&&(s=v.hitch(this.state.context,this.action),s.apply(null,[n,a.state.data].concat(i)))},getTarget:function(n,i,s){let a,d,t,o;if(v.isString(i))d=i;else if(v.isFunction(i))t=v.hitch(this.state.context,i),d=t.apply(null,[n,this.state.data].concat(s));else if(v.isArray(i))for(a=0;a<i.length;a+=1){if(d=this.getTarget(n,i[a],s),v.isString(d)){d={target:d},v.mixin(d,o);break}if(d&&d.target){v.mixin(d,o);break}o=d||{}}else h.warn("Transition: improper target: ",i);return d}})},y,P),y.exports=A},"mw-statemachine/statemachineimpl/Trigger":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"])],A=e.dj.d(C,function(c){return c([],{constructor:function(h){this.name="",this.context={},this.triggerHandler=h.triggerHandler||function(){},c.safeMixin(this,h)},enable:function(){},disable:function(){}})},y,P),y.exports=A},"mw-utils/Utils":(y,P,e)=>{var C,A;C=[e(e.dj.r.absMids["mw-deprecation-utils/deprecation"])],A=e.dj.d(C,function(c){"use strict";var v={};return v.default={generateUuid:function(){return this._uuidFromTemplate("xxxxxxxx").toUpperCase()},generateUUIDv4:function(){return this._uuidFromTemplate("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")},_uuidFromTemplate:function(h){return h.replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l==="x"?n:n&3|8).toString(16)})},isImageData:function(h){return!!h&&typeof window=="object"&&window.ImageData&&h instanceof window.ImageData},isArray:function(h){return c.deprecated({deprecated:{module:"mw-utils/Utils",method:"isArray"},geckNumber:1444368}),Array.isArray(h)},getArrayLength:function(h){let l=0;return Array.isArray(h)?(h.forEach(function(n){n&&(l+=1)}),l):!1},isWhitespace:function(h){return/^\s+$/.test(h)},removeSurroundingNewLines:function(h){for(;h.charAt(0)===`
`;)h=h.substring(1);for(;h.charAt(h.length-1)===`
`;)h=h.substring(0,h.length-1);return h},getFirstUniqueElement:function(h,l){let n=null;return l.some(function(i){return h.indexOf(i)===-1?(n=i,!0):!1}),n},unionOfWordSets:function(h,l,n){h=this._stringToArray(h),l=this._stringToArray(l);const i=this.unionOfArrays(h,l);return n?i.join(" "):i},intersectionOfWordSets:function(h,l,n){h=this._stringToArray(h),l=this._stringToArray(l);const i=this.intersectionOfArrays(h,l);return n?i.join(" "):i},differenceOfWordSets:function(h,l,n){h=this._stringToArray(h),l=this._stringToArray(l);const i=this.unique(this.differenceOfArrays(h,l));return n?i.join(" "):i},unionOfArrays:function(h,l){return this.unique(h.concat(l))},intersectionOfArrays:function(h,l){return this.nonunique(h.concat(l))},differenceOfArrays:function(h,l){if(window.Map===void 0)return this._legacyDifferenceOfArrays(h,l);let n,i,s;const a=new Map,d=[];for(s=0;s<l.length;s++)a.set(l[s],null);for(s=0;s<h.length;s++)i=h[s],n=a.has(i),n||d.push(i);return d},_legacyDifferenceOfArrays:function(h,l){return this.unique(h.filter(function(n){return l.indexOf(n)===-1}))},unique:function(h){return h.filter(function(l,n){return h.indexOf(l)===n})},nonunique:function(h){return this.unique(h.filter(function(l,n){return h.indexOf(l)!==n}))},arrayEquals:function(h,l,n){if(h===l)return!0;if(h.length!==l.length)return!1;n||(n=function(i,s){return i===s});for(let i=0,s=h.length;i<s;i++)if(!n(h[i],l[i]))return!1;return!0},removeEmptyElements:function(h){return h.filter(function(l){return!(l===""||l===null||l===void 0)})},_stringToArray:function(h){return this._isString(h)?this.removeEmptyElements(h.split(" ")):h},_isString:function(h){return typeof h=="string"||h instanceof String}},v.default},y,P),y.exports=A},"onedrive-connection-type-lib/impl/OneDriveConnectionType":(y,P,e)=>{"use strict";var C,A,c=Object.defineProperty,v=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(s,a,d)=>a in s?c(s,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[a]=d,i=(s,a)=>{for(var d in a||(a={}))h.call(a,d)&&n(s,d,a[d]);if(v)for(var d of v(a))l.call(a,d)&&n(s,d,a[d]);return s};C=[e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-mvm/UserMvm"]),e(e.dj.r.absMids["mw-mvm/RunOptions"]),e(e.dj.r.absMids["mw-mvm/WhenToDequeue"]),e(e.dj.r.absMids["mw-oauth-client/OAuthClient"]),e(e.dj.r.absMids["dojo/string"])],A=e.dj.d(C,function(s,a,d,t,o,r){class u{constructor(p){this._settingsService=p.settingsService,this._pathService=p.pathService,this._uiContainer=p.uiContainer,this._mvm=a.getMVM(),this._storageService=this._pathService.storageService,this._oneDriveEnabled=!1,this._oneDrivePath="",this._OAuthClient=p.oAuthClient||new o,this._addedConnections={},this._availableConnections={}}async initialize(p,f,m){if(this._connectionsPanelController=p,this._connectionMetadataTemplate=f,this._connectionsResourceBundle=m,this._storageServiceEnabled=await this._storageService.isEnabled(),this._storageServiceEnabled){const M=await this._storageService.getStorageProfiles();this.updateConnectionsFromStorageService(M),this.populatePanelsUsingConnectionsFromStorageService(M)}else this.populatePanelsUsingDesktopConnections()}async remove(){for(const[p,f]of Object.entries(this._addedConnections))s.info("Connection Type with id: "+p+' was disabled and removed from "My Connections".'),this._connectionsPanelController.myConnectionsStoreController.remove(f);for(const[p,f]of Object.entries(this._availableConnections))s.info("Connection Type with id: "+p+' was disabled and removed from "Available Connections".'),this._connectionsPanelController.availableConnectionsStoreController.remove(f)}async populatePanelsUsingConnectionsFromStorageService(p){for(const f of Object.values(p)){const{tag:m,metadata:{text:M,iconId:S,path:x}}=f,R={text:M,name:M,icon:S,id:M.replace(/ /g,"")};R.actions=[{id:"navigate",text:r.substitute(this._connectionsResourceBundle.navigateTo,[this._connectionMetadataTemplate.text]),icon:"browseFolder",callback:async()=>{await this._pathService.setCwd(x),this._uiContainer.selectPanel("cfb")}},{id:"remove",text:this._connectionsResourceBundle.remove,icon:"delete",callback:()=>{this._storageService.removeStorageDevice(m).then(async F=>{F&&(this._connectionsPanelController.myConnectionsStoreController.remove(R),delete this._addedConnections[R.id],this._connectionsPanelController.availableConnectionsStoreController.add(R),this._availableConnections[R.id]=R,await this.updateConnectionsFromStorageService({key:f}),await this._mvm.eval("cd(userpath)",new d({dequeueMode:t.DEQUEUE_AT_PPE})),await this._pathService.getAccessibleRoots())})}}],R.callback=()=>{this._storageService.addStorageDevice(m).then(async F=>{F&&(this._connectionsPanelController.myConnectionsStoreController.add(R),this._connectionsPanelController.availableConnectionsStoreController.remove(R),this._addedConnections[R.id]=R,delete this._availableConnections[R.id],await this.updateConnectionsFromStorageService({key:f}),await this._pathService.getAccessibleRoots(),this._pathService.setCwd(x))})},f.mounted?(this._connectionsPanelController.myConnectionsStoreController.add(R),this._connectionsPanelController.availableConnectionsStoreController.remove(R),delete this._availableConnections[R.id],this._addedConnections[R.id]=R):(this._connectionsPanelController.availableConnectionsStoreController.add(R),this._availableConnections[R.id]=R)}}async updateConnectionsFromStorageService(p){for(const f of Object.values(p)){const{metadata:{text:m,iconId:M,path:S}}=f;await this._pathService.addDisplayedRoot(S,{properties:{DisplayName:m,IsEnabled:f.mounted,Icon:M},displayedRootLevel:this._pathService.DisplayedRootLevel.TEMPORARY})}}async populatePanelsUsingDesktopConnections(){const p=(await this._mvm.feval("getenv",1,["OneDrive"],new d({dequeueMode:t.DEQUEUE_AT_PPE})))[0];if(p){const f=i({},this._connectionMetadataTemplate);f.actions=[{id:"navigate",text:r.substitute(this._connectionsResourceBundle.navigateTo,[this._connectionMetadataTemplate.text]),icon:"browseFolder",callback:()=>{this._pathService.setCwd(p),this._uiContainer.selectPanel("cfb")}}],f.callback=async()=>{},await this._pathService.addDisplayedRoot(p,{properties:{DisplayName:f.text,IsEnabled:!0,Icon:f.icon},displayedRootLevel:this._pathService.DisplayedRootLevel.TEMPORARY}),this._connectionsPanelController.myConnectionsStoreController.add(f)}this._pathService.getAccessibleRoots()}}return u},y,P),y.exports=A},"onedrive-connection-type-lib/index":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["onedrive-connection-type-lib/impl/OneDriveConnectionType"])],A=e.dj.d(C,function(c){return{initialize:async function(v){return{exports:{oneDriveConnectionType:new c({settingsService:v.settingsService,pathService:v.pathService,uiContainer:v.uiContainer})}}}}},y,P),y.exports=A},"mw-mvm/CapabilitiesList":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/Capability"])],A=e.dj.d(C,function(c){return{capabilityFullList:[c.InteractiveCommandLine,c.Swing,c.ComplexSwing,c.LocalClient,c.WebWindow,c.ModalDialogs,c.Debugging],getFullCapabilitiesList:function(){return this.capabilityFullList.slice()},getCapabilitiesListDiff:function(h,l){var n=h.filter(function(i){return l.indexOf(i)<0});return n}}},y,P),y.exports=A},"mw-mvm/Capability":(y,P,e)=>{"use strict";var C,A;C=[],A=e.dj.d(C,function(){var c={};return c.InteractiveCommandLine="InteractiveCommandLine",c.Swing="Swing",c.ComplexSwing="ComplexSwing",c.LocalClient="LocalClient",c.WebWindow="WebWindow",c.ModalDialogs="ModalDialogs",c.Debugging="Debugging",c},y,P),y.exports=A},"mw-mvm/ExecutionStatus":(y,P,e)=>{"use strict";var C,A;/*!
 * The outcome of executing some M-code.
 */C=[],A=e.dj.d(C,function(){var c={};c.inEXECUTION_SUCCESS="inEXECUTION_SUCCESS";/*! < it worked */c.inCOMPILE_ERROR="inCOMPILE_ERROR";/*! < couldn't parse it */c.inRUNTIME_ERROR="inRUNTIME_ERROR";/*! < parsed it, but it bombed when I ran it */c.inEXECUTION_DBQUIT="inEXECUTION_DBQUIT";/*! < dbquit from code */c.inEXECUTION_CTRLC="inEXECUTION_CTRLC";/*! < user interrupted execution */c.inCOMM_ERROR="inCOMM_ERROR";/*! communication error (e.g., connection closed) -- can happen only when
* using MATLAB as a compute server through an IPC protocol like MIPC */return c.inEXECUTION_STATUS_MAX="inEXECUTION_STATUS_MAX",c},y,P),y.exports=A},"mw-mvm/RunOptions":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/CapabilitiesList"]),e(e.dj.r.absMids["mw-mvm/WhenToDequeue"])],A=e.dj.d(C,function(c,v,h){return c(null,{constructor:function(n){typeof n!="object"?this._timeout=n:(this._timeout=n.timeout,this.dequeueMode=n.dequeueMode,this.queueName=n.queueName,this.disableBreakPoints=n.disableBreakpoints,n.capabilitiesList!==void 0&&(this.capabilitiesList=n.capabilitiesList.slice()),n.groupNames!==void 0&&(this.groupNames=n.groupNames.slice()),n.outTextCallback!==void 0&&this.setOutTextCallback(n.outTextCallback),n.errTextCallback!==void 0&&this.setErrTextCallback(n.errTextCallback),n.suppressDebugControlOutput!==void 0&&(this.suppressDebugControlOutput=n.suppressDebugControlOutput),n.outSinkTraits&&(this.outSinkTraits=n.outSinkTraits),n.errSinkTraits&&(this.errSinkTraits=n.errSinkTraits),n.commandWindowColSize&&(this.commandWindowColSize=n.commandWindowColSize),n.commandWindowRowSize&&(this.commandWindowRowSize=n.commandWindowRowSize)),this.eventNames=[],this._eventCallbackMap={}},getTimeOut:function(){return this._timeout},setTimeOut:function(n){this.timeout=n},setDequeueMode:function(n){this.dequeueMode=n},getDequeueMode:function(){return this.dequeueMode},setQueueName:function(n){this.queueName=n},getQueueName:function(){return this.queueName},disableBreakpoints:function(n){this.disableBreakPoints=n},areBreakPointsDisabled:function(){return this.disableBreakPoints},setCallback:function(n,i){this.eventNames.push(n),this._eventCallbackMap[n]=i},getEventCallbacks:function(){return this._eventCallbackMap},getCapabilitiesList:function(){if(this.capabilitiesList!==void 0)return this.capabilitiesList.slice()},setCapabilities:function(n){n?this.capabilitiesList=n.slice():this.capabilitiesList=[]},getGroupNames:function(){if(this.groupNames!==void 0)return this.groupNames.slice()},setGroupNames:function(n){n?this.groupNames=n.slice():this.groupNames=void 0},getCommandWindowColSize:function(){return this.commandWindowColSize},setCommandWindowColSize:function(n){this.commandWindowColSize=n},getCommandWindowRowSize:function(){return this.commandWindowRowSize},setCommandWindowRowSize:function(n){this.commandWindowRowSize=n},setOutTextCallback:function(n,i){this.outSink=n,this.outSinkTraits=i,this.outSink===null?this.useNullOutSink=!0:this.useNullOutSink=!1},setErrTextCallback:function(n,i){this.errSink=n,this.errSinkTraits=i,this.errSink===null?this.useNullErrSink=!0:this.useNullErrSink=!1},getOutTextCallback:function(){if(this.outSink!==void 0)return this.outSink},getErrTextCallback:function(){if(this.errSink!==void 0)return this.errSink},setSuppressDebugControlOutput:function(n){this.suppressDebugControlOutput=n},getSuppressDebugControlOutput:function(){return this.suppressDebugControlOutput},getOutSinkTraits:function(){return this.outSinkTraits},getErrSinkTraits:function(){return this.errSinkTraits},_serializeAndVerifyRunOptions:function(){var n={},i={};if(this.dequeueMode){var s=Object.keys(h).some(function(r){return h[r]===this.dequeueMode}.bind(this));if(!s)return n.error="Unknown Dequeue Mode "+this.dequeueMode,n;i.dequeueMode=this.dequeueMode}if(this.queueName)if(typeof this.queueName=="string"||this.queueName instanceof String)i.queueName=this.queueName;else return n.error="Invalid QueueName",n;if(this.capabilitiesList!==void 0){if(Array.isArray(this.capabilitiesList)){var a=v.getFullCapabilitiesList(),d=this.capabilitiesList.some(function(r){return a.indexOf(r)===-1});if(d)return n.error="Undefined Capability",n}else return n.error="Invalid Capability",n;i.capabilitiesList=this.capabilitiesList.slice()}if(this.outSink!==void 0&&(this.outSink===null?i.useNullOutSink=!0:typeof this.outSink=="function"||this.outSink instanceof Function?i.useNullOutSink=!1:n.error="Invalid outTextCallback"),this.errSink!==void 0&&(this.errSink===null?i.useNullErrSink=!0:typeof this.errSink=="function"||this.errSink instanceof Function?i.useNullErrSink=!1:n.error="Invalid errTextCallback"),this.groupNames!==void 0)if(Array.isArray(this.groupNames)){var t=this.groupNames.every(function(r){return typeof r=="string"||r instanceof String});if(t===!1)return n.error="Invalid groupNames",n;i.groupNames=this.groupNames.slice()}else return n.error="Invalid groupNames",n;if(this._eventCallbackMap!==void 0){var o=Object.keys(this._eventCallbackMap).every(function(r){return typeof this._eventCallbackMap[r]=="function"||this._eventCallbackMap[r]instanceof Function}.bind(this));if(o===!1)return n.error="Invalid setCallback",n}if(this.suppressDebugControlOutput)if(typeof this.suppressDebugControlOutput=="boolean"||this.suppressDebugControlOutput instanceof Boolean)i.suppressDebugControlOutput=this.suppressDebugControlOutput;else return n.error="Invalid suppressDebugControlOutput",n;if(this.errSinkTraits!==void 0&&(i.errSinkTraits=this.errSinkTraits),this.outSinkTraits!==void 0&&(i.outSinkTraits=this.outSinkTraits),this.commandWindowColSize!==void 0)if((typeof this.commandWindowColSize=="number"||this.commandWindowColSize instanceof Number)&&this.commandWindowColSize>=0&&Number.isInteger(this.commandWindowColSize))i.commandWindowColSize=this.commandWindowColSize;else return n.error="Invalid commandWindowColSize",n;if(this.commandWindowRowSize!==void 0)if((typeof this.commandWindowRowSize=="number"||this.commandWindowRowSize instanceof Number)&&this.commandWindowRowSize>=0&&Number.isInteger(this.commandWindowRowSize))i.commandWindowRowSize=this.commandWindowRowSize;else return n.error="Invalid commandWindowRowSize",n;return n.runOptions=i,n}})},y,P),y.exports=A},"mw-mvm/UserMvm":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/impl/MVM"])],A=e.dj.d(C,function(c){return{getMVM:function(){return c.get("user-mvm")}}},y,P),y.exports=A},"mw-mvm/WhenToDequeue":(y,P,e)=>{"use strict";var C,A;C=[],A=e.dj.d(C,function(){let c={};return c.DEQUEUE_AT_PPE="DEQUEUE_AT_PPE",c.DEQUEUE_AT_PAUSE="DEQUEUE_AT_PAUSE",c.DEQUEUE_AT_PROMPT="DEQUEUE_AT_PROMPT",c.DEQUEUE_AT_NON_DEBUG_PROMPT="DEQUEUE_AT_NON_DEBUG_PROMPT",c.DEQUEUE_AT_DEBUG_PROMPT="DEQUEUE_AT_DEBUG_PROMPT",c.DEQUEUE_AT_IDLE="DEQUEUE_AT_IDLE",c.DEQUEUE_AT_BOOTSTRAP="DEQUEUE_AT_BOOTSTRAP",c},y,P),y.exports=A},"mw-mvm/impl/AttachDetach":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/ConnectionData"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],A=e.dj.d(C,function(c,v,h){return c(null,{constructor:function(l,n,i){const s={mvmID:n,supportedApiVersions:["r25a0"]},a=new v(l,Promise.resolve("/mvm"),i);this._attachConnection=new h(a,"attach"),this._detachConnection=new h(a,"detach"),this._attachPromise=this._attachConnection.makeRequest(s).then(function(t){this._apiVersion=t.apiVersion,this._channelPrefix=t.channelPrefix}.bind(this)),this._attachRequestID=s.requestID;const d=new v(l,this.getChannelPrefix(),i);this._stillAliveConnection=new h(d,"connection"),this._stillAliveConnection.subscribe("stillAlive","_stillAlive",this).catch(function(t){this.getChannelPrefix().then(function(){throw t},function(o){if(o!==t)throw t})}.bind(this))},destroy:function(){const l={requestIDtoDetach:this._attachRequestID};this._detachConnection.makeRequest(l).finally(function(){this._attachConnection.destroy(),this._detachConnection.destroy(),this._stillAliveConnection.destroy()}.bind(this))},getAPIVersion:function(){return this._attachPromise.then(function(){return this._apiVersion}.bind(this))},getChannelPrefix:function(){return this._attachPromise.then(function(){return this._channelPrefix}.bind(this))},_stillAlive:function(){}})},y,P),y.exports=A},"mw-mvm/impl/Bang":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],A=e.dj.d(C,function(c){return class{constructor(h){this._mvm=h}process(h){return this._mvm.feval("matlab.internal.singlekeypress.bang.process",0,[h],new c({queueName:"SingleKeyPress"}))}}},y,P),y.exports=A},"mw-mvm/impl/Connection":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"])],A=e.dj.d(C,function(c){return c(null,{constructor:function(v,h,l){this._subscriptionPromise=v,this._subscriptionPromise.catch(function(){}),this._uId=h,this._eventMgr=l},destroy:function(){this.disconnect()},isValid:function(){return this._eventMgr._isConnected(this._uId)?this._subscriptionPromise:Promise.reject("Disconnected")},disconnect:function(){return this._eventMgr._disconnect(this._uId)}})},y,P),y.exports=A},"mw-mvm/impl/ConnectionData":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-log/Log"])],A=e.dj.d(C,function(c){return class{constructor(h,l,n){c.assert(h!==void 0,"messageService must be defined"),c.assert(l!==void 0,"channelPrefixPromise must be defined"),c.assert(l.then!==void 0,"channelPrefixPromise must be a promise"),c.assert(n!==void 0,"requestQueue must be defined"),this._messageService=h,this._channelPrefixPromise=l,this._requestQueue=n}onChannelPrefix(){return this._channelPrefixPromise}queueRequest(h,l,n){this._requestQueue.queueRequest(h.concat(this._channelPrefixPromise),l,n,window)}getMessageService(){return this._messageService}}},y,P),y.exports=A},"mw-mvm/impl/Debugger":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],A=e.dj.d(C,function(c,v){return c(null,{constructor:function(h){this._setGlobalBreakpointConnection=new v(h,"setGlobalBreakpoint"),this._clearGlobalBreakpointConnection=new v(h,"clearGlobalBreakpoint"),this._setLineBreakpointConnection=new v(h,"setLineBreakpoint"),this._clearLineBreakpointConnection=new v(h,"clearLineBreakpoint"),this._clearAllBreakpointsConnection=new v(h,"clearAllBreakpoints"),this._breakInDebuggerConnection=new v(h,"breakInDebugger")},setLineBreakpoint:function(h){const l={breakpoint:h};return this._setLineBreakpointConnection.makeRequest(l)},setGlobalBreakpoint:function(h){const l={breakpoint:h};return this._setGlobalBreakpointConnection.makeRequest(l)},clearLineBreakpoint:function(h){const l={breakpoint:h};return this._clearLineBreakpointConnection.makeRequest(l)},clearGlobalBreakpoint:function(h){const l={breakpoint:h};return this._clearGlobalBreakpointConnection.makeRequest(l)},clearAllBreakpoints:function(){const h={};return this._clearAllBreakpointsConnection.makeRequest(h)},breakInDebugger:function(){const h={};this._breakInDebuggerConnection.makeRequest(h)},destroy:function(){this._setGlobalBreakpointConnection.destroy(),this._clearGlobalBreakpointConnection.destroy(),this._setLineBreakpointConnection.destroy(),this._clearLineBreakpointConnection.destroy(),this._clearAllBreakpointsConnection.destroy(),this._breakInDebuggerConnection.destroy()}})},y,P),y.exports=A},"mw-mvm/impl/EvalFevalCancel":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"]),e(e.dj.r.absMids["mw-mvm/impl/MVMPromise"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"])],A=e.dj.d(C,function(c,v,h,l){return c(null,{constructor:function(n,i){this._fevalConnection=new v(n,"feval"),this._evalConnection=new v(n,"eval"),this._cancelConnection=new v(n,"cancel"),this._cancelGroupConnection=new v(n,"cancelGroup"),this._interruptConnection=new v(n,"interrupt"),this._textConnection=new v(n,"text"),this._textConnection.subscribe("output","_handleOutput",this).catch(function(s){}),this._textConnection.subscribe("error","_handleError",this).catch(function(s){}),this._eventMgr=i,this._outSinkMap={},this._errSinkMap={}},feval:function(n,i,s,a,d){if(!this._isStringValid(n))return this._makeRejectedPromise("Invalid function name.");if(i==null||!(typeof i=="number"||i instanceof Number)||i<0)return this._makeRejectedPromise("Invalid numberOfOutput.");let t=[];if(s!==void 0){if(!Array.isArray(s))return this._makeRejectedPromise("Invalid inputArgs");t=s.map(function(r){return JSON.stringify(r)})}if(d!==void 0&&(!this._isStringValid(d)||!(d==="preferMDAShort"||d==="alwaysMDALong")))return this._makeRejectedPromise("Invalid MDA Output Format.");const o={function:n,rhsArgs:t,numOutputsExpected:i};return d!==void 0&&(o.mdaOutputFormat=d),this._commonEvalFevalImpl(a,o,this._fevalConnection)},eval:function(n,i,s){if(!this._isStringValid(n))return this._makeRejectedPromise("Invalid string");const a={command:n,isUserEval:s};return this._commonEvalFevalImpl(i,a,this._evalConnection)},cancelGroup:function(n,i){const s={requestGroupNametoCancel:n};return i!==void 0&&(s.interrupt=i),this._cancelGroupConnection.makeRequest(s)},interrupt:function(){const n={};return this._interruptConnection.makeRequest(n)},_getOutSink:function(n){if(n in this._outSinkMap)return this._outSinkMap[n]},_getErrSink:function(n){if(n in this._errSinkMap)return this._errSinkMap[n]},_makeRejectedPromise:function(n){const i=h.makeControlObject(),s=new h(i);return i.reject(new l("inCOMPILE_ERROR",n,1)),s},destroy:function(){this._fevalConnection.destroy(),this._evalConnection.destroy(),this._textConnection.destroy();const n=!1;this._cancelConnection.destroy(n),this._cancelGroupConnection.destroy(n),this._interruptConnection.destroy(!1)},_commonEvalFevalImpl:function(n,i,s){const a=h.makeControlObject();let d;const t=new h(a,function(g){return d?this._makeCancelRequest(d,g):Promise.reject(new l("inCOMM_ERROR","missing requestID"))}.bind(this));let o,r;if(n){if(r=n._serializeAndVerifyRunOptions(),r.error)return a.reject(new l("inCOMPILE_ERROR",r.error,1)),t;r.runOptions.eventConnections=this._prepareRunOptionEvents(n,t),o=n.getTimeOut()}i.runOptions=r?r.runOptions:void 0;const u=s.makeRequest(i,o,this._makeCancelRequest.bind(this));return d=i.requestID,n&&(this._outSinkMap[d]=n.getOutTextCallback(),this._errSinkMap[d]=n.getErrTextCallback()),u.then(function(g){g&&g.result?a.resolve(g.result):a.resolve()},function(g){a.reject(g)}).finally(function(){d in this._outSinkMap&&delete this._outSinkMap[d],d in this._errSinkMap&&delete this._errSinkMap[d]}.bind(this)),t},_handleOutput:function(n){const i=n.data,s=this._getOutSink(i.requestID);s&&s(i.text)},_handleError:function(n){const i=n.data,s=this._getErrSink(i.requestID);s&&s(i.text)},_makeCancelRequest:function(n,i){if(n===void 0)return this._makeRejectedPromise("Empty requestIDtoCancel");const s={requestIDtoCancel:n};return i!==void 0&&(s.interrupt=i),this._cancelConnection.makeRequest(s)},_prepareRunOptionEvents:function(n,i){const s=n.getEventCallbacks(),a={};return s!==void 0&&Object.keys(s).forEach(function(d){const t=s[d],o=function(u){Promise.resolve().then(function(){}).then(function(){t(u)})},r=this._eventMgr._runOptionsSubscribe(d,o);a[r._uId]=d,i.catch(function(){}).finally(function(){r.destroy()})}.bind(this)),a},_isStringValid:function(n){return n!=null&&(typeof n=="string"||n instanceof String)}})},y,P),y.exports=A},"mw-mvm/impl/EventManager":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/Connection"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-utils/Utils"])],A=e.dj.d(C,function(c,v,h,l,n){return c(null,{constructor:function(i){this._subscribeConnection=new h(i,"subscribeEvent"),this._disconnectConnection=new h(i,"disconnectEvent"),this._eventConnection=new h(i,"event"),this._eventConnection.subscribe("fireEvent","_handleEvent",this).catch(function(s){i.onChannelPrefix().then(function(){throw s},function(a){if(a!==s)throw s})}),this._callbackMap={}},subscribe:function(i,s){if(i===void 0)return new v(Promise.reject(new Error("eventName is not defined")),"invalid",this);const a={eventName:i},d=this._subscribeConnection.makeRequest(a);return this._subscribeHelper(a.requestID,s,d)},destroy:function(){for(const s in this._callbackMap)this._disconnect(s);this._eventConnection.destroy(),this._subscribeConnection.destroy(),this._disconnectConnection.destroy(!1)},_disconnect:function(i){if(!this._isConnected(i))return Promise.resolve();this._callbackMap[i]=function(){};const s={requestIDtoDisconnect:i};return this._disconnectConnection.makeRequest(s).then(function(){delete this._callbackMap[i]}.bind(this),function(d){throw delete this._callbackMap[i],d}.bind(this))},_runOptionsSubscribe:function(i,s){const a=n.generateUuid();return this._subscribeHelper(a,s,Promise.resolve())},_subscribeHelper:function(i,s,a){return this._callbackMap[i]=s,new v(a,i,this)},_handleEvent:function(i){const s=i.data;if(!this._isConnected(s.requestID))return;const a=this._callbackMap[s.requestID];a(s.eventData)},_isConnected:function(i){return i in this._callbackMap}})},y,P),y.exports=A},"mw-mvm/impl/MVM":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/MessageService"]),e(e.dj.r.absMids["mw-utils/Utils"]),e(e.dj.r.absMids["mw-mvm/impl/AttachDetach"]),e(e.dj.r.absMids["mw-mvm/impl/ConnectionData"]),e(e.dj.r.absMids["mw-mvm/impl/Debugger"]),e(e.dj.r.absMids["mw-mvm/impl/EvalFevalCancel"]),e(e.dj.r.absMids["mw-mvm/impl/EventManager"]),e(e.dj.r.absMids["mw-mvm/impl/MVMSink"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-fctrl/Features"]),e(e.dj.r.absMids["mw-mvm/impl/More"]),e(e.dj.r.absMids["mw-mvm/impl/Pause"]),e(e.dj.r.absMids["mw-mvm/impl/Bang"]),e(e.dj.r.absMids["mw-mvm/impl/RootWindowContainer"]),e(e.dj.r.absMids["mw-mvm/impl/RequestQueue"])],A=e.dj.d(C,function(c,v,h,l,n,i,s,a,d,t,o,r,u,g,p,f,m){const M=f.getGlobalMVMVariable,S=f.releaseGlobalMVMVariable,x=c(null,{constructor:function(F,T,j){v.assert(F==="user-mvm","Only user-mvm is supported at this time"),h.isStarted()||h.start(),this._MVMid=F,this._destroyCallback=T,this._refCount=0,this._attach=new n(h,this._MVMid,j.requestQueue);const E=new i(h,this._attach.getChannelPrefix(),j.requestQueue);this._mvmSink=new t(E),this._eventManager=new d(E),this._evalFevalCancel=new a(E,this._eventManager),this._outputCallback={},this._errorCallback={},this._debugger=new s(E),this._errSinkTraits={},this._outSinkTraits={},this._features=new r(this._MVMid)},feval:function(R,F,T,j,E){return this._evalFevalCancel.feval(R,F,T,j,E)},eval:function(R,F,T){return this._evalFevalCancel.eval(R,F,T)},cancelGroup:function(R,F){return this._evalFevalCancel.cancelGroup(R,F)},interrupt:function(){return this._evalFevalCancel.interrupt()},destroy:function(){--this._refCount,!(this._refCount>0)&&(this._features&&this._features.destroy(),this._evalFevalCancel&&this._evalFevalCancel.destroy(),this._eventManager&&this._eventManager.destroy(),this._debugger&&this._debugger.destroy(),this._mvmSink&&this._mvmSink.destroy(),this._attach&&this._attach.destroy(),S(),this._destroyCallback())},getFeatures:function(){return this._features},whenMVMReady:function(){return this._attach.getChannelPrefix().then(function(){},function(R){throw new Error("MVM rejected connection")})},setTextCallbacks:function(R){return this._mvmSink.setSinks(R.outputCallback,R.errorCallback,R.outSinkTraits,R.errSinkTraits)},getEventManager:function(){return this._eventManager},getDebugger:function(){return this._debugger},getMore:function(){return this._more===void 0&&(this._more=new u(this)),this._more},getPause:function(){return this._pause===void 0&&(this._pause=new g(this)),this._pause},getBang:function(){return this._bang===void 0&&(this._bang=new p(this)),this._bang}});return{get:function(R){let F=this._mvmMap[R];if(F===void 0){const T=M(R);F=new x(R,function(){delete this._mvmMap[R]}.bind(this),T),this._mvmMap[R]=F}return++F._refCount,F},_mvmMap:{}}},y,P),y.exports=A},"mw-mvm/impl/MVMConnection":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-mvm/ExecutionStatus"]),e(e.dj.r.absMids["mw-utils/Utils"])],A=e.dj.d(C,function(c,v,h,l,n){const i=function(){let s,a;return{promise:new Promise(function(t,o){s=t,a=o}),resolve:s,reject:a}};return c(null,{constructor:function(s,a){h.assert(s!==void 0,"connectionData must be defined"),h.assert(a!==void 0,"channelPostfix must be defined"),this._subscriptionPromises=[],this._subscribeArgs=[],this._requestPromiseMap={},this._connectionData=s,this._connectionData.onChannelPrefix().then(function(d){this._channelPrefix=d+"/"+a,this._requestChannel=this._channelPrefix+"/request"}.bind(this),function(d){}),this._subscribeImpl("response","_handleResponse",this).catch(function(d){}),this._cancelPendingSubscriptions=!1},subscribe:function(s,a,d){const t=function(o){Promise.resolve(o).then(function(r){d?d[a](r):a(r)})};return this._subscribeImpl(s,t)},makeRequest:function(s,a,d){const t=n.generateUuid(),o=function(){t in this._requestPromiseMap&&delete this._requestPromiseMap[t]}.bind(this),r=i();let u=r.promise.then(function(g){return o(),g},function(g){throw o(),g});if(this._requestPromiseMap[t]={resolve:r.resolve,reject:r.reject},s.requestID=t,this._connectionData.queueRequest(this._subscriptionPromises,function(){this._connectionData.getMessageService().publish(this._requestChannel,s).catch(function(g){r.reject(new v(l.inCOMM_ERROR,g))})}.bind(this),function(g){r.reject(new v(l.inCOMM_ERROR,g))}),a!==void 0){const g=setTimeout(this._handleTimeout.bind(this,t,d),a);u=u.finally(function(){clearTimeout(g)})}return u},destroy:function(s){if(s===void 0&&(s=!0),s)for(const a in this._requestPromiseMap)this._requestPromiseMap[a].reject(new v(l.inCOMM_ERROR,"mvm is being destroyed"));for(this._cancelPendingSubscriptions=!0;this._subscribeArgs.length>0;){const a=this._subscribeArgs.shift();this._connectionData.getMessageService().unsubscribe(...a).then(function(){},function(t){})}},_subscribeImpl:function(s,a,d){const t=i();return this._subscriptionPromises.push(t.promise),this._connectionData.onChannelPrefix().then(async function(){if(this._cancelPendingSubscriptions){t.resolve();return}let o;d?o=[this._channelPrefix+"/"+s,a,d]:o=[this._channelPrefix+"/"+s,a],this._subscribeArgs.push(o);try{await this._connectionData.getMessageService().subscribe(...o),t.resolve()}catch(r){t.reject(new v(l.inCOMM_ERROR,r))}}.bind(this),function(o){t.reject(o)}),t.promise},_handleTimeout:function(s,a){if(s in this._requestPromiseMap){const d=this._requestPromiseMap[s];delete this._requestPromiseMap[s],d.reject(new v(l.inCOMM_ERROR,"Canceled because of timeout"))}a!==void 0&&a(s,!0)},_handleResponse:function(s){const a=s.data;if(a.requestID in this._requestPromiseMap)if(a.error===void 0)this._requestPromiseMap[a.requestID].resolve(a);else{const d=new v(a.error.status,a.error.msg,a.error.id,a.error.functionName,a.error.frames,a.error.causes);this._requestPromiseMap[a.requestID].reject(d)}}})},y,P),y.exports=A},"mw-mvm/impl/MVMPromise":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-mvm/ExecutionStatus"])],A=e.dj.d(C,function(c,v){return class extends Promise{static makeControlObject(){return{resolve:void 0,reject:void 0}}constructor(l,n){super(function(i,s){l.resolve=i,l.reject=function(a){if(!a.isRuntimeException||!a.isRuntimeException())throw console.error(`Reject should be called with RuntimeException object. Stack Trace: 
`),console.trace(),new c(v.inCOMM_ERROR,"Attemptted to reject non-RuntimeException error with message:"+a.msg,a.id,a.functionName,a.frames,a.causes);s(a)}}),this._cancel=n,this._cancel===void 0&&(this.cancel=void 0)}cancel(l){return l===void 0&&(l=!1),this._cancel(l)}static get[Symbol.species](){return Promise}}},y,P),y.exports=A},"mw-mvm/impl/MVMSink":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],A=e.dj.d(C,function(c){return class{constructor(h){this._mvmSinkConnection=new c(h,"mvmSinks"),this._mvmSinkConnection.subscribe("output","_handleOutput",this).catch(function(l){h.onChannelPrefix().then(function(){throw l},function(n){if(n!==l)throw l})})}setSinks(h,l,n,i){this._outCallback=h,this._errCallback=l,h===null&&!(h instanceof Function)&&(n=null),l===null&&!(l instanceof Function)&&(i=null);const s={outSinkTraits:n,errSinkTraits:i};return this._mvmSinkConnection.makeRequest(s)}destroy(){this._mvmSinkConnection.destroy()}_handleOutput(h){const l=h.data;switch(l.stream){case 0:typeof this._outCallback=="function"&&this._outCallback(l.text);break;case 1:typeof this._errCallback=="function"&&this._errCallback(l.text);break;default:}}}},y,P),y.exports=A},"mw-mvm/impl/More":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],A=e.dj.d(C,function(c){return class{constructor(h){this._mvm=h}_fevalHelper(h,l){const n=new c({queueName:"SingleKeyPress"});return l&&n.setGroupNames(l),this._mvm.feval(h,0,[],n)}nextPage(h){return this._fevalHelper("matlab.internal.singlekeypress.more.nextpage",h)}nextLine(h){return this._fevalHelper("matlab.internal.singlekeypress.more.nextline",h)}quit(h){return this._fevalHelper("matlab.internal.singlekeypress.more.quit",h)}}},y,P),y.exports=A},"mw-mvm/impl/Pause":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],A=e.dj.d(C,function(c){return class{constructor(h){this._mvm=h}resume(){return this._mvm.feval("matlab.internal.singlekeypress.pause.resume",0,[],new c({queueName:"SingleKeyPress"}))}}},y,P),y.exports=A},"mw-mvm/impl/RequestQueue":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-mvm/ExecutionStatus"]),e(e.dj.r.absMids["mw-utils/Utils"])],A=e.dj.d(C,function(c,v,h,l){return class{constructor(){this._promiseChain=Promise.resolve(),this._windowOpenPromises={}}queueRequest(i,s,a,d){const t=this._allSettledPromiseHelper(i,function(){},function(u){throw u},"Error from requestPromise: ");let o=t;const r=this._getOrMakeWindowPromise(d);r!==void 0&&(o=Promise.race([t,r])),this._promiseChain=this._allSettledPromiseHelper([this._promiseChain,o],s,a,"Error from cancellableRequestPromise: ")}_getOrMakeWindowPromise(i){if(i===window)return;const s="mvmRequestQueueWindowId";s in i||(i[s]=l.generateUuid());const a=i[s];if(!(a in this._windowOpenPromises)){let d;this._windowOpenPromises[a]=new Promise(function(t,o){d=function(){const r="Window "+a+" was closed with MVM promises pending. Rejecting them.";c.log(r),o(r),delete this._windowOpenPromises[a],delete i[s]}.bind(this)}.bind(this)),i.addEventListener("pagehide",d)}return this._windowOpenPromises[a]}_allSettledPromiseHelper(i,s,a,d){return Promise.allSettled(i).then(function(t){const o=[];let r=!1;t.forEach(function(u){u.status==="rejected"&&(r=!0,u.reason&&o.push(JSON.stringify(u.reason)))}),r?a(new v(h.inCOMM_ERROR,d+o.join(", "))):s()})}}},y,P),y.exports=A},"mw-mvm/impl/RootWindowContainer":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["mw-mvm/impl/RequestQueue"])],A=e.dj.d(C,function(c){let v;const h=()=>{if(v)return v;{let s=window;for(;s.opener&&s.opener!==s;)s=s.opener;return v=s,v}};return{_getRootWindow:h,getGlobalMVMVariable:s=>{const a=h();if(a._RootWindowContainer)a._RootWindowContainer.refCount++;else{const d=new c;a._RootWindowContainer={requestQueue:d,refCount:1}}return{requestQueue:a._RootWindowContainer.requestQueue}},releaseGlobalMVMVariable:()=>{const s=h();s._RootWindowContainer&&s._RootWindowContainer.refCount>0&&s._RootWindowContainer.refCount--,s._RootWindowContainer&&s._RootWindowContainer.refCount===0&&delete s._RootWindowContainer},cleanUpGlobalResources:()=>{const s=h();s._RootWindowContainer&&delete s._RootWindowContainer}}},y,P),y.exports=A},"mw-mvm/impl/RuntimeException":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/StackFrame"])],A=e.dj.d(C,function(c,v){const h=c(null,{constructor:function(n,i,s,a,d,t){this._status=n,this._msg=i,this._id=s,this._functionName=a,this._frames=[],this._causes=[],d&&d.forEach(function(o){this._frames.push(new v(o.file,o.func,o.line))},this),t&&t.forEach(function(o){this._causes.push(new h(o.status,o.msg,o.id,o.functionName,o.frames,o.causes))},this)},getID:function(){return this._id},getMsg:function(){return this._msg},getExecutionStatus:function(){return this._status},getFunctionName:function(){return this._functionName},getStackFrames:function(){return this._frames},getCauses:function(){return this._causes},isRuntimeException:function(){return!0}});return h},y,P),y.exports=A},"mw-mvm/impl/StackFrame":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"])],A=e.dj.d(C,function(c){return c(null,{constructor:function(h,l,n){this._file=h,this._func=l,this._line=n},getFileName:function(){return this._file},getFunctionName:function(){return this._func},getLineNumber:function(){return this._line}})},y,P),y.exports=A},"mw-fctrl/Features":(y,P,e)=>{"use strict";var C,A;C=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/MessageService"]),e(e.dj.r.absMids["mw-utils/Utils"])],A=e.dj.d(C,function(c,v,h,l,n){return c(null,{_channels:{ADDCB:"/fctrl/addcb",ADDCB_RESPONSE:"/fctrl/response/addcb",RMCB:"/fctrl/rmcb",RMCB_RESPONSE:"/fctrl/response/rmcb",SET:"/fctrl/set",SET_RESPONSE:"/fctrl/response/set"},constructor:function(i=""){l.isStarted()||l.start(),this._mvmID=i,this._uuid=n.generateUuid(),this._counter=0,this._cache={},this._responses={},l.subscribe(this._channels.ADDCB_RESPONSE,"_fctrlCbResponse",this),l.subscribe(this._channels.SET_RESPONSE,"_fctrlSetResponse",this)},destroy:function(){Object.values(this._cache).forEach(i=>{i.destroy()})},getFeature:function(i){const s=new v,a=this._getCache(i),d=this;return a.deferred.then(function(t){s.resolve(d._clone(a.current.value))},function(t){s.reject(d._clone(t.error))}),s},setFeature:function(i,s){const a=new v,d=this._getCache(i),t=this._nextid(),o={id:t,mvm:this._mvmID,name:i,value:s},r=this;return d.deferred.then(function(u){r._responses[t]=function(g){Object.prototype.hasOwnProperty.call(g.data,"error")?a.reject(g.data):a.resolve(g.data)},h.info("assigning feature: "+i+" = "+s),l.publish(r._channels.SET,o)},function(u){a.reject(r._clone(u.error))}),a},addCallback:function(i,s){const a=this._nextid(),d=new v,t=this,o=this._getCache(i);o.deferred.then(function(u){const g=function(){const p={name:t._clone(i),value:t._clone(o.current.value)};s(p)};o.callbacks[a]=g,g()},function(u){d.reject(t._clone(u.error))});const r=c(null,{constructor:function(u){this._func=u},destroy:function(){this._func()},disconnect:function(){const u=this._func;this._func=function(){},u()}});return new r(function(){delete o.callbacks[a]})},_nextid:function(){return++this._counter,JSON.stringify({uuid:this._uuid,counter:this._counter})},_getCache:function(i){if(!Object.prototype.hasOwnProperty.call(this._cache,i)){h.info("accessing feature: "+i);const s=this._nextid(),a=new v,d=this,t={id:s,name:i,mvm:this._mvmID},o={deferred:a,current:void 0,callbacks:{},destroy:function(){l.publish(d._channels.RMCB,t)}};this._cache[i]=o,this._responses[s]=function(r){o.current=r.data,h.info(r.data),h.assert(Object.prototype.hasOwnProperty.call(r.data,"value")||Object.prototype.hasOwnProperty.call(r.data,"error"),"msg.data: "+JSON.stringify(r.data)),a.isFulfilled()||(Object.prototype.hasOwnProperty.call(r.data,"error")?a.reject(r.data):a.resolve(o)),Object.prototype.hasOwnProperty.call(o.current,"value")&&Object.values(o.callbacks).forEach(g=>{g()})},l.publish(this._channels.ADDCB,t)}return this._cache[i]},_fctrlCbResponse:function(i){const s=i.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,s)){const a=this._responses[s];a(i)}},_fctrlSetResponse:function(i){const s=i.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,s)){const a=this._responses[s];delete this._responses[s],a(i)}},_clone:function(i){if(i==null||typeof i!="object")return i;{const s={};return Object.entries(i).forEach(a=>{const[d,t]=a;s[d]=this._clone(t)}),s}}})},y,P),y.exports=A},645:(y,P,e)=>{y.exports=e}},y=>{var P=C=>y(y.s=C),e=P(645)}]);
